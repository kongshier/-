> âœ¨ä½œè€…ï¼šçŒ«åäºŒæ‡¿
>
> â¤ï¸â€ğŸ”¥è´¦å·ï¼š[CSDN](https://blog.csdn.net/qq_56098191) ã€[æ˜é‡‘](https://juejin.cn/user/3320978695270526) ã€[ä¸ªäººåšå®¢](https://kongshier.github.io/) ã€[Github](https://github.com/kongshier) 
>
> ğŸ‰å…¬ä¼—å·ï¼šçŒ«åäºŒæ‡¿



# TypeScriptåŸºç¡€ç¬”è®°

å°æ»¡ [å­¦ä¹ è§†é¢‘](https://www.bilibili.com/video/BV1wR4y1377K/)



# åŸºç¡€ç±»å‹

> æˆ‘è®¤ä¸ºè¿™ä¸ªTypeScriptè·ŸCè¯­è¨€
>
> æ˜¯å¾ˆåƒçš„ï¼Œå¯¹è¯­è¨€çš„å®šä¹‰éƒ½æœ‰ä¸¥æ ¼çš„è§„èŒƒã€‚

```typescript
let str:string = "è¿™æ˜¯å­—ç¬¦ä¸²ç±»å‹"
//ä¸Šæ–¹æˆ‘ä»¬å°†strè¿™ä¸ªå˜é‡å®šä¹‰ä¸ºäº†stringç±»å‹ï¼Œå¦‚æœå¯¹ä»–è¾“å…¥å…¶ä»–ç±»å‹çš„å†…å®¹å°±ä¼šæŠ¥é”™ï¼Œä¾‹å¦‚ï¼š

let str:string = 666
//è¿™ä¸ªå°±ä¼šæŠ¥é”™äº†ï¼Œä¼šæç¤ºä½ ä¸èƒ½å°†ç±»å‹"number"åˆ†é…ç»™ç±»å‹"string"

let muban:string = `web${str}`
//æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ES6ä¸­çš„æ¨¡æ¿å­—ç¬¦ä¸²

let u:void = undefined
let u:void = null
//ç©ºå€¼ç±»å‹èƒ½å¤Ÿæœ‰è¿™ä¸¤ç§å†…å®¹ã€‚voidçš„å†…å®¹ä¹Ÿæ˜¯ä¸èƒ½å»èµ‹å€¼ç»™åˆ«äººçš„
//æŸç§ç¨‹åº¦ä¸Šæ¥è¯´ï¼Œvoid ç±»å‹åƒæ˜¯ä¸ any ç±»å‹ç›¸åï¼Œå®ƒè¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ã€‚ å½“ä¸€ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›å€¼æ—¶ï¼Œä½ é€šå¸¸ä¼šè§åˆ°å…¶è¿”å›å€¼ç±»å‹æ˜¯ void

function fnvoid():void{
    return//å‡½æ•°ä¹Ÿå¯ä»¥å®šä¹‰ä¸ºç©ºå€¼ï¼Œå¦‚æœå®šä¹‰äº†voidåˆ™ä¸èƒ½è¿”å›å†…å®¹
}

//undefinedè·Ÿnullç±»å‹çš„ä¹Ÿå¯ä»¥äº¤æ¢ç€ç”¨çš„ï¼Œå…·ä½“åŒºåˆ«æ”¾åœ¨äº†ä¸‹é¢
```

## å…«ç§å†…ç½®ç±»å‹

```typescript
let str: string = "jimmy";
let num: number = 24;
let bool: boolean = false;//è¿™é‡Œæ¥æ”¶çš„æ˜¯å¸ƒå°”å€¼ï¼Œä¸æ˜¯å¸ƒå°”å€¼å¯¹è±¡(let b:boolean = new Boolean())
let u: undefined = undefined;
let n: null = null;
let obj: object = {x: 1};
let big: bigint = 100n;
let sym: symbol = Symbol("me"); 
```

## æ³¨æ„ç‚¹

### null å’Œ undefined

é»˜è®¤æƒ…å†µä¸‹ `null` å’Œ `undefined` æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ã€‚ å°±æ˜¯è¯´ä½ å¯ä»¥æŠŠ `null` å’Œ `undefined` èµ‹å€¼ç»™å…¶ä»–ç±»å‹ã€‚

```js
// nullå’Œundefinedèµ‹å€¼ç»™string
let str:string = "666";
str = null
str= undefined

// nullå’Œundefinedèµ‹å€¼ç»™number
let num:number = 666;
num = null
num= undefined

// nullå’Œundefinedèµ‹å€¼ç»™object
let obj:object ={};
obj = null
obj= undefined

// nullå’Œundefinedèµ‹å€¼ç»™Symbol
let sym: symbol = Symbol("me"); 
sym = null
sym= undefined

// nullå’Œundefinedèµ‹å€¼ç»™boolean
let isDone: boolean = false;
isDone = null
isDone= undefined

// nullå’Œundefinedèµ‹å€¼ç»™bigint
let big: bigint =  100n;
big = null
big= undefined

```

å¦‚æœä½ åœ¨ tsconfig.json æŒ‡å®šäº† `"strictNullChecks":true` ï¼Œ`null` å’Œ `undefined` åªèƒ½èµ‹å€¼ç»™ `void` å’Œå®ƒä»¬å„è‡ªçš„ç±»å‹ã€‚

### number å’Œ bigint

è™½ç„¶ `number` å’Œ `bigint` éƒ½è¡¨ç¤ºæ•°å­—ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªç±»å‹ä¸å…¼å®¹ã€‚

```js
let big: bigint =  100n;
let num: number = 6;
big = num;
num = big;
```

ä¼šæŠ›å‡ºä¸€ä¸ªç±»å‹ä¸å…¼å®¹çš„ ts (2322) é”™è¯¯ã€‚

# ä»»æ„ç±»å‹(TS -- 2)

>```typescript
>npm install @types/node -D
>npm install ts-node -g(è£…å…¨å±€çš„)
>```

## ç±»å‹(ä»»æ„å€¼) -- any

```typescript
let anys:any = "å°æ»¡ç©¿é»‘ä¸"

anys = []
anys = 18
anys = {}
anys = Symbol('666')
//anyç±»å‹å°±è·ŸåŸç”Ÿçš„æ˜¯ä¸€æ ·çš„ï¼Œèƒ½å¤Ÿç»™ä»»æ„çš„ç±»å‹è¿›è¡Œå®šä¹‰ï¼Œæ‰€ä»¥åœ¨åœ¨ TypeScript ä¸­ï¼Œä»»ä½•ç±»å‹éƒ½å¯ä»¥è¢«å½’ä¸º any ç±»å‹ã€‚è¿™è®© any ç±»å‹æˆä¸ºäº†ç±»å‹ç³»ç»Ÿçš„ é¡¶çº§ç±»å‹ (ä¹Ÿè¢«ç§°ä½œ å…¨å±€è¶…çº§ç±»å‹ )ã€‚
```

> ä½œç”¨çš„åœ°æ–¹ï¼š
>
> 1. æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæƒ³è¦ä¸ºé‚£äº›åœ¨ç¼–ç¨‹é˜¶æ®µè¿˜ä¸æ¸…æ¥šç±»å‹çš„å˜é‡æŒ‡å®šä¸€ä¸ªç±»å‹ã€‚ è¿™äº›å€¼å¯èƒ½æ¥è‡ªäºåŠ¨æ€çš„å†…å®¹ï¼Œæ¯”å¦‚æ¥è‡ªç”¨æˆ·è¾“å…¥æˆ–ç¬¬ä¸‰æ–¹ä»£ç åº“ã€‚ è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›ç±»å‹æ£€æŸ¥å™¨å¯¹è¿™äº›å€¼è¿›è¡Œæ£€æŸ¥è€Œæ˜¯ç›´æ¥è®©å®ƒä»¬é€šè¿‡ç¼–è¯‘é˜¶æ®µçš„æ£€æŸ¥ã€‚ é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `any` ç±»å‹æ¥æ ‡è®°è¿™äº›å˜é‡
>
> 2. åœ¨å¯¹ç°æœ‰ä»£ç è¿›è¡Œæ”¹å†™çš„æ—¶å€™ï¼Œ`any` ç±»å‹æ˜¯ååˆ†æœ‰ç”¨çš„ï¼Œå®ƒå…è®¸ä½ åœ¨ç¼–è¯‘æ—¶å¯é€‰æ‹©åœ°åŒ…å«æˆ–ç§»é™¤ç±»å‹æ£€æŸ¥ã€‚ ä½ å¯èƒ½è®¤ä¸º `Object` æœ‰ç›¸ä¼¼çš„ä½œç”¨ï¼Œå°±åƒå®ƒåœ¨å…¶å®ƒè¯­è¨€ä¸­é‚£æ ·ã€‚ ä½†æ˜¯ `Object` ç±»å‹çš„å˜é‡åªæ˜¯å…è®¸ä½ ç»™å®ƒèµ‹ä»»æ„å€¼ - ä½†æ˜¯å´ä¸èƒ½å¤Ÿåœ¨å®ƒä¸Šé¢è°ƒç”¨ä»»æ„çš„æ–¹æ³•ï¼Œå³ä¾¿å®ƒçœŸçš„æœ‰è¿™äº›æ–¹æ³•
> 3. å½“ä½ åªçŸ¥é“ä¸€éƒ¨åˆ†æ•°æ®çš„ç±»å‹æ—¶ï¼Œ`any` ç±»å‹ä¹Ÿæ˜¯æœ‰ç”¨çš„ã€‚ æ¯”å¦‚ï¼Œä½ æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒåŒ…å«äº†ä¸åŒçš„ç±»å‹çš„æ•°æ®

## unknownç±»å‹

> unknownç±»å‹æ¯”anyç±»å‹æ›´å®‰å…¨
>
> å°±åƒæ‰€æœ‰ç±»å‹éƒ½å¯ä»¥è¢«å½’ä¸º `any`ï¼Œæ‰€æœ‰ç±»å‹ä¹Ÿéƒ½å¯ä»¥è¢«å½’ä¸º `unknown`ã€‚è¿™ä½¿å¾— `unknown` æˆä¸º TypeScript ç±»å‹ç³»ç»Ÿçš„å¦ä¸€ç§é¡¶çº§ç±»å‹ï¼ˆå¦ä¸€ç§çš„`any`ï¼‰

```typescript
let unknow:unknown = {a:():number =>123}
unknow.a()//æŠ¥é”™
//unkonwnç±»å‹æ˜¯ä¸èƒ½å¤Ÿå»è°ƒç”¨å±æ€§è·Ÿå‡½æ•°çš„ï¼Œå®ƒæ˜¯ any ç±»å‹å¯¹åº”çš„å®‰å…¨ç±»å‹
```

# æ¥å£å’Œå¯¹è±¡ç±»å‹(TS -- 3)

> åœ¨ [typescript](https://so.csdn.net/so/search?from=pc_blog_highlight&q=typescript) ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰å¯¹è±¡çš„æ–¹å¼è¦ç”¨å…³é”®å­— **interface**ï¼ˆæ¥å£ï¼‰ï¼Œå°æ»¡çš„ç†è§£æ˜¯ä½¿ç”¨ **interface** æ¥å®šä¹‰ä¸€ç§çº¦æŸï¼Œè®©æ•°æ®çš„ç»“æ„æ»¡è¶³çº¦æŸçš„æ ¼å¼ã€‚
>
> æˆ‘çš„ç†è§£æ˜¯interfaceæ˜¯ä¸€ä¸ªå›½ä¼éƒ¨é—¨åªæ‹›ä¸€ä¸ªäººçš„è¯ï¼Œä»–ä»¬ä¼šé’ˆå¯¹èµ°åé—¨çš„é‚£ä¸ªäººé‡èº«å®šåˆ¶æ‹›è˜è¦æ±‚ï¼Œåˆ°é¢è¯•çš„æ—¶å€™ï¼Œè¿™äº›æ¡ä»¶å°‘ä¸€ä¸ªéƒ½ä¸è¡Œï¼Œå¤šäº†ä¹Ÿä¸è¡Œï¼Œæ¯•ç«Ÿå·²ç»å†…å®šäº†ï¼Œå†å¼ã€è¿™äº›æ¡ä»¶ä¸ä»…æ»¡è¶³äº†è€Œä¸”è¿˜ä¼šæ›´å¤šçš„æŠ€èƒ½ä¹Ÿæ²¡ç”¨ï¼Œåˆ«äººå°±æ˜¯ä¸è¦ä½ ã€‚(ç•™ä¸‹å¿ƒé…¸çš„çœ¼æ³ª)

## interfaceç±»å‹

```typescript
interface A{
     readonly name:string//è¿™ä¸ªreadonlyæ˜¯åªè¯»å±æ€§ï¼Œæ„æ€å°±æ˜¯è¯´åªèƒ½è¯»å–ï¼Œä¸èƒ½å°†å…¶ä»–å€¼èµ‹å€¼ç»™ä»–
    age?:number//è¿™ä¸ªé—®å·å°±æ˜¯å¯é€‰çš„æ„æ€ï¼Œæ¡ä»¶ç¨å¾®å®½æ¾äº†ä¸€äº›ï¼Œä¸‹é¢å¼•ç”¨è¿™ä¸ªageçš„è¯æœ‰æ²¡æœ‰è¿™ä¸ªå±æ€§éƒ½å¯ä»¥ï¼Œä¸ä¼šæŠ¥é”™
}

let obj:A = {
    name = "å°æ»¡å—·å—·å«"//è¿™é‡Œå¦‚æœä¸å†™nameå°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ä¸Šé¢å®šä¹‰äº†Aç±»å‹é›†åˆï¼Œå¹¶ä¸”åœ¨è¿™ä¸ªå˜é‡ä¸­å¼•å…¥äº†(é‡Œé¢å¿…é¡»è¦æœ‰nameå±æ€§ä¸”ç±»å‹ä¸ºå­—ç¬¦ä¸²)
    age	 = 18
}
```

> æ³¨æ„ï¼šè¿™ä¸ªè§„å®šçš„å±æ€§ä¸èƒ½å¤šä¹Ÿä¸èƒ½å°‘ï¼Œå‚è€ƒæˆ‘ä¸Šé¢çš„æ¡ˆä¾‹

###  å¯é€‰å±æ€§ --  `?`æ“ä½œç¬¦

```typescript
interface A{
     readonly name:string
    age?:number//è¿™ä¸ªé—®å·å°±æ˜¯å¯é€‰çš„æ„æ€ï¼Œæ¡ä»¶ç¨å¾®å®½æ¾äº†ä¸€äº›ï¼Œä¸‹é¢å¼•ç”¨è¿™ä¸ªageçš„è¯æœ‰æ²¡æœ‰è¿™ä¸ªå±æ€§éƒ½å¯ä»¥ï¼Œä¸ä¼šæŠ¥é”™
}

let obj:A = {
    name = "å°æ»¡å—·å—·å«"
    age	 = 18//ageå†™ä¸å†™æ— æ‰€è°“
}
```

### ä»»æ„å±æ€§ -- [propName:string]

> éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ**ä¸€æ—¦å®šä¹‰äº†ä»»æ„å±æ€§ï¼Œé‚£ä¹ˆç¡®å®šå±æ€§å’Œå¯é€‰å±æ€§çš„ç±»å‹éƒ½å¿…é¡»æ˜¯å®ƒçš„ç±»å‹çš„å­é›†**

```typescript
interface Person{
    name:string,
    age?:number,
    [propName:stirng]:string|number//è¿™ä¸ªå±æ€§ä¸€æ—¦å®šä¹‰äº†ï¼Œå¼•ç”¨è¿™ä¸ªPersonçš„å¯¹è±¡å°±èƒ½å¤Ÿå†™å…¥ä»»æ„å±æ€§ï¼Œå±æ€§çš„å½¢å¼ä¸»è¦çœ‹å†’å·åé¢ä½ å®šä¹‰äº†ä»€ä¹ˆç±»å‹ï¼Œæ¯”å¦‚åœ¨è¿™é‡Œå®šä¹‰çš„ç±»å‹å°±æ˜¯stringå’Œnumberç±»å‹ï¼Œä¸æ˜¯è¿™ä¸¤è€…çš„ç±»å‹å°±ä¼šæŠ¥é”™ï¼ŒåŒ…æ‹¬åœ¨Personé‡Œé¢å®šä¹‰é™¤äº†stringè·Ÿnumberä¹‹å¤–å…¶ä»–ç±»å‹ä¹Ÿä¼šæŠ¥é”™
    //å¯ä»¥ç†è§£ä¸ºè¿™ä¸ª [propName:stirng]ä»»æ„å±æ€§çš„ä¼˜å…ˆåº¦ç›¸å½“é«˜
    
    æ³¨æ„stringä¸numberä¸­é—´çš„ `|` ç¬¦å·ï¼Œå°é£æ£æ¥å’¯ï¼Œè¿™æ˜¯è”åˆç±»å‹ï¼Œåé¢ç¬”è®°ä¼šå†™ï¼Œè¿™é‡Œå°±å½“ä½œå°†stringå’Œnumberç±»å‹å…³ç³»åˆ°äº†ä¸€å—ï¼Œæœ‰ç‚¹åƒé€»è¾‘æˆ–ï¼Œæ»¡è¶³è”åˆèµ·æ¥çš„å…¶ä¸­ä¸€ä¸ªæ¡ä»¶éƒ½è¡Œï¼Œä¸¤ä¸ªä¹Ÿå¯ä»¥
}
```

### åªè¯»å±æ€§ -- readonly

> åªè¯»å±æ€§å¿…é¡»åœ¨å£°æ˜æ—¶æˆ–æ„é€ å‡½æ•°é‡Œè¢«åˆå§‹åŒ–ã€‚

```typescript
interface A{
     readonly name:string//è¿™ä¸ªreadonlyæ˜¯åªè¯»å±æ€§ï¼Œæ„æ€å°±æ˜¯è¯´åªèƒ½è¯»å–ï¼Œä¸èƒ½å°†å…¶ä»–å€¼èµ‹å€¼ç»™ä»–
}


let obj:A = {
    name = "å°æ»¡å—·å—·å«"
}

obj.name = "å°æ»¡èŠ³é¾„18"//æŠ¥é”™
console.log(obj)//èƒ½å¤Ÿè¯»å–
let name1 = obj.name
console.log(name1)
```

### ç»§æ‰¿å±æ€§ -- extends

> å„¿å­åœ¨å‰é¢ï¼Œçˆ¶äº²åœ¨åé¢ã€‚ä¹Ÿå°±æ˜¯è¯´é¡ºåºæ˜¯ å„¿å­ ç»§æ‰¿äº çˆ¶äº²
>
> çˆ¶äº²çš„éƒ¨åˆ†ä¼šç»§æ‰¿ç»™å„¿å­ï¼Œçˆ¶äº²çš„éƒ¨åˆ†å¦‚æœæ²¡æœ‰ä½¿ç”¨?æ“ä½œç¬¦çš„è¯ï¼Œå¼•ç”¨å„¿å­çš„ å¯¹è±¡ æ˜¯å¿…é¡»å°†çˆ¶äº²çš„éƒ¨åˆ†éƒ½å†™ä¸‹å»ã€‚ä¸€è¯´åˆ°è¿™ä¸ªå°±æƒ³åˆ°ç°åœ¨æœ‰çš„åœ°æ–¹ä¹°æˆ¿å­ï¼Œå‡ºæ”¿ç­–èƒ½å¤Ÿç»‘å®š3ä»£äººä¸€èµ·è¿˜æ¬¾ï¼Œçˆ¶å€ºå­è¿˜ï¼Œè·‘ä¸æ‰çš„ï¼Œè¿å€ºåŠ¡éƒ½ç»§æ‰¿äº†è¿˜ä¸èƒ½æ‘†è„±ï¼Œè¿™æ”¿ç­–å¤ªé¸¡å„¿é»‘å¿ƒäº†ï¼Œç»æˆ·è®¡

```typescript
interface A{
    name:string
}

interface B extends A{
    age:number
}

let p:B{
    name:"æœ‰çœ‹åˆ°å°æ»¡çš„è£¤å­å—ï¼Ÿ"
    age:88//ä¸¤ç§ç±»å‹éƒ½è¦å†™
}
```

# Objectä¸object{} -- åŠ é¤ç¯èŠ‚

## å‰ç½®çŸ¥è¯†ç‚¹è¡¥å……

| åŸå§‹æ•°æ®ç±»å‹ï¼ˆåŸºç¡€æ•°æ®ç±»å‹ï¼‰ | ä¸­æ–‡ç§°å‘¼ | å¼•ç”¨æ•°æ®ç±»å‹ | ä¸­æ–‡ç§°å‘¼ |
| ---------------------------- | -------- | ------------ | -------- |
| Undefined                    | æœªå®šä¹‰   | {}           | å¯¹è±¡     |
| Null                         | ç©ºå€¼     | function     | å‡½æ•°     |
| Boolean                      | å¸ƒå°”å€¼   | []           | æ•°ç»„     |
| Number                       | æ•°å­—     |              |          |
| String                       | å­—ç¬¦ä¸²   |              |          |

###  å­˜å‚¨ä½ç½®ä¸åŒ

`åŸå§‹æ•°æ®ç±»å‹`ï¼šç›´æ¥å­˜å‚¨åœ¨æ ˆï¼ˆstackï¼‰ä¸­çš„ç®€å•æ•°æ®æ®µï¼Œå æ®ç©ºé—´å°ï¼Œå¤§å°å›ºå®šï¼Œå±äºè¢«é¢‘ç¹ä½¿ç”¨çš„æ•°æ®ï¼Œæ‰€ä»¥å­˜å‚¨åœ¨æ ˆä¸­ï¼›

`å¼•ç”¨æ•°æ®ç±»å‹`ï¼šå­˜å‚¨åœ¨å †ï¼ˆheapï¼‰ä¸­çš„å¯¹è±¡ï¼Œå æ®ç©ºé—´å¤§ï¼Œå¤§å°ä¸å›ºå®šï¼Œå¦‚æœå­˜å‚¨åœ¨æ ˆä¸­ï¼Œå°†ä¼šå½±å“ç¨‹åºè¿è¡Œçš„æ€§èƒ½ã€‚å¼•ç”¨æ•°æ®ç±»å‹åœ¨æ ˆä¸­å­˜å‚¨äº†æŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘å †ä¸­è¯¥å®ä½“çš„èµ·å§‹åœ°å€ï¼Œå½“è§£é‡Šå™¨å¯»æ‰¾å¼•ç”¨å€¼æ—¶ï¼Œä¼šé¦–å…ˆæ£€ç´¢å…¶åœ¨æ ˆä¸­çš„åœ°å€ï¼Œå–å¾—åœ°å€åï¼Œä»å †ä¸­è·å¾—å®ä½“ã€‚

### ä¼ å€¼æ–¹å¼ä¸åŒ

- **åŸºæœ¬æ•°æ®ç±»å‹ï¼šæŒ‰å€¼ä¼ é€’**

ä¸å¯å˜ (immutable) æ€§è´¨ï¼š

åŸºæœ¬ç±»å‹æ˜¯ä¸å¯å˜çš„ (immutable)ï¼Œåªæœ‰å¯¹è±¡æ˜¯å¯å˜çš„ (mutable). æœ‰æ—¶æˆ‘ä»¬ä¼šå°è¯• â€œæ”¹å˜â€ å­—ç¬¦ä¸²çš„å†…å®¹ï¼Œä½†åœ¨ JS ä¸­ï¼Œä»»ä½•çœ‹ä¼¼å¯¹ string å€¼çš„ "ä¿®æ”¹" æ“ä½œï¼Œå®é™…éƒ½æ˜¯åˆ›å»ºæ–°çš„ string å€¼ã€‚ä»»ä½•æ–¹æ³•éƒ½æ— æ³•æ”¹å˜ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„å€¼(åœ¨ä¸‹é¢çš„å­—é¢é‡ç±»å‹ä¸­ä¼šå†æ¬¡å¼ºè°ƒ)

- **å¼•ç”¨ç±»å‹ï¼šæŒ‰å¼•ç”¨ä¼ é€’**

å¼•ç”¨ç±»å‹çš„å€¼æ˜¯å¯å˜çš„

å¼•ç”¨ç±»å‹çš„å€¼æ˜¯åŒæ—¶ä¿å­˜åœ¨æ ˆå†…å­˜å’Œå †å†…å­˜ä¸­çš„å¯¹è±¡ã€‚javascript å’Œå…¶ä»–è¯­è¨€ä¸åŒï¼Œå…¶ä¸å…è®¸ç›´æ¥è®¿é—®å†…å­˜ä¸­çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½ç›´æ¥æ“ä½œå¯¹è±¡çš„å†…å­˜ç©ºé—´ï¼Œé‚£æˆ‘ä»¬æ“ä½œå•¥å‘¢ï¼Ÿ å®é™…ä¸Šï¼Œæ˜¯æ“ä½œå¯¹è±¡çš„å¼•ç”¨ï¼Œå¼•ç”¨ç±»å‹çš„å€¼æ˜¯æŒ‰å¼•ç”¨è®¿é—®çš„ã€‚

> `object`ã€`Object` ä»¥åŠ `{} è¿™ä¸‰ä¸ªç±»å‹(ç¬¬ä¸‰ä¸ªç±»å‹ä¸ºç©ºå¯¹è±¡å­—é¢é‡æ¨¡å¼)å¤§å®¶å¯èƒ½ä¸å¤ªç†è§£`
>
> è¿™é›†åŠ é¤ç¯èŠ‚å°±æ˜¯è¿›è¡Œè¡¥å……ï¼Œä¸€ä¸ªå†·é—¨ä½†æ˜¯ä¸é‚ªé—¨çš„çŸ¥è¯†ç‚¹

## Objectç±»å‹

```typescript
//è¿™ä¸ªç±»å‹æ˜¯è·ŸåŸå‹é“¾æœ‰å…³çš„åŸå‹é“¾é¡¶å±‚å°±æ˜¯ Objectï¼Œæ‰€ä»¥å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹æœ€ç»ˆéƒ½æŒ‡å‘ Objectï¼Œæ‰€ä»¥åœ¨TypeScriptä¸­Objectä»–åŒ…å«æ‰€æœ‰ç±»å‹ã€‚å°±å¯ä»¥ç­‰äºä»»ä½•ä¸€ä¸ªå€¼
//1.æ•°å­—ç±»å‹
let a:Object = 123
//å­—ç¬¦ä¸²ç±»å‹
let b:Object = "å°æ»¡ä»Šå¤©æ²¡ç©¿è£¤å­"
//æ•°ç»„ç±»å‹
let c:Object = [1314,520]
//å¯¹è±¡ç±»å‹
let d:Object = {name:"è‰è“",sex:"å¥³",address:"å°æ»¡å¾®ä¿¡ä¸€ç¾¤"}
//anyæˆ–è€…function
let e:Object = ()=> "å­¦å§è´´è´´"
```

`Object` ç±»å‹æ˜¯æ‰€æœ‰ `Object` ç±»çš„å®ä¾‹çš„ç±»å‹ã€‚ ç”±ä»¥ä¸‹ä¸¤ä¸ªæ¥å£æ¥å®šä¹‰ï¼š

- `Object` æ¥å£å®šä¹‰äº† `Object.prototype` åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§ï¼›
- `ObjectConstructor` æ¥å£å®šä¹‰äº† Object ç±»çš„å±æ€§ï¼Œ å¦‚ä¸Šé¢æåˆ°çš„ `Object.create()`ã€‚

## objectç±»å‹

> object ä»£è¡¨æ‰€æœ‰éå€¼ç±»å‹(éåŸå§‹ç±»å‹)çš„ç±»å‹ï¼Œä¾‹å¦‚ æ•°ç»„ å¯¹è±¡ å‡½æ•°ç­‰ï¼Œå¸¸ç”¨äºæ³›å‹çº¦æŸ
>
> æ‰€æœ‰åŸå§‹ç±»å‹éƒ½ä¸æ”¯æŒï¼Œæ‰€æœ‰å¼•ç”¨ç±»å‹éƒ½æ”¯æŒ

```typescript
//é”™è¯¯ åŸå§‹ç±»å‹(å­—ç¬¦ä¸²)
let f:object = 'åŠªåŠ›ä¼šè·å¾—å›æŠ¥çš„'
//é”™è¯¯ åŸå§‹ç±»å‹(æ•°å­—)
let g:object = 123
//é”™è¯¯ åŸå§‹ç±»å‹(å¸ƒå°”å€¼ç±»å‹)
let h:object = true
//æ­£ç¡® å¼•ç”¨ç±»å‹(æ•°ç»„ç±»å‹)
let i:object = [123,"å­¦å§å­¦ä¹ Vue3",true]
//æ­£ç¡® å¼•ç”¨ç±»å‹(å¯¹è±¡ç±»å‹)
let j:object = {name:"å°æ»¡",identity:['Bç«™UPä¸»','äºŒæ¬¡å…ƒ','äº¬ä¸œå‘˜å·¥','å…¨æ ˆå¼€å‘å·¥ç¨‹å¸ˆ'],sex:"å¥³"}
//æ­£ç¡® å¼•ç”¨ç±»å‹(å‡½æ•°ç±»å‹)
let k:object = ()=>"ä¸è¦å¯¹è‡ªå·±puaï¼Œç›¸ä¿¡è‡ªå·±æ˜¯æœ€æ£’çš„ï¼Œå°Šé‡è‡ªå·±ï¼Œäººç”Ÿæ›´ç²¾å½©"
```

## {}å­—é¢é‡ç±»å‹

> çœ‹èµ·æ¥å¾ˆåˆ«æ‰­çš„ä¸€ä¸ªä¸œè¥¿ ä½ å¯ä»¥æŠŠä»–ç†è§£æˆ new Object å°±å’Œæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ª Object åŸºæœ¬ä¸€æ · åŒ…å«æ‰€æœ‰ç±»å‹

```typescript
//ä¸Objectç±»å‹ä¸€æ ·
let l:{} = 123//ç­‰ç­‰ï¼Œå°±ä¸å†™äº†ï¼Œè·ŸObjectä¸€æ ·
//è¡¥å……--å­—é¢é‡æ¨¡å¼
//è¿™ä¸ªè™½ç„¶å¯ä»¥èµ‹å€¼ä»»æ„ç±»å‹ï¼Œèµ‹å€¼ç»“æŸåï¼Œæ˜¯æ²¡åŠæ³•è¿›è¡Œä¸€ä¸ªä¿®æ”¹å’Œå¢åŠ çš„æ“ä½œçš„
```



# æ•°ç»„ç±»å‹(TS -- 4)

> æ™®é€šçš„å£°æ˜æ–¹å¼

```typescript
//ç±»å‹åŠ ä¸­æ‹¬å·
let arr:number[] = [123]
//è¿™æ ·ä¼šæŠ¥é”™å®šä¹‰äº†æ•°å­—ç±»å‹å‡ºç°å­—ç¬¦ä¸²æ˜¯ä¸å…è®¸çš„
let arr:number[] = [1,2,3,'1']
//æ“ä½œæ–¹æ³•æ·»åŠ ä¹Ÿæ˜¯ä¸å…è®¸çš„
let arr:number[] = [1,2,3,]

let arr:number[] = [1,2,3,4];//æ•°å­—ç±»å‹çš„æ•°ç»„
let arr2:string[] = ["1","2","3","4"];//å­—ç¬¦ä¸²ç±»å‹çš„æ•°ç»„
let arr3:any[] = [1,"2",true,undefined,[],{}];//ä»»æ„ç±»å‹çš„æ•°ç»„

let arr4:number[][][] = [[[]],[[]],[[]]]
//è¿™ä¸ªä¹Ÿèƒ½å¤Ÿå†³å®šä½ äºŒç»´æ•°ç»„è¿˜æ˜¯ä¸‰ç»´æ•°ç»„æƒ³è¦å¥—å‡ å±‚å°±å†™å‡ å±‚
```

## æ³›å‹ -- Array <ç±»å‹>

> è§„åˆ™ Array <ç±»å‹>

```typescript
let arr1:Array<number> = [1,2,3,4,5]
let arr2:Array<string> = ["1,2,3,4,5"]
let arr3:Array<boolean> = [true]

//æ³›å‹æ•°ç»„å¥—å¨ƒå†™æ³•(è¿˜èƒ½å¤Ÿå†³å®šæ•°ç»„é‡Œé¢æ•°ç»„çš„ç±»å‹ä¹‹ç±»çš„)
let arr4:Array<Array<number>> = [[123],[456]]
```

## ç±»æ•°ç»„ -- arguments

> æ˜¯æ‰€æœ‰å‚æ•°çš„ä¸€ä¸ªé›†åˆ

```typescript
function Arr(...args:any):void{//...argsä¸ºES6çš„è§£æ„æ–¹å¼ï¼Œä»»æ„ç±»å‹ï¼Œvoidweiä¸èƒ½æœ‰è¿”å›å€¼
    console.log(arguments)//è¾“å‡º{'0':4,'1':56,'2':789}
    
    let arr:number[] = arguments//ä¼šæŠ¥é”™ï¼ŒæŠ¥ç¼ºå°‘ç±»å‹number[]çš„ä»¥ä¸‹å±æ€§ï¼špop,push,concat,join
    let arr:IArguments = arguments//è§£å†³æ–¹æ³•
    
    //å…¶ä¸­ IArguments æ˜¯ TypeScript ä¸­å®šä¹‰å¥½äº†çš„ç±»å‹ï¼Œå®ƒå®é™…ä¸Šå°±æ˜¯ï¼š
    interface IArguments {
    [index: number]: any;
    length: number;
    callee: Function;

    }

Arr(4,56,789)
```

## æ¥å£è¡¨ç¤ºæ•°ç»„

> ä¸€èˆ¬ç”¨æ¥æè¿°ç±»æ•°ç»„ 

```typescript
interface ArrNumber {
    [index: number]: number;//åé¢çš„æ‰æ˜¯å®šä¹‰ç±»å‹çš„
    //[index: number]: string;è¿™ä¸ªå°±æ˜¯å®šä¹‰å­—ç¬¦ä¸²çš„äº†
}
let Arr: ArrNumber = [1, 2, 3, 4, 5];
//let Arr: ArrNumber = ["1, 2, 3, 4, 5"];
//è¡¨ç¤ºï¼šåªè¦ç´¢å¼•çš„ç±»å‹æ˜¯æ•°å­—æ—¶ï¼Œé‚£ä¹ˆå€¼çš„ç±»å‹å¿…é¡»æ˜¯æ•°å­—ã€‚
```

# å‡½æ•°æ‰©å±•(TS -- 5)

> å‡½æ•°å†…å‚æ•°ç±»å‹ä¹Ÿæ˜¯å¯ä»¥å®šä¹‰çš„

```typescript
const fn(name:string,age:number):string{
    return name + age
}
let a = fn('å°æ»¡',10000)//è¾“å…¥ä¸ç¬¦åˆä¸Šè¿°å‚æ•°å†…å®šä¹‰çš„ç±»å‹å°±ä¼šå‡ºé”™
console.log(a)//è¾“å‡ºå°æ»¡10000
--------------------------------------------------------------------
const fn(name:string,age:number = 666):string{//å¦‚æœåœ¨ä¸‹é¢ä½¿ç”¨çš„æ—¶å€™ï¼Œæ²¡æœ‰å‚æ•°ä¼ è¿›æ¥å°±ä¼šä»¥ä½ åœ¨è¿™é‡Œè®¾ç½®çš„é»˜è®¤å‚æ•°æ‰§è¡Œï¼Œæ¯”å¦‚è¿™ä¸ª666
    return name + age
}
let a = fn('å°æ»¡')//è¾“å…¥ä¸ç¬¦åˆä¸Šè¿°å‚æ•°å†…å®šä¹‰çš„ç±»å‹å°±ä¼šå‡ºé”™
console.log(a)//è¾“å‡ºå°æ»¡666
--------------------------------------------------------------------
const fn(name:string,age?:number = 666):string{//ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ä¸ª`?`æ“ä½œç¬¦ï¼Œageä¼ ä¸ä¼ å°±å˜æˆå¯é€‰çš„äº†
    return name + age
}
let a = fn('å°æ»¡ç©¿å¥³ä»†è£…')//è¾“å…¥ä¸ç¬¦åˆä¸Šè¿°å‚æ•°å†…å®šä¹‰çš„ç±»å‹å°±ä¼šå‡ºé”™
console.log(a)//è¾“å‡ºå°æ»¡ç©¿å¥³ä»†è£…
```

## å¯¹è±¡å½¢å¼çš„å®šä¹‰

> è·Ÿå®šä¹‰å¯¹è±¡å·®ä¸å¤šï¼Œä½†æ˜¯åœ¨é’ˆå¯¹å¤šä¸ªå‚æ•°çš„æ—¶å€™ä¼šæ›´åŠ çš„æ–¹ä¾¿ï¼Œä¸”è®°å¾—å¼•ç”¨çš„æ—¶å€™è¦å†™æˆ({xxxx})å½¢å¼ï¼Œä¸ç„¶ä¼šæŠ¥é”™ï¼Œè¾“å‡ºçš„æ˜¯æ•°ç»„å½¢å¼çš„

```typescript
interface User{
    name:string;
    age:number
}

const fn(user:User):User{//è¿™é‡Œçš„å‚æ•°å¡«å†™æ–¹å¼å°±å˜å¾—ç®€å•äº†
    return user
}
let a = fn({
    name:"'å°æ»¡",
    age:18
})//è¾“å…¥ä¸ç¬¦åˆä¸Šè¿°å‚æ•°å†…å®šä¹‰çš„ç±»å‹å°±ä¼šå‡ºé”™
console.log(a)//è¾“å‡º{name:'å°æ»¡',age:18}
```

## å‡½æ•°é‡è½½

> é‡è½½æ˜¯æ–¹æ³•åå­—ç›¸åŒï¼Œè€Œå‚æ•°ä¸åŒï¼Œè¿”å›ç±»å‹å¯ä»¥ç›¸åŒä¹Ÿå¯ä»¥ä¸åŒã€‚
>
> å¦‚æœå‚æ•°ç±»å‹ä¸åŒï¼Œåˆ™å‚æ•°ç±»å‹åº”è®¾ç½®ä¸º **any**ã€‚
>
> å‚æ•°æ•°é‡ä¸åŒä½ å¯ä»¥å°†ä¸åŒçš„å‚æ•°è®¾ç½®ä¸ºå¯é€‰ã€‚
>
> 
>
> ä¸ºäº†è®©ç¼–è¯‘å™¨èƒ½å¤Ÿé€‰æ‹©æ­£ç¡®çš„æ£€æŸ¥ç±»å‹ï¼Œå®ƒä¸ JavaScript é‡Œçš„å¤„ç†æµç¨‹ç›¸ä¼¼ã€‚ å®ƒæŸ¥æ‰¾é‡è½½åˆ—è¡¨ï¼Œå°è¯•ä½¿ç”¨ç¬¬ä¸€ä¸ªé‡è½½å®šä¹‰ã€‚ å¦‚æœåŒ¹é…çš„è¯å°±ä½¿ç”¨è¿™ä¸ªã€‚ å› æ­¤ï¼Œåœ¨å®šä¹‰é‡è½½çš„æ—¶å€™ï¼Œä¸€å®šè¦æŠŠæœ€ç²¾ç¡®çš„å®šä¹‰æ”¾åœ¨æœ€å‰é¢ã€‚

```typescript
function fn(params:number):void//ç¬¬ä¸€å¥—è§„åˆ™
function fn(params:string,params2:number):void//ç¬¬äºŒå¥—è§„åˆ™
function fn(params:any,params?:any):void{
    console.log(params)
    console.log(params2)
}

let a = fn(1,1)
//è¾“å‡º1è·Ÿundefinedï¼Œå› ä¸ºéµå¾ªçš„æ˜¯ç¬¬ä¸€å¥—è§„åˆ™
let a = fn("1",1)
//è¾“å‡º"1"è·Ÿ1ï¼Œéµå¾ªçš„æ˜¯ç¬¬äºŒå¥—è§„åˆ™
```

# è”åˆç±»å‹|ç±»å‹æ–­è¨€|äº¤å‰ç±»å‹(TS -- 6)

## è”åˆç±»å‹

> è”åˆç±»å‹èƒ½å¤Ÿè®©æˆ‘ä»¬å¯é€‰æˆ‘ä»¬è‡ªå·±éœ€è¦çš„ç±»å‹éƒ¨åˆ†ï¼Œå¦‚æœéœ€è¦çš„ç±»å‹è¶…è¿‡æˆ–è€…è¾¾åˆ°2ä¸ªï¼Œé‚£å°±å¯ä»¥ä½¿ç”¨ã€‚
>
> é‚£ä¸ºä»€ä¹ˆä¸ä½¿ç”¨anyå‘¢ï¼Ÿé‚£æ˜¯å› ä¸ºæˆ‘ä»¬éœ€è¦çš„å¹¶ä¸æ˜¯æ‰€æœ‰ç±»å‹éƒ½èƒ½é€šè¿‡ï¼Œæˆ‘åªå¸Œæœ›è¿™ä¸¤ä¸ªæˆ–è€…3ä¸ªç±»å‹èƒ½å¤Ÿé€šè¿‡ï¼Œå¦‚æœéœ€è¦çš„ç±»å‹è¶…è¿‡æˆ–ç€è¾¾åˆ°ä¸¤ä¸ªéƒ½ä½¿ç”¨anyçš„è¯ï¼Œé‚£å°±å’ŒJavaScriptåŸç”Ÿæ²¡æœ‰åŒºåˆ«äº†

```typescript
//ä¾‹å¦‚æˆ‘ä»¬çš„æ‰‹æœºå·é€šå¸¸æ˜¯13XXXXXXX ä¸ºæ•°å­—ç±»å‹ è¿™æ—¶å€™äº§å“è¯´éœ€è¦æ”¯æŒåº§æœº
//æ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è”åˆç±»å‹æ”¯æŒåº§æœºå­—ç¬¦ä¸²
let myPhone: number | string  = '010-820'
 
 
//è¿™æ ·å†™æ˜¯ä¼šæŠ¥é”™çš„åº”ä¸ºæˆ‘ä»¬çš„è”åˆç±»å‹åªæœ‰æ•°å­—å’Œå­—ç¬¦ä¸²å¹¶æ²¡æœ‰å¸ƒå°”å€¼
let myPhone: number | string  = true//æŠ¥é”™
```

### å‡½æ•°ä½¿ç”¨è”åˆç±»å‹

> è¿™ä¸ª!!æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿ
>
> æˆ‘ä»¬çŸ¥é“ä¸€ä¸²æ•°å­—æƒ³å˜æˆå­—ç¬¦ä¸²åªè¦åŠ ä¸Š""å°±èƒ½éšå¼è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚
>
> é‚£ä¸€ä¸ªç±»å‹åªè¦`!`å°±èƒ½è¿›è¡Œåè½¬ï¼Œ!åªæœ‰æ­£åï¼Œä¹Ÿå°±æ˜¯falseè·Ÿtrueï¼Œè¿™ç§å°±æœ‰ç‚¹ç±»ä¼¼éšå¼è½¬æ¢äº†ï¼Œæˆ‘ä»¬è¿ç»­è½¬ä¸¤æ¬¡å°±ç›¸å½“äºå½“å‰å½¢å¼çš„å¸ƒå°”å€¼ç±»å‹äº†

```typescript
let fn = function(type:number):boolean {
    return !!type//å°†typeå¼ºè¡Œè½¬åŒ–ä¸ºå¸ƒå°”å€¼ç±»å‹ï¼Œå¦‚æœæ²¡ç”¨è¿›è¡Œè½¬åŒ–çš„è¯æ˜¯ä¼šæŠ¥é”™çš„
}
--------------------------------------------------------------------
let fn = function(type:number|boolean):boolean {
    return !!type//å°†typeå¼ºè¡Œè½¬åŒ–ä¸ºå¸ƒå°”å€¼ç±»å‹ï¼Œå¦‚æœæ²¡ç”¨è¿›è¡Œè½¬åŒ–çš„è¯æ˜¯ä¼šæŠ¥é”™çš„
}

let result = fn(1)
console.log(result);//true
```

## äº¤å‰ç±»å‹

> å¤šç§ç±»å‹çš„é›†åˆï¼Œè”åˆå¯¹è±¡å°†å…·æœ‰æ‰€è”åˆç±»å‹çš„æ‰€æœ‰æˆå‘˜

```typescript
interface Pople{
    name:string
    age:number
}
interface Man{
    sex:number
}

const xiaoman = (man:Pople & Man):void => {//è¿™é‡Œé€šè¿‡äº†&å°†Popleè·ŸManäº¤å‰åœ¨äº†ä¸€èµ·ï¼Œåˆ™manéœ€è¦å¤„ç†Popleä¹Ÿè¦å¤„ç†Manã€‚è¿˜å¯ä»¥ç»§ç»­è·Ÿæ›´å¤šä¸ªinterface
    console.log(man)
}

xiaoman({
    name:"å°æ»¡ä»Šå¤©åæ‰äº†"
    age:18
    sex:1//å¦‚æœsexä¸å†™æ˜¯ä¼šæŠ¥é”™çš„ï¼Œä¼šæç¤ºä½ å°‘å†™äº†ä¸€ä¸ªsex
})
```

## ç±»å‹æ–­è¨€

> è¯­æ³•æ ¼å¼ï¼Œå€¼ as ç±»å‹ æˆ–è€… <ç±»å‹>å€¼
>
> éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç±»å‹æ–­è¨€åªèƒ½å¤Ÿã€Œæ¬ºéª—ã€TypeScript ç¼–è¯‘å™¨ï¼Œæ— æ³•é¿å…è¿è¡Œæ—¶çš„é”™è¯¯ï¼Œåè€Œæ»¥ç”¨ç±»å‹æ–­è¨€å¯èƒ½ä¼šå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯
>
> è¦†ç›–å®ƒçš„æ¨æ–­ï¼Œå¹¶ä¸”èƒ½ä»¥ä½ ä»»ä½•ä½ æƒ³è¦çš„æ–¹å¼åˆ†æå®ƒï¼Œè¿™ç§æœºåˆ¶è¢«ç§°ä¸ºã€Œç±»å‹æ–­è¨€ã€ã€‚TypeScript ç±»å‹æ–­è¨€ç”¨æ¥å‘Šè¯‰ç¼–è¯‘å™¨ä½ æ¯”å®ƒæ›´äº†è§£è¿™ä¸ªç±»å‹ï¼Œå¹¶ä¸”å®ƒä¸åº”è¯¥å†å‘å‡ºé”™è¯¯
>
> å½“ `S` ç±»å‹æ˜¯ `T` ç±»å‹çš„å­é›†ï¼Œæˆ–è€… `T` ç±»å‹æ˜¯ `S` ç±»å‹çš„å­é›†æ—¶ï¼Œ`S` èƒ½è¢«æˆåŠŸæ–­è¨€æˆ `T`ã€‚è¿™æ˜¯ä¸ºäº†åœ¨è¿›è¡Œç±»å‹æ–­è¨€æ—¶æä¾›é¢å¤–çš„å®‰å…¨æ€§ï¼Œå®Œå…¨æ¯«æ— æ ¹æ®çš„æ–­è¨€æ˜¯å±é™©çš„ï¼Œå¦‚æœä½ æƒ³è¿™ä¹ˆåšï¼Œä½ å¯ä»¥ä½¿ç”¨ `any`ã€‚
>
> 2ã€ç±»å‹æ–­è¨€çš„ç”¨é€”
>
> ï¼ˆ1ï¼‰å°†ä¸€ä¸ªè”åˆç±»å‹æ¨æ–­ä¸ºå…¶ä¸­ä¸€ä¸ªç±»å‹
>
> ï¼ˆ2ï¼‰å°†ä¸€ä¸ªçˆ¶ç±»æ–­è¨€ä¸ºæ›´åŠ å…·ä½“çš„å­ç±»
>
> ï¼ˆ3ï¼‰å°†ä»»ä½•ä¸€ä¸ªç±»å‹æ–­è¨€ä¸º any
>
> ï¼ˆ4ï¼‰å°† any æ–­è¨€ä¸ºä¸€ä¸ªå…·ä½“çš„ç±»å‹

```typescript
åŸå‹ï¼š
let fn = function(num:number | string):void{
    console.log(num.length);//è¿™é‡Œä¼šæŠ¥é”™ï¼Œå› ä¸ºæˆ‘ä»¬ç¡®å®æ²¡æœ‰.lengthè¿™ä¸ªå†…å®¹
}
fn("12345")
--------------------------------------------------------
æ–­è¨€å†™æ³•
let fn = function(num:number | string):void{
    console.log((num as string).length);//ç”¨æ‹¬å·æ‹¬èµ·æ¥ï¼Œasæ–­è¨€ä»–æ˜¯stringç±»å‹
}
fn("12345")//è¿™æ ·ä¼šæ‰“å°å‡º5
fn(12345)//è¿™æ ·ä¼šæ‰“å°å‡ºundefined
```

å¦ä¸€ä¸ªä¾‹å­

```typescript
interface A{
    run:string
}
interface B{
    build:string
}

let fn(type:A | B) =>{
    console.log((<A>type).run);
}

fn({
    build:"123"//è¿™é‡Œæ˜¯æ²¡åŠæ³•ä¼ è¿‡å»çš„ï¼Œæ–­è¨€æ˜¯ä¸èƒ½å¤Ÿæ»¥ç”¨çš„ï¼Œå› ä¸ºæˆ‘ä»¬ç¡®å®æ²¡æœ‰.runè¿™ä¸ªå†…å®¹
})
```

## ä¸´æ—¶æ–­è¨€

> 1.ä½¿ç”¨anyä¸´æ—¶æ–­è¨€

```typescript
window.abc = 123
//è¿™æ ·å†™ä¼šæŠ¥é”™å› ä¸ºwindowæ²¡æœ‰abcè¿™ä¸ªä¸œè¥¿
(window as any).abc = 123
//å¯ä»¥ä½¿ç”¨anyä¸´æ—¶æ–­è¨€åœ¨ any ç±»å‹çš„å˜é‡ä¸Šï¼Œè®¿é—®ä»»ä½•å±æ€§éƒ½æ˜¯å…è®¸çš„ã€‚
```

> åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œå°† something æ–­è¨€ä¸º boolean è™½ç„¶å¯ä»¥é€šè¿‡ç¼–è¯‘ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ å¹¶ä¸ä¼šå½±å“ç»“æœï¼Œå› ä¸ºç¼–è¯‘è¿‡ç¨‹ä¸­ä¼šåˆ é™¤ç±»å‹æ–­è¨€

```typescript
function toBoolean(something: any): boolean {
    return something as boolean;
}
 
let bbb =  toBoolean(1);
console.log(bbb)
// è¿”å›å€¼ä¸º 1
//
```

### `as const`

> æ˜¯å¯¹å­—é¢å€¼çš„**æ–­è¨€**ï¼Œä¸ const ç›´æ¥å®šä¹‰å¸¸é‡æ˜¯æœ‰åŒºåˆ«çš„
>
> å¦‚æœæ˜¯æ™®é€šç±»å‹è·Ÿç›´æ¥ const å£°æ˜æ˜¯ä¸€æ ·çš„

```typescript
const names = 'å°æ»¡'
names = 'aa' //æ— æ³•ä¿®æ”¹
 
let names2 = 'å°æ»¡' as const
names2 = 'aa' //æ— æ³•ä¿®æ”¹
```

```typescript
// æ•°ç»„
let a1 = [10, 20] as const;
const a2 = [10, 20];
 
a1.unshift(30); // é”™è¯¯ï¼Œæ­¤æ—¶å·²ç»æ–­è¨€å­—é¢é‡ä¸º[10, 20],æ•°æ®æ— æ³•åšä»»ä½•ä¿®æ”¹
a2.unshift(30); // é€šè¿‡ï¼Œæ²¡æœ‰ä¿®æ”¹æŒ‡é’ˆã€‚ä¹‹æ‰€ä»¥æ²¡æœ‰ä¿®æ”¹æŒ‡é’ˆæ˜¯å› ä¸ºconstçš„æ€§è´¨æ˜¯å†³å®šäº†æŒ‡é’ˆæŒ‡å‘çš„ä½ç½®æ˜¯å·²ç»å›ºå®šä¸ä¼šå‘ç”Ÿæ”¹å˜çš„äº†ï¼Œè¿™ä¸ª30æƒ³è¦æ·»åŠ è¿›å»é™¤éç›´æ¥ä¿®æ”¹å­˜å‚¨å€¼çš„åœ°æ–¹
```

# å†…ç½®å¯¹è±¡(TS -- 7)

## ECMAScriptçš„å†…ç½®å¯¹è±¡

> JavaScript ä¸­æœ‰å¾ˆå¤šå†…ç½®å¯¹è±¡ï¼Œå®ƒä»¬å¯ä»¥ç›´æ¥åœ¨ `TypeScript`ä¸­å½“åšå®šä¹‰å¥½äº†çš„ç±»å‹ã€‚
>
> **`Boolean`ã€Numberã€`string`ã€`RegExp`ã€`Date`ã€`Error`**

```typescript
const regexp:Regexp = /\w\d\s///å£°æ˜æ­£åˆ™

const date:Date = new Date()//å¯¹è±¡ç±»å‹
//const date:Date = new Date().getTime()  numberç±»å‹
const error:Error('é”™è¯¯')
```

**æ€»ç»“**

```typescript
let b: Boolean = new Boolean(1)
console.log(b)
let n: Number = new Number(true)
console.log(n)
let s: String = new String('å°æ»¡ä»Šå¤©ç©¿ç™½ä¸')
console.log(s)
let d: Date = new Date()
console.log(d)
let r: RegExp = /^1/
console.log(r)
let e: Error = new Error("error!")
console.log(e) 
```

## DOM å’Œ BOM çš„å†…ç½®å¯¹è±¡

> **`Document`ã€`HTMLElement`ã€`Event`ã€`NodeList` ç­‰**

```typescript
const list:NodeList = document.querySelectorAll('#list li')
console.log(list)
//NodeList å®ä¾‹å¯¹è±¡æ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œå®ƒçš„æˆå‘˜æ˜¯èŠ‚ç‚¹å¯¹è±¡ã€‚Node.childNodesã€document.querySelectorAll () è¿”å›çš„éƒ½æ˜¯ NodeList å®ä¾‹å¯¹è±¡ã€‚ [1]  NodeList å¯¹è±¡ä»£è¡¨ä¸€ä¸ªæœ‰åºçš„èŠ‚ç‚¹åˆ—è¡¨ã€‚

const body:HTMLElement = document.body
console.log(body)

const div:HTMLDivElement = document.querySelector('div')
console.log(div)

document.body.addEventListener('click',(e:MouseEvent)=>{
    console.log(e)
})

//promise
function promise():Promise<number>{//Promiseæ˜¯ç±»å‹,numberæ˜¯æ³›å‹
    return new Promise<number>(resolve,rejuct)=>{
        resolve(1)//å¦‚æœä¸è¿›è¡Œæ–­è¨€çš„è¯ä¼šæŠ¥é”™
    }
}

promise().then(res=>{
    console.log(res)//è¿”å›1ï¼Œè¿™é‡Œä¼šæç¤ºä½ resåº”è¯¥è¾“å…¥numberç±»å‹
})
```



```typescript
let body: HTMLElement = document.body;
let allDiv: NodeList = document.querySelectorAll('div');
//è¯»å–div è¿™ç§éœ€è¦ç±»å‹æ–­è¨€ æˆ–è€…åŠ ä¸ªåˆ¤æ–­åº”ä¸ºè¯»ä¸åˆ°è¿”å›null
let div:HTMLElement = document.querySelector('div') as HTMLDivElement
document.addEventListener('click', function (e: MouseEvent) {
    
});
//domå…ƒç´ çš„æ˜ å°„è¡¨
interface HTMLElementTagNameMap {
    "a": HTMLAnchorElement;
    "abbr": HTMLElement;
    "address": HTMLElement;
    "applet": HTMLAppletElement;
    "area": HTMLAreaElement;
    "article": HTMLElement;
    "aside": HTMLElement;
    "audio": HTMLAudioElement;
    "b": HTMLElement;
    "base": HTMLBaseElement;
    "bdi": HTMLElement;
    "bdo": HTMLElement;
    "blockquote": HTMLQuoteElement;
    "body": HTMLBodyElement;
    "br": HTMLBRElement;
    "button": HTMLButtonElement;
    "canvas": HTMLCanvasElement;
    "caption": HTMLTableCaptionElement;
    "cite": HTMLElement;
    "code": HTMLElement;
    "col": HTMLTableColElement;
    "colgroup": HTMLTableColElement;
    "data": HTMLDataElement;
    "datalist": HTMLDataListElement;
    "dd": HTMLElement;
    "del": HTMLModElement;
    "details": HTMLDetailsElement;
    "dfn": HTMLElement;
    "dialog": HTMLDialogElement;
    "dir": HTMLDirectoryElement;
    "div": HTMLDivElement;
    "dl": HTMLDListElement;
    "dt": HTMLElement;
    "em": HTMLElement;
    "embed": HTMLEmbedElement;
    "fieldset": HTMLFieldSetElement;
    "figcaption": HTMLElement;
    "figure": HTMLElement;
    "font": HTMLFontElement;
    "footer": HTMLElement;
    "form": HTMLFormElement;
    "frame": HTMLFrameElement;
    "frameset": HTMLFrameSetElement;
    "h1": HTMLHeadingElement;
    "h2": HTMLHeadingElement;
    "h3": HTMLHeadingElement;
    "h4": HTMLHeadingElement;
    "h5": HTMLHeadingElement;
    "h6": HTMLHeadingElement;
    "head": HTMLHeadElement;
    "header": HTMLElement;
    "hgroup": HTMLElement;
    "hr": HTMLHRElement;
    "html": HTMLHtmlElement;
    "i": HTMLElement;
    "iframe": HTMLIFrameElement;
    "img": HTMLImageElement;
    "input": HTMLInputElement;
    "ins": HTMLModElement;
    "kbd": HTMLElement;
    "label": HTMLLabelElement;
    "legend": HTMLLegendElement;
    "li": HTMLLIElement;
    "link": HTMLLinkElement;
    "main": HTMLElement;
    "map": HTMLMapElement;
    "mark": HTMLElement;
    "marquee": HTMLMarqueeElement;
    "menu": HTMLMenuElement;
    "meta": HTMLMetaElement;
    "meter": HTMLMeterElement;
    "nav": HTMLElement;
    "noscript": HTMLElement;
    "object": HTMLObjectElement;
    "ol": HTMLOListElement;
    "optgroup": HTMLOptGroupElement;
    "option": HTMLOptionElement;
    "output": HTMLOutputElement;
    "p": HTMLParagraphElement;
    "param": HTMLParamElement;
    "picture": HTMLPictureElement;
    "pre": HTMLPreElement;
    "progress": HTMLProgressElement;
    "q": HTMLQuoteElement;
    "rp": HTMLElement;
    "rt": HTMLElement;
    "ruby": HTMLElement;
    "s": HTMLElement;
    "samp": HTMLElement;
    "script": HTMLScriptElement;
    "section": HTMLElement;
    "select": HTMLSelectElement;
    "slot": HTMLSlotElement;
    "small": HTMLElement;
    "source": HTMLSourceElement;
    "span": HTMLSpanElement;
    "strong": HTMLElement;
    "style": HTMLStyleElement;
    "sub": HTMLElement;
    "summary": HTMLElement;
    "sup": HTMLElement;
    "table": HTMLTableElement;
    "tbody": HTMLTableSectionElement;
    "td": HTMLTableDataCellElement;
    "template": HTMLTemplateElement;
    "textarea": HTMLTextAreaElement;
    "tfoot": HTMLTableSectionElement;
    "th": HTMLTableHeaderCellElement;
    "thead": HTMLTableSectionElement;
    "time": HTMLTimeElement;
    "title": HTMLTitleElement;
    "tr": HTMLTableRowElement;
    "track": HTMLTrackElement;
    "u": HTMLElement;
    "ul": HTMLUListElement;
    "var": HTMLElement;
    "video": HTMLVideoElement;
    "wbr": HTMLElement;
}
```

# Classç±»(TS -- 8)

> `ES6 `æä¾›äº†æ›´æ¥è¿‘ä¼ ç»Ÿè¯­è¨€çš„å†™æ³•ï¼Œå¼•å…¥äº† Classï¼ˆç±»ï¼‰è¿™ä¸ªæ¦‚å¿µï¼Œä½œä¸ºå¯¹è±¡çš„æ¨¡æ¿ã€‚é€šè¿‡ `class` å…³é”®å­—ï¼Œå¯ä»¥å®šä¹‰ç±»ã€‚åŸºæœ¬ä¸Šï¼ŒES6 çš„ `class` å¯ä»¥çœ‹ä½œåªæ˜¯ä¸€ä¸ª`è¯­æ³•ç³–`ï¼Œå®ƒçš„ç»å¤§éƒ¨åˆ†åŠŸèƒ½ï¼ŒES5 éƒ½å¯ä»¥åšåˆ°ï¼Œæ–°çš„ `class` å†™æ³•åªæ˜¯è®©å¯¹è±¡åŸå‹çš„å†™æ³•æ›´åŠ æ¸…æ™°ã€æ›´åƒ`é¢å‘å¯¹è±¡`ç¼–ç¨‹çš„è¯­æ³•è€Œå·²ã€‚ä¸Šé¢çš„ä»£ç ç”¨ ES6 çš„ â€œç±»â€ æ”¹å†™

> JavaScriptå†™æ³•

```typescript
//å®šä¹‰ç±»      JavaScriptå†™æ³•
class Person {
    constructor (name:string,age:number,sub:boolean) {
 		this.name = name
        this.age = age
        this.sub = sub
    }
}

new Person("å°æ»¡",22,false)
```

> TypeScriptå†™æ³•

```typescript
//åœ¨TypeScriptä¸­æ˜¯éœ€è¦æå‰å£°æ˜ç±»å‹çš„
class Person {
    name:string
    age:number
    sub:boolean//æ²¡é”™ï¼Œæ²¡ä½¿ç”¨æ ‡çº¢çš„æ˜¯è¿™äº›
    constructor (name:string,age:number,sub:boolean) {
 		this.name = name
        this.age = age
        this.sub = sub//ä¸Šé¢å®šä¹‰äº†å˜é‡å°±éœ€è¦ä½¿ç”¨ï¼Œå¦‚æœæ²¡ç”¨ä½¿ç”¨çš„è¯å£°æ˜çš„å˜é‡å°±ä¼šæ ‡çº¢(å°±ç®—ä¸æ ‡çº¢ä¸æç¤ºï¼ŒçœŸè¿è¡Œä¸‹å»ä¹Ÿä¼šæŠ¥é”™)ï¼Œä¸èƒ½å°±é‚£ä¹ˆæ”¾ç€ï¼Œè¦ä¹ˆå°±ç”¨ä¸Šï¼Œè¦ä¹ˆå°±ç»™ä»–ä¸ªé»˜è®¤å€¼0å¡ç€
    }
}

new Person("å°æ»¡",22,false)
```

### public

> publicå†…éƒ¨å¤–éƒ¨éƒ½å¯ä»¥è®¿é—®ï¼Œå¦‚æœå®šä¹‰äº†publicï¼Œåƒpå°±èƒ½å¤Ÿè®¿é—®constructorå†…éƒ¨çš„å˜é‡äº†ã€‚å½“ç„¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¹Ÿæ˜¯public

```typescript
//åœ¨TypeScriptä¸­æ˜¯éœ€è¦æå‰å£°æ˜ç±»å‹çš„
class Person {
    public name:string
    public age:number
    public sub:boolean//æ²¡é”™ï¼Œæ²¡ä½¿ç”¨æ ‡çº¢çš„æ˜¯è¿™äº›
    constructor (name:string,age:number,sub:boolean) {
 		this.name = name
        this.age = age
        this.sub = sub//ä¸Šé¢å®šä¹‰äº†å˜é‡å°±éœ€è¦ä½¿ç”¨ï¼Œå¦‚æœæ²¡ç”¨ä½¿ç”¨çš„è¯å£°æ˜çš„å˜é‡å°±ä¼šæ ‡çº¢(å°±ç®—ä¸æ ‡çº¢ä¸æç¤ºï¼ŒçœŸè¿è¡Œä¸‹å»ä¹Ÿä¼šæŠ¥é”™)ï¼Œä¸èƒ½å°±é‚£ä¹ˆæ”¾ç€ï¼Œè¦ä¹ˆå°±ç”¨ä¸Šï¼Œè¦ä¹ˆå°±ç»™ä»–ä¸ªé»˜è®¤å€¼0å¡ç€
    }
}

let p = new Person("å°æ»¡",22,false)
p.age p.name p.sub//éƒ½å¯ä»¥è®¿é—®
```

### private

> private ç§æœ‰å˜é‡åªèƒ½åœ¨å†…éƒ¨è®¿é—®

```typescript
//åœ¨TypeScriptä¸­æ˜¯éœ€è¦æå‰å£°æ˜ç±»å‹çš„
class Person {
    private name:string
    private age:number
    private sub:boolean//æ²¡é”™ï¼Œæ²¡ä½¿ç”¨æ ‡çº¢çš„æ˜¯è¿™äº›
    constructor (name:string,age:number,sub:boolean) {
 		this.name = name
        this.age = age
        this.sub = sub//ä¸Šé¢å®šä¹‰äº†å˜é‡å°±éœ€è¦ä½¿ç”¨ï¼Œå¦‚æœæ²¡ç”¨ä½¿ç”¨çš„è¯å£°æ˜çš„å˜é‡å°±ä¼šæ ‡çº¢(å°±ç®—ä¸æ ‡çº¢ä¸æç¤ºï¼ŒçœŸè¿è¡Œä¸‹å»ä¹Ÿä¼šæŠ¥é”™)ï¼Œä¸èƒ½å°±é‚£ä¹ˆæ”¾ç€ï¼Œè¦ä¹ˆå°±ç”¨ä¸Šï¼Œè¦ä¹ˆå°±ç»™ä»–ä¸ªé»˜è®¤å€¼0å¡ç€
    }
}

let p = new Person("å°æ»¡",22,false)
p.age p.name p.sub//éƒ½è®¿é—®ä¸åˆ°äº†
```

### protected

> protectedå†…éƒ¨å’Œå­ç±»ä¸­è®¿é—®
>
> provateè·Ÿprotectdä»–ä»¬çš„åŒºåˆ«æ˜¯ä¸€ä¸ªæ˜¯åªèƒ½åœ¨å†…éƒ¨ä½¿ç”¨ï¼Œä¸€ä¸ªæ˜¯å†…éƒ¨ä¸å­ç±»è®¿é—®ï¼Œä¾‹å­å¦‚ä¸‹

```typescript
//åœ¨TypeScriptä¸­æ˜¯éœ€è¦æå‰å£°æ˜ç±»å‹çš„
class Person {
    protected name:string
    private age:number
    public sub:boolean//æ²¡é”™ï¼Œæ²¡ä½¿ç”¨æ ‡çº¢çš„æ˜¯è¿™äº›
    constructor (name:string,age:number,sub:boolean) {
 		this.name = name
        this.age = age
        this.sub = sub//ä¸Šé¢å®šä¹‰äº†å˜é‡å°±éœ€è¦ä½¿ç”¨ï¼Œå¦‚æœæ²¡ç”¨ä½¿ç”¨çš„è¯å£°æ˜çš„å˜é‡å°±ä¼šæ ‡çº¢(å°±ç®—ä¸æ ‡çº¢ä¸æç¤ºï¼ŒçœŸè¿è¡Œä¸‹å»ä¹Ÿä¼šæŠ¥é”™)ï¼Œä¸èƒ½å°±é‚£ä¹ˆæ”¾ç€ï¼Œè¦ä¹ˆå°±ç”¨ä¸Šï¼Œè¦ä¹ˆå°±ç»™ä»–ä¸ªé»˜è®¤å€¼0å¡ç€
    }
}

class Man extends Person{
    constructor(){
        super("å°æ»¡",22,false)
        this.name
        this.sub//è¿™ä¸¤ä¸ªéƒ½å¯ä»¥è®¿é—®åˆ°ï¼Œthis.ageè®¿é—®ä¸åˆ°ã€‚å› ä¸ºageæ˜¯privateï¼Œprivateåªèƒ½åœ¨å†…éƒ¨ä½¿ç”¨è€Œä¸èƒ½åœ¨å­ç±»è®¿é—®ï¼ŒManæ˜¯Personçš„å­ç±»
    }
}

let p = new Person("å°æ»¡",22,false)
p.age p.name p.sub
```

## static é™æ€å±æ€§ å’Œ é™æ€æ–¹æ³•

> - **é™æ€å±æ€§å’Œéé™æ€å±æ€§çš„åŒºåˆ«ï¼š**
>
>   - åœ¨å†…å­˜ä¸­å­˜æ”¾çš„ä½ç½®ä¸åŒï¼šæ‰€æœ‰ static ä¿®é¥°çš„å±æ€§å’Œæ–¹æ³•éƒ½å­˜æ”¾åœ¨å†…å­˜çš„æ–¹æ³•åŒºé‡Œï¼Œè€Œéé™æ€çš„éƒ½å­˜åœ¨å †å†…å­˜ä¸­
>   -  å‡ºç°çš„æ—¶æœºä¸åŒï¼šé™æ€å±æ€§å’Œæ–¹æ³•åœ¨æ²¡åˆ›å»ºå¯¹è±¡ä¹‹å‰å°±å­˜åœ¨ï¼Œè€Œéé™æ€çš„éœ€è¦åœ¨åˆ›å»ºå¯¹è±¡æ‰å­˜åœ¨
>   - é™æ€å±æ€§æ˜¯æ•´ä¸ªç±»éƒ½å…¬ç”¨çš„
>   - ç”Ÿå‘½å‘¨æœŸä¸ä¸€æ ·ï¼Œé™æ€åœ¨ç±»æ¶ˆå¤±åè¢«é”€æ¯ï¼Œéé™æ€åœ¨å¯¹è±¡é”€æ¯åé”€æ¯
>   - ç”¨æ³•ï¼šé™æ€çš„å¯ä»¥ç›´æ¥é€šè¿‡ç±»åè®¿é—®ï¼Œéé™æ€åªèƒ½é€šè¿‡å¯¹è±¡è¿›è¡Œè®¿é—®
>
> - ä½¿ç”¨`static`æ³¨æ„äº‹é¡¹
>
>   - **å¸¦é™æ€ä¿®é¥°ç¬¦çš„æ–¹æ³•åªèƒ½è®¿é—®é™æ€å±æ€§**
>   - **éé™æ€æ–¹æ³•æ—¢èƒ½è®¿é—®é™æ€å±æ€§ä¹Ÿèƒ½è®¿é—®éé™æ€å±æ€§**
>   - **éé™æ€æ–¹æ³•ä¸èƒ½å®šä¹‰é™æ€å˜é‡**
>   - **é™æ€æ–¹æ³•ä¸èƒ½ä½¿ç”¨ this å…³é”®å­—**
>   - **é™æ€æ–¹æ³•ä¸èƒ½è°ƒç”¨éé™æ€æ–¹æ³•ï¼Œåä¹‹å¯ä»¥**
>
> - çˆ¶å­ç±»ä¸­é™æ€å’Œéé™æ€çš„å…³ç³»
>
>   - å¯¹äºéé™æ€å±æ€§ï¼Œå­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»éé™æ€å±æ€§ï¼Œä½†æ˜¯å½“çˆ¶å­ç±»å‡ºç°ç›¸åŒçš„éé™æ€å±æ€§æ—¶ï¼Œä¸ä¼šå‘ç”Ÿå­ç±»çš„é‡å†™å¹¶è¦†ç›–çˆ¶ç±»çš„éé™æ€å±æ€§ï¼Œè€Œæ˜¯éšè—çˆ¶ç±»çš„éé™æ€å±æ€§
>   - å¯¹äºéé™æ€æ–¹æ³•ï¼Œå­ç±»å¯ä»¥ç»§æ‰¿å¹¶é‡å†™çˆ¶ç±»çš„éé™æ€æ–¹æ³•
>   - å¯¹äºé™æ€å±æ€§ï¼Œå­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»çš„é™æ€å±æ€§ï¼Œä½†æ˜¯å¦‚ä½•å’Œéé™æ€å±æ€§ä¸€æ ·æ—¶ï¼Œä¼šè¢«éšè—
>   - å¯¹äºé™æ€æ–¹æ³•ï¼Œå­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»çš„é™æ€æ–¹æ³•ï¼Œä½†æ˜¯ä¸èƒ½é‡å†™é™æ€æ–¹æ³•ï¼ŒåŒåæ—¶ä¼šéšè—çˆ¶ç±»çš„
>
>   æ³¨ï¼šé™æ€å±æ€§ã€é™æ€æ–¹æ³•ã€éé™æ€å±æ€§éƒ½å¯ä»¥è¢«ç»§æ‰¿å’Œéšè—ï¼Œä½†æ˜¯ä¸å¯ä»¥è¢«é‡å†™ï¼Œéé™æ€æ–¹æ³•å¯ä»¥è¢«é‡å†™å’Œç»§æ‰¿

> - **é™æ€ä»£ç å—çš„ä½œç”¨**ï¼š
>   ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæœ‰äº›ä»£ç éœ€è¦åœ¨é¡¹ç›®å¯åŠ¨çš„æ—¶å€™å°±æ‰§è¡Œï¼Œè¿™æ—¶å€™å°±éœ€è¦é™æ€ä»£ç å—ï¼Œæ¯”å¦‚ä¸€ä¸ªé¡¹ç›®å¯åŠ¨éœ€è¦åŠ è½½é…ç½®æ–‡ä»¶ï¼Œæˆ–åˆå§‹åŒ–å†…å®¹ç­‰ã€‚
> - **é™æ€ä»£ç å—ä¸èƒ½å‡ºç°åœ¨ä»»ä½•æ–¹æ³•ä½“å†…**
>   å¯¹äºæ™®é€šæ–¹æ³•ï¼šæ™®é€šæ–¹æ³•æ˜¯éœ€è¦åŠ è½½ç±» new å‡ºä¸€ä¸ªå®ä¾‹åŒ–å¯¹è±¡ï¼Œé€šè¿‡è¿è¡Œè¿™ä¸ªå¯¹è±¡æ‰èƒ½è¿è¡Œä»£ç å—ï¼Œè€Œé™æ€æ–¹æ³•éšç€ç±»åŠ è½½å°±è¿è¡Œäº†ã€‚
>   å¯¹äºé™æ€æ–¹æ³•ï¼šåœ¨ç±»åŠ è½½æ—¶é™æ€æ–¹æ³•ä¹ŸåŠ è½½äº†ï¼Œä½†æ˜¯å¿…é¡»éœ€è¦ç±»åæˆ–è€…å¯¹è±¡åæ‰å¯ä»¥è®¿é—®ï¼Œç›¸æ¯”äºé™æ€ä»£ç å—ï¼Œé™æ€æ–¹æ³•æ˜¯è¢«åŠ¨è¿è¡Œï¼Œè€Œé™æ€ä»£ç å—æ˜¯ä¸»åŠ¨è¿è¡Œ
> - **é™æ€ä»£ç å—ä¸èƒ½è®¿é—®æ™®é€šå˜é‡**
>   æ™®é€šå˜é‡åªèƒ½é€šè¿‡å¯¹è±¡è°ƒç”¨çš„ï¼Œæ‰€ä»¥æ™®é€šå˜é‡ä¸èƒ½æ”¾åœ¨é™æ€ä»£ç å—ä¸­ã€‚
>
>  æ™®é€šä»£ç å—å’Œæ„é€ ä»£ç å—
>
> - **é™æ€ä»£ç å—å’Œæ„é€ ä»£ç å—åœ¨å£°æ˜ä¸Šå°‘ä¸€ä¸ª static å…³é”®å­—**
> - **æ‰§è¡Œæ—¶æœº**ï¼š
>   æ„é€ ä»£ç å—åœ¨åˆ›å»ºå¯¹è±¡æ—¶è¢«è°ƒç”¨ï¼Œæ¯æ¬¡åˆ›å»ºå¯¹è±¡éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡ï¼Œä¸”ä¼˜å…ˆäºæ„é€ å‡½æ•°æ‰§è¡Œã€‚
>   æ³¨ï¼šä¸æ˜¯ä¼˜å…ˆäºæ„é€ å‡½æ•°æ‰§è¡Œï¼Œè€Œæ˜¯ä¾æ‰˜äºæ„é€ å‡½æ•°ï¼Œå¦‚æœä¸åˆ›å»ºå¯¹è±¡å°±ä¸ä¼šæ‰§è¡Œæ„é€ ä»£ç å—
> - **æ™®é€šä»£ç å—å’Œæ„é€ ä»£ç å—çš„åŒºåˆ«åœ¨äº**ï¼Œæ„é€ ä»£ç å—æ˜¯åœ¨ç±»ä¸­å®šäºçš„ï¼Œè€Œæ™®é€šä»£ç å—æ˜¯åœ¨æ–¹æ³•ä½“ä¸­å®šä¹‰çš„ï¼Œæ‰§è¡Œé¡ºåºå’Œä¹¦å†™é¡ºåºä¸€è‡´ã€‚
>
> æ‰§è¡Œé¡ºåº
>
> â€‹      **é™æ€ä»£ç å— > æ„é€ ä»£ç å— > æ„é€ å‡½æ•° > æ™®é€šä»£ç å—**

```typescript
class Person {
    protected name:string
    private age:number
    public sub:boolean//æ²¡é”™ï¼Œæ²¡ä½¿ç”¨æ ‡çº¢çš„æ˜¯è¿™äº›
    static aaa:string = '123456'//é™æ€å±æ€§
    
    constructor (name:string,age:number,sub:boolean) {
 		this.name = name
        this.age = age
        this.sub = sub//ä¸Šé¢å®šä¹‰äº†å˜é‡å°±éœ€è¦ä½¿ç”¨ï¼Œå¦‚æœæ²¡ç”¨ä½¿ç”¨çš„è¯å£°æ˜çš„å˜é‡å°±ä¼šæ ‡çº¢(å°±ç®—ä¸æ ‡çº¢ä¸æç¤ºï¼ŒçœŸè¿è¡Œä¸‹å»ä¹Ÿä¼šæŠ¥é”™)ï¼Œä¸èƒ½å°±é‚£ä¹ˆæ”¾ç€ï¼Œè¦ä¹ˆå°±ç”¨ä¸Šï¼Œè¦ä¹ˆå°±ç»™ä»–ä¸ªé»˜è®¤å€¼0å¡ç€
        this.run()//ä¼šæŠ¥é”™ï¼Œè°ƒç”¨ä¸äº†ã€‚äº’æ–¥çš„ï¼Œä¸èƒ½å¤Ÿé€šè¿‡é™æ€å‡½æ•°å»è®¿é—®å†…éƒ¨çš„å˜é‡ï¼Œæˆ–è€…æ˜¯åœ¨å†…éƒ¨çš„å˜é‡å»è°ƒç”¨å¤–éƒ¨çš„é™æ€å‡½æ•°
        Person.run()//åªèƒ½è¿™æ ·å»è°ƒç”¨
    }
    
    static run (){
        this.dev()//é™æ€å‡½æ•°ä¹‹é—´å¯ä»¥äº’ç›¸è°ƒç”¨
        this.aaa//ç”¨thisçš„è¯åªèƒ½è®¿é—®ä¸Šé¢staticç±»å‹çš„ï¼Œå…¶ä»–çš„ä¸ç®¡æ˜¯publicè¿˜æ˜¯privateæˆ–è€…æ˜¯protectedéƒ½æ˜¯ä¸èƒ½å¤Ÿè®¿é—®çš„(ä¼šæŠ¥ä¸å­˜åœ¨å±æ€§çš„é”™è¯¯)   å› ä¸ºè¿™é‡Œçš„thisæŒ‡çš„æ˜¯å½“å‰è¿™ä¸ªç±»ï¼Œè€Œæ„é€ å‡½æ•°é‡Œé¢çš„thisæŒ‡çš„æ˜¯æ–°çš„å®ä¾‹å¯¹è±¡
        return '789'
    }
    
    static dev(){
        this.aaa//é™æ€å‡½æ•°ä¹‹é—´å¯ä»¥äº’ç›¸è°ƒç”¨
        return 'dev'
    }
    
}

console.log(Person.run())//è¿”å›789

Person.aaa//èƒ½å¤Ÿç›´æ¥è®¿é—®ï¼Œä¸éœ€è¦å†newä¸€ä¸‹
console.log(Person.aaa)
let p = new Person("å°æ»¡",22,false)
```

## interface å®šä¹‰ ç±»

>  ts interface å®šä¹‰ç±» ä½¿ç”¨å…³é”®å­— implements  åé¢è·Ÿ interface çš„åå­—å¤šä¸ªç”¨é€—å·éš”å¼€ ç»§æ‰¿è¿˜æ˜¯ç”¨ extends
>
> é€šè¿‡æ¥å£å»çº¦æŸç±»

```typescript
interface Person{
    run(type:boolean):boolean
}

class Man implements Person{//ä¼šæç¤ºæˆ‘ä»¬Manä¸­ç¼ºå°‘å±æ€§runï¼Œä½†ç±»å‹Personä¸­éœ€è¦è¯¥å±æ€§
    
}
```

```typescript
//é€šè¿‡æ¥å£å»çº¦æŸç±»
interface Person{
    run(type:boolean):boolean
}

interface H{
    set():void
}

class Man implements Person,H{//ä¼šæŠ¥é”™ï¼Œæç¤ºæˆ‘ä»¬ç¼ºå°‘setå±æ€§
 	   run(type:boolean):boolean{
           return type
       }
}
```

```typescript
interface Person{
    run(type:boolean):boolean
}

interface H{
    set():void
}

class A{//ä¹Ÿå¯ä»¥ä½¿ç”¨ç»§æ‰¿å»ä½¿ç”¨
    params:string
    constructor(params){
        this.params = params
    }
}

class Man extends A implements Person,H{
 	   run(type:boolean):boolean{
           return type
       }
    	set(){
            //å•¥ä¹Ÿæ²¡æœ‰ï¼Œè¿™å°±æ˜¯ç”¨æ¥å£å»æè¿°ç±»
        }
}
```

# æŠ½è±¡ç±»(TypeScript8)

> ç”¨å…³é”®è¯`abstract`ä¿®é¥°çš„ç±»ç§°ä¸º abstract ç±»ï¼ˆ**æŠ½è±¡ç±»**ï¼‰
>
> åº”ç”¨åœºæ™¯å¦‚æœä½ å†™çš„ç±»å®ä¾‹åŒ–ä¹‹åæ¯«æ— ç”¨å¤„æ­¤æ—¶æˆ‘å¯ä»¥æŠŠä»–å®šä¹‰ä¸ºæŠ½è±¡ç±»
>
> æˆ–è€…ä½ ä¹Ÿå¯ä»¥æŠŠä»–ä½œä¸ºä¸€ä¸ªåŸºç±» -> é€šè¿‡ç»§æ‰¿ä¸€ä¸ª**æ´¾ç”Ÿç±»**å»å®ç°åŸºç±»çš„ä¸€äº›æ–¹æ³•
>
> å¯¹äº abstract æ–¹æ³•åªå…è®¸å£°æ˜ï¼Œä¸å…è®¸å®ç°ï¼ˆå› ä¸ºæ²¡æœ‰æ–¹æ³•ä½“ï¼‰ï¼ˆæ¯•ç«Ÿå«æŠ½è±¡ï¼Œå½“ç„¶ä¸èƒ½å®å®åœ¨åœ¨çš„è®©ä½ å®ç°ï¼‰ï¼Œå¹¶ä¸”ä¸å…è®¸ä½¿ç”¨ final å’Œ abstract åŒæ—¶ä¿®é¥°ä¸€ä¸ªæ–¹æ³•æˆ–è€…ç±»ï¼Œä¹Ÿä¸å…è®¸ä½¿ç”¨ static ä¿®é¥° abstract æ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œabstract æ–¹æ³•åªèƒ½æ˜¯å®ä¾‹æ–¹æ³•ï¼Œä¸èƒ½æ˜¯ç±»æ–¹æ³•ã€‚

```typescript
abstract class A{
    name:string
    construct(name:string){//constructï¼šæ„é€ å™¨
        this.name = name
    }
    //abstract getName(){//æ–¹æ³•getNameä¸èƒ½å…·æœ‰å®ç°ï¼Œå› ä¸ºå®ƒæ ‡è®°ä¸ºæŠ½è±¡ã€‚å®šä¹‰æŠ½è±¡ç±»çš„å‡½æ•°
//    return 213
//}
    setName(name:string){
        this.name = name
    }
    abstract getName():string//æŠ½è±¡ç±»
    
    
}

class B extends A{//æ´¾ç”Ÿç±»ã€‚å®šä¹‰äº†æŠ½è±¡ç±»å¿…é¡»åœ¨æ´¾ç”Ÿç±»é‡Œå®ç°
        //Bç±»æ˜¯ç»§æ‰¿Aç±»çš„ï¼Œæ­¤æ—¶Aç±»å°±æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»
    constructor(){
        super('å°æ»¡')
    }
    getName():string{
        return this.name
    }
}
//æ­¤æ—¶Aç±»æ˜¯æ— æ³•è¢«åˆ›å»ºå®ä¾‹çš„(new A)ï¼Œä¹Ÿå°±æ˜¯æ— æ³•åˆ›å»ºæŠ½è±¡ç±»çš„å®ä¾‹
//Bç±»æ˜¯å¯ä»¥åˆ›å»ºå®ä¾‹çš„(new B)

let b = new B
b.setName("å°æ»¡2")//é€šè¿‡æŠ½è±¡ç±»çš„è®¾ç½®ï¼ŒæˆåŠŸä¿®æ”¹æ‰å­ç±»çš„å†…å®¹
//    setName(name:string){
//        this.name = name
//    }
console.log(b.getName())

```

# å…ƒç»„ç±»å‹(TS -- 9)

> æ•°ç»„åˆå¹¶äº†ç›¸åŒç±»å‹çš„å¯¹è±¡ï¼Œè€Œå…ƒç»„ï¼ˆTupleï¼‰åˆå¹¶äº†ä¸åŒç±»å‹çš„å¯¹è±¡ã€‚

```typescript
let arr:[string,number] = ['å°æ»¡',22]//è¿™æ ·çš„æ–¹å¼å°±å«åšå…ƒç»„ï¼Œå®šä¹‰äº†æ¯ä¸ªä½ç½®éœ€è¦æ»¡è¶³çš„ä¸åŒç±»å‹
arr[0].length//æœ‰
arr[1].length//æ— ï¼Œå› ä¸ºä¸Šé¢çš„å®šä¹‰ç±»å‹ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬æ¨æ–­æ˜¯å¦æœ‰è¯¥æ–¹æ³•
//Number ç±»å‹æ˜¯æ²¡æœ‰ length å±æ€§çš„
```

### è¶Šç•Œçš„å…ƒç»„

> å½“æ·»åŠ çš„å…ƒç»„è¶Šç•Œçš„æ—¶å€™ï¼Œè¶Šç•Œçš„ç±»å‹ä¼šè¢«é™åˆ¶ä¸ºå…ƒç»„ç±»å‹ä¸­æ¯ä¸ªç±»å‹çš„è”åˆç±»å‹

```typescript
let arr:[string,number] = ['å°æ»¡',22]//è¿™æ ·çš„æ–¹å¼å°±å«åšå…ƒç»„ï¼Œå®šä¹‰äº†æ¯ä¸ªä½ç½®éœ€è¦æ»¡è¶³çš„ä¸åŒç±»å‹
arr.push(true)//ä¼šæŠ¥é”™ï¼Œå› ä¸ºç±»å‹booleanå‚æ•°ä¸èƒ½èµ‹å€¼ç»™string|numberçš„ç±»å‹
//è¿™ä¸ªå°±æ˜¯å…ƒç»„å¯¹è¶Šç•Œå…ƒç´ çš„å¤„ç†

arr.push('111',2222)//è¿™ç§å°±å¯ä»¥
//ä¹Ÿå¯ä»¥å¯¹äºŒç»´æ•°ç»„è¿›è¡Œé™åˆ¶è§„å®šç±»å‹
```

# æšä¸¾ç±»å‹(TS -- 10)

> åœ¨ javaScript ä¸­æ˜¯æ²¡æœ‰`æšä¸¾`çš„æ¦‚å¿µçš„ 	TS å¸®æˆ‘ä»¬å®šä¹‰äº†æšä¸¾è¿™ä¸ªç±»å‹

## enum å…³é”®å­—å®šä¹‰æšä¸¾

### æ•°å­—å®šä¹‰æšä¸¾

> é»˜è®¤ä»0å¼€å§‹çš„

```typescript
enum Color{
    red,
    green,
    blue
}
console.log(Color.red,Color.blue,Color.green)//èƒ½å¤Ÿå¾—åˆ°ä»–ä»¬çš„é¡ºåºæ•°å­—ï¼Œè¿™é‡Œè¿”å›0ï¼Œ2ï¼Œ1
```

#### å¢é•¿æšä¸¾

> èƒ½å¤Ÿé€šè¿‡è‡ªå®šä¹‰å¼€å¤´å†³å®šä»å“ªä¸ªæ•°å­—å¼€å§‹æšä¸¾ï¼Œå…¶ä»–ä½ç½®çš„éƒ½å¯ä»¥å®šä¹‰ï¼Œåé¢çš„æ•°å­—å°±æŒ‰é¡ºåºæšä¸¾

```typescript
enum Color{
    red=2,
    green,
    blue
}
console.log(Color.red,Color.blue,Color.green)//èƒ½å¤Ÿå¾—åˆ°ä»–ä»¬çš„é¡ºåºæ•°å­—ï¼Œè¿™é‡Œè¿”å›2ï¼Œ4ï¼Œ3
```

### å­—ç¬¦ä¸²æšä¸¾

> å­—ç¬¦ä¸²æšä¸¾çš„æ¦‚å¿µå¾ˆç®€å•ã€‚ åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²æšä¸¾é‡Œï¼Œæ¯ä¸ªæˆå‘˜éƒ½å¿…é¡»ç”¨å­—ç¬¦ä¸²å­—é¢é‡ï¼Œæˆ–å¦å¤–ä¸€ä¸ªå­—ç¬¦ä¸²æšä¸¾æˆå‘˜è¿›è¡Œåˆå§‹åŒ–ã€‚
>
> ç”±äºå­—ç¬¦ä¸²æšä¸¾æ²¡æœ‰è‡ªå¢é•¿çš„è¡Œä¸ºï¼Œå­—ç¬¦ä¸²æšä¸¾å¯ä»¥å¾ˆå¥½çš„åºåˆ—åŒ–ã€‚ æ¢å¥è¯è¯´ï¼Œå¦‚æœä½ æ­£åœ¨è°ƒè¯•å¹¶ä¸”å¿…é¡»è¦è¯»ä¸€ä¸ªæ•°å­—æšä¸¾çš„è¿è¡Œæ—¶çš„å€¼ï¼Œè¿™ä¸ªå€¼é€šå¸¸æ˜¯å¾ˆéš¾è¯»çš„ - å®ƒå¹¶ä¸èƒ½è¡¨è¾¾æœ‰ç”¨çš„ä¿¡æ¯ï¼Œå­—ç¬¦ä¸²æšä¸¾å…è®¸ä½ æä¾›ä¸€ä¸ªè¿è¡Œæ—¶æœ‰æ„ä¹‰çš„å¹¶ä¸”å¯è¯»çš„å€¼ï¼Œç‹¬ç«‹äºæšä¸¾æˆå‘˜çš„åå­—ã€‚

```typescript
enum Types{
   Red = 'red',
   Green = 'green',
   BLue = 'blue'
}
```

### å¼‚æ„æšä¸¾

> æšä¸¾å¯ä»¥æ··åˆå­—ç¬¦ä¸²å’Œæ•°å­—æˆå‘˜

```typescript
enum Types{
   No = "No",
   Yes = 1,
}
console.log(Types.NO,Types.Yes)
```

### æ¥å£æšä¸¾

> å®šä¹‰ä¸€ä¸ªæšä¸¾ Types å®šä¹‰ä¸€ä¸ªæ¥å£ A ä»–æœ‰ä¸€ä¸ªå±æ€§ red å€¼ä¸º Types.yyds
>
> å£°æ˜å¯¹è±¡çš„æ—¶å€™è¦éµå¾ªè¿™ä¸ªè§„åˆ™

```typescript
 enum Color{
     no = "NO",
     yes = 1
 }

interface A{
    red:Color.yes
}

let B:A{
    red:Color.yes
    //æˆ–è€…ç›´æ¥red:1ï¼Œåªèƒ½å¡«å…¥è¿™ä¸¤ä¸ªå†…å®¹å…¶ä¸­ä¹‹ä¸€ï¼Œå…¶ä»–çš„ä¼šæŠ¥é”™
}
```

### constæšä¸¾

> let å’Œ var éƒ½æ˜¯ä¸å…è®¸çš„å£°æ˜åªèƒ½ä½¿ç”¨ const
>
> å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæšä¸¾æ˜¯ååˆ†æœ‰æ•ˆçš„æ–¹æ¡ˆã€‚ ç„¶è€Œåœ¨æŸäº›æƒ…å†µä¸‹éœ€æ±‚å¾ˆä¸¥æ ¼ã€‚ ä¸ºäº†é¿å…åœ¨é¢å¤–ç”Ÿæˆçš„ä»£ç ä¸Šçš„å¼€é”€å’Œé¢å¤–çš„éç›´æ¥çš„å¯¹æšä¸¾æˆå‘˜çš„è®¿é—®ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `const` æšä¸¾ã€‚ å¸¸é‡æšä¸¾é€šè¿‡åœ¨æšä¸¾ä¸Šä½¿ç”¨ `const` ä¿®é¥°ç¬¦æ¥å®šä¹‰
>
> const å£°æ˜çš„æšä¸¾ä¼šè¢«ç¼–è¯‘æˆå¸¸é‡
>
> æ™®é€šå£°æ˜çš„æšä¸¾ç¼–è¯‘å®Œåæ˜¯ä¸ªå¯¹è±¡

```typescript
const enum Types{//æœ‰æ²¡æœ‰constå†³å®šæ˜¯ç¼–è¯‘æˆå¯¹è±¡è¿˜æ˜¯ç¼–è¯‘æˆå¸¸é‡
    sucess,
    fail
}
let code:number = 0
if(code === sucess){//æ˜¯èƒ½æ‰§è¡Œçš„
    console.log("æˆ‘åœ¨äººæ°‘å¹¿åœºåƒç‚¸é¸¡")
}
```

### åå‘æ˜ å°„

> å®ƒåŒ…å«äº†æ­£å‘æ˜ å°„ï¼ˆ `name` -> `value`ï¼‰å’Œåå‘æ˜ å°„ï¼ˆ `value` -> `name`ï¼‰
>
> è¦æ³¨æ„çš„æ˜¯ *ä¸ä¼š*ä¸ºå­—ç¬¦ä¸²æšä¸¾æˆå‘˜ç”Ÿæˆåå‘æ˜ å°„ã€‚

```typescript
enum Types{
    one
}
let success:number = Types.success

console.log(success)//è¯»å–å¾—å‡ºæ¥ä¸º0
```

```typescript
enum Types{
    success
}
let success:number = Types.success

let key = Types[success]

console.log(`value---${success}`,`key----${key}`)//value---0,key----success
```

# ç±»å‹æ¨è®º|ç±»å‹åˆ«å(TS -- 11)

## ç±»å‹æ¨è®º

> æˆ‘å£°æ˜äº†ä¸€ä¸ªå˜é‡ä½†æ˜¯æ²¡æœ‰å®šä¹‰ç±»å‹
>
> `TypeScript`ä¼šåœ¨æ²¡æœ‰æ˜ç¡®çš„æŒ‡å®šç±»å‹çš„æ—¶å€™æ¨æµ‹å‡ºä¸€ä¸ªç±»å‹ï¼Œè¿™å°±æ˜¯ç±»å‹æ¨è®º

```typescript
let str = "å°æ»¡"
str = 123//ä¼šæŠ¥é”™ï¼Œè™½ç„¶æˆ‘ä»¬æ²¡ç”¨æ˜ç¡®é™åˆ¶ç±»å‹ï¼Œä½†æ˜¯TSç¼–è¾‘å™¨ä¼šè‡ªåŠ¨æ¨è®ºä¸ºstringç±»å‹ã€‚å°±ä¸èƒ½å¤Ÿåœ¨èµ‹å€¼ç»™åˆ«çš„ç±»å‹
```

> å¦‚æœä½ å£°æ˜å˜é‡æ²¡æœ‰å®šä¹‰ç±»å‹ä¹Ÿæ²¡æœ‰èµ‹å€¼è¿™æ—¶å€™ TS ä¼šæ¨æ–­æˆ any ç±»å‹å¯ä»¥è¿›è¡Œä»»ä½•æ“ä½œ

```typescript
let str//ä¸ºanyç±»å‹
str = 123
str = "é©¬æ€é¸¡"
str = false
str = []
```

##### è”åˆç±»å‹

> æŒ‡å®šå¤šç§ç±»å‹ï¼Œåœ¨å‰æ–‡æœ‰æåˆ°

```typescript
type s = string|number
let str:s = "æ°¸æ’çš„ç´«ç½—å…°èŠ±å›­"
let num:s = 520//è¿™æœ‰è¿™ä¸¤ç§ç±»å‹å¯ä»¥
```

### å‡½æ•°å¼çš„ç±»å‹åˆ«å

> type å…³é”®å­—ï¼ˆå¯ä»¥ç»™ä¸€ä¸ªç±»å‹å®šä¹‰ä¸€ä¸ªåå­—ï¼‰**å¤šç”¨äºç¬¦åˆç±»å‹**ï¼Œä½†ä¹Ÿå¯ä»¥è¦æ±‚æœ‰å›ºå®šçš„ä¸œè¥¿

#### å®šä¹‰ç±»å‹åˆ«å

```typescript
type str = string
 
let s:str = "æˆ‘æ˜¯å°æ»¡"
 
console.log(s);
```

####  å®šä¹‰å‡½æ•°åˆ«å

```typescript
type str = () => string
 
let s: str = () => "æˆ‘æ˜¯å°æ»¡"
 
console.log(s);
```

####  å®šä¹‰è”åˆç±»å‹åˆ«å

```typescript
type str = string | number
 
let s: str = 123
 
let s2: str = '123'
 
console.log(s,s2);
```

#### å®šä¹‰å€¼çš„åˆ«å

```typescript
type value = boolean | 0 | '213'
 
let s:value = true
//å˜é‡sçš„å€¼  åªèƒ½æ˜¯ä¸Šé¢valueå®šä¹‰çš„å€¼
```

# neverç±»å‹(TS -- 12)

> TypeScriptå°†ä½¿ç”¨ never ç±»å‹æ¥è¡¨ç¤ºä¸åº”è¯¥å­˜åœ¨çš„çŠ¶æ€
>
> *è¿”å›neverçš„å‡½æ•°å¿…é¡»å­˜åœ¨æ— æ³•è¾¾åˆ°çš„ç»ˆç‚¹*

```typescript
function error(message:string):never {//å› ä¸ºå¿…å®šæŠ›å‡ºå¼‚å¸¸ï¼Œæ‰€ä»¥ error å°†ä¸ä¼šæœ‰è¿”å›å€¼
    throw new Error(message)
}

function loop():never{
    while(true){
        //å› ä¸ºè¿™ä¸ªæ˜¯æ­»å¾ªç¯ï¼Œæ°¸è¿œä¸ä¼šå»è¿”å›çš„
    }
}
```

```typescript
interface A{
    type:"ä¿å®‰"
}

interface B{
    type:"è‰è“"
}

interface C{
    type:"å·å¿ƒèœ"
}

type All = A|B
function type(val:All){
    while(val.type){
        case "ä¿å®‰":break
        case "è‰è“":break
        //case "å·å¿ƒèœ":break
        default://å…œåº•æœºåˆ¶ï¼Œæ­¤æ—¶Cæ²¡æœ‰ç”¨ä¸Šå°±ä¼šæŠ¥é”™æç¤ºã€‚è¿™å°±ç®—neverçš„ä½œç”¨
        const check:never = val
        break
    }
}
```

# Symbolç±»å‹

> `symbol` æ˜¯ä¸€ç§æ–°çš„åŸç”Ÿç±»å‹ï¼Œå°±åƒ `number` å’Œ `string` ä¸€æ ·
>
> symbol` ç±»å‹çš„å€¼æ˜¯é€šè¿‡ `Symbolæ„é€ å‡½æ•°åˆ›å»ºçš„
>
> å¯ä»¥ä¼ é€’å‚åšä¸ºå”¯ä¸€æ ‡è¯† åªæ”¯æŒ string å’Œ number ç±»å‹çš„å‚æ•°

```typescript
let s:symbol = Symbol('å°æ»¡')
let num:symbol = Symbol('å°æ»¡')

let obj = {
    [num] = "value"//Symbol
    [s] = "è‰è“"//Symbol
	name:"å°æ»¡"
	sex:"ç”·"
}

console.log(obj.[num])//å–åˆ°value
console.log(s,num)//è¿”å›Symbol(å°æ»¡)Symbol(å°æ»¡)
console.log(s === num)//false
//è¿™ä¸ªå€¼çœ‹ä¼¼ä¸€æ ·ï¼Œå…¶å®å› ä¸ºå†…å­˜åœ°å€æŒ‡é’ˆä½ç½®ä¸åŒï¼Œæ‰€ä»¥æ˜¯å”¯ä¸€å€¼

for(let key in boj){
    console.log(key)
}//åªä¼šæ‰“å°å‡ºnameè·Ÿsexï¼Œ[num]ä¸[s]å°†æ‰“å°ä¸å‡ºæ¥

console.log(Object.keys(obj))//["name","sex"]
console.log(Object.getOwnPropertyNames(obj))//["name","sex"]ï¼Œè·Ÿä¸Šé¢ä¸€æ ·ï¼Œæ‰“å°ä¸å‡ºæ¥
console.log(JSON.stringify(obj));//["name":"å°æ»¡","sex":"ç”·"]ï¼Œä¸€æ ·æ‰“å°ä¸å‡ºæ¥
```

## èƒ½å¤Ÿè¯»å–åˆ°Symbolçš„ä¸¤ç§æ–¹å¼

> é™æ€æ–¹æ³• **`Reflect.ownKeys()`** è¿”å›ä¸€ä¸ªç”±ç›®æ ‡å¯¹è±¡è‡ªèº«çš„å±æ€§é”®ç»„æˆçš„æ•°ç»„(Array)ã€‚
>
> è¯­æ³•ï¼šReflect.ownKeys(target)   =>  `target`è·å–è‡ªèº«å±æ€§é”®çš„ç›®æ ‡å¯¹è±¡ã€‚
>
> `Reflect.ownKeys` æ–¹æ³•è¿”å›ä¸€ä¸ªç”±ç›®æ ‡å¯¹è±¡è‡ªèº«çš„å±æ€§é”®ç»„æˆçš„æ•°ç»„ã€‚å®ƒçš„è¿”å›å€¼ç­‰åŒäº `Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target))`ã€‚

```typescript
console.log(Object.getOwnPropertySymbol(obj));//èƒ½æ‰“å°å‡ºæ¥ä¸¤ä¸ªSymbolï¼Œå¦å¤–ä¸¤ä¸ªæ™®é€šçš„ä¸ä¼šæ‰“å°å‡ºæ¥

Reflect.ownKeys()//æ­¤å±æ€§æ˜¯å°†æ‰€æœ‰çš„å±æ€§éƒ½åˆ—å‡ºæ¥
console.log(Reflect.ownKeys())//å››ä¸ªå…¨éƒ¨åœ†æ»¡çš„æ‰“å°å‡ºæ¥
```

# è¿­ä»£å™¨|ç”Ÿæˆå™¨(TS -- 13)

> è¿­ä»£å™¨:Symbol.iterator 
>
> è¿­ä»£å™¨ï¼ˆIteratorï¼‰æ˜¯â¼€ç§å¯¹è±¡ï¼Œå®ƒèƒ½å¤Ÿâ½¤æ¥éå†æ ‡å‡†æ¨¡æ¿åº“å®¹å™¨ä¸­çš„éƒ¨åˆ†æˆ–å…¨éƒ¨å…ƒç´ ï¼Œæ¯ä¸ªè¿­ä»£å™¨å¯¹è±¡ä»£è¡¨å®¹å™¨ä¸­çš„ç¡®å®šçš„åœ°å€
> é€šä¿—ç‚¹è¯´ï¼Œè¿­ä»£å™¨è¡¨ç°çš„åƒæŒ‡é’ˆï¼Œè¯»å–é›†åˆæˆ–è€…æ•°ç»„ä¸­çš„â¼€ä¸ªå€¼ï¼Œè¯»å®Œä»¥åâ¼œæŒ‡å‘ä¸‹â¼€æ¡æ•°æ®ï¼Œâ¼€ä¸ªä¸ªæ•°è¿‡å»ã€‚
>
> ç”Ÿæˆå™¨: for of

## è¿­ä»£å™¨

> ## `è¿­ä»£å™¨`Interator çš„ç”¨æ³•
>
> 1.`Interator`æ˜¯ es6 å¼•å…¥çš„ä¸€ç§æ–°çš„éå†æœºåˆ¶ã€‚ä¸¤ä¸ªæ ¸å¿ƒï¼š
>
> (1) è¿­ä»£å™¨æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ï¼Œå®ƒçš„ä½œç”¨æ˜¯ä½¿å„ç§`æ•°æ®ç»“æ„`å¯è¢«ä¾¿æ·çš„è®¿é—®ï¼Œå®ƒæ˜¯é€šè¿‡ä¸€ä¸ªé”®ä¸º Symbol.iterator çš„æ–¹æ³•æ¥å®ç°ã€‚
> (2) è¿­ä»£å™¨æ˜¯ç”¨äº`éå†`æ•°æ®ç»“æ„å…ƒç´ çš„æŒ‡é’ˆï¼ˆå¦‚æ•°æ®åº“ä¸­çš„æ¸¸æ ‡ï¼‰ã€‚
>
> ä½¿ç”¨è¿­ä»£
>
> 1. ä½¿ç”¨`Symbol.interator` åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨
>
> 2. è°ƒç”¨ next æ–¹æ³•å‘ä¸‹è¿­ä»£ï¼Œnext æ–¹æ³•ä¼šè¿”å›å½“å‰çš„ä½ç½®
>
> 3. å½“ done ä¸º true æ—¶åˆ™éå†ç»“æŸ
>
> æ³¨æ„ç‚¹ï¼š
>
> 1. åœ¨è¿­ä»£å™¨è¿­ä»£å…ƒç´ çš„è¿‡ç¨‹ä¸­ï¼Œä¸å…è®¸ä½¿â½¤é›†åˆå¯¹è±¡æ”¹å˜é›†åˆä¸­çš„å…ƒç´ ä¸ªæ•°ï¼Œå¦‚æœéœ€è¦æ·»åŠ æˆ–è€…åˆ é™¤åªèƒ½ä½¿â½¤è¿­ä»£å™¨çš„â½…æ³•æ“ä½œã€‚
> 2. å¦‚æœä½¿â½¤äº†é›†åˆå¯¹è±¡æ”¹å˜é›†åˆä¸­çš„å…ƒç´ ä¸ªæ•°é‚£ä¹ˆå°±ä¼šæŠ¥é”™ï¼šä¸æ”¹å˜ä¸ªæ•°å³å¯ï¼Œæ›¿æ¢ä¹Ÿå¯ä»¥çš„ã€‚
> 3. è¿­ä»£å™¨çš„â½£å­˜å‘¨æœŸä¸ºåˆ›å»ºåˆ°ä½¿â½¤ç»“æŸçš„æ—¶æ®µã€‚
>
> 4. foreach : Iterator çš„å°è£…å˜å½¢ï¼Œå˜å¾—â½ Iteratoræ›´ç®€å•ã€‚ä½†æ˜¯ä»–ä¹Ÿéœ€è¦çŸ¥é“æ•°ç»„æˆ–é›†åˆçš„ç±»å‹ã€‚å¹¶ä¸”ï¼ŒIterator éœ€è¦æ³¨æ„çš„ï¼Œforeach
> åŒæ ·éœ€è¦æ³¨æ„ã€‚

- å­˜åœ¨interatorè¿­ä»£å™¨çš„æœ‰ => 
  - æ•°ç»„[]é‡Œèƒ½å¤Ÿæ‰¾åˆ° Symbol(Symbol.interator)
  - argumentå†…æ‰¾åˆ° Symbol(Symbol.interator)
  - NodeListå†…æ‰¾åˆ°Symbol(Symbol.interator)
  - new set()å†…çš„Prototypeä¸‹ä¸€å±‚Symbol(Symbol.interator)
  - new MapåŒç†ï¼Œä¸€æ ·æœ‰Symbol(Symbol.interator)

```typescript
let arr:Array<number> = [1,5,6]
let it:Intertor<number> = arr[Symbol.interator]()//æ³¨æ„è¿™é‡Œçš„æ¥æ”¶ç±»å‹<number>æ˜¯å›ºå®šè¦å†™çš„

//nextä¸€æ¬¡åªéå†ä¸€ä¸ªæ•°ï¼Œä¸‹ä¸€æ¬¡è°ƒç”¨å°†ä»ä¸Šä¸€æ¬¡éå†åˆ°çš„ä½ç½®å¼€å§‹ä¸‹ä¸€ä¸ª
console.log(iterator.next());  //{ value: 1, done: false }
console.log(iterator.next());  //{ value: 5, done: false }
console.log(iterator.next());  //{ value: 6, done: false }
console.log(iterator.next());  //{ value: undefined, done: true }
//è¿”å›çš„æœ‰ä¸¤ä¸ªå±æ€§ï¼Œä¸€ä¸ªvalueï¼Œä¸€ä¸ªdoneã€‚valueå½“è¯»å–åˆ°å€¼çš„æ—¶å€™ï¼Œdoneä¸ºfalseã€è¯»å–ä¸åˆ°ä¸ºtrue
```

```typescript
type mapKeys = string|number//ç›¸å½“äºèµ·åˆ«åï¼Œåœ¨ä¸‹æ–¹ä½¿ç”¨çš„æ—¶å€™é›†åˆäº†stringä¸numberå°±ä¼šç›¸å¯¹æ–¹ä¾¿ä¸å°‘

let set:Set<number> = new Set([1,2,3])
let map:Map<mapKeys,mapKeys> = new Map()//è¿™é‡Œæ–­è¨€ä¸¤ä¸ªmapKeysï¼Œä¸€ä¸ªå¯¹åº”keyï¼Œä¸€ä¸ªå¯¹åº”value
map.set('1','å°æ»¡')
map.set('2','çœ‹çœ‹è…¿')

//å°è¿­ä»£å™¨çš„å®ç°
function gen(erg:any){//è¿™é‡Œå®šä¹‰ä¸ºanyç±»å‹æ˜¯å› ä¸ºä¸Šé¢è¦ä¼ åˆ°è¿™é‡Œçš„æœ‰å¤šç§ä¸åŒç±»å‹
    let it:interator<any> = erg[Symbol.interator]()
    let next:any = {done:false}
    while(!next.done){//åˆ¤æ–­nextï¼Œç”±äºnexté»˜è®¤ä¸ºfasleï¼Œwhileå¾ªç¯åªæœ‰trueä¼šé€šè¿‡ï¼Œæ‰€ä»¥éœ€è¦å–å
        next = it.next()//åˆšå¼€å§‹æ˜¯å£°æ˜nextç»™ä¸ªé»˜è®¤å€¼ï¼Œç­‰åˆ°å¼€å§‹å¾ªç¯çš„æ—¶å€™å†æŠŠçœŸæ­£çš„å€¼èµ‹ç»™ä»–
        if(!next.done){
            console.log(next);
        }
    }
}

gen(arr)//è°ƒç”¨ç¬¬ä¸€ä¸ªä»£ç å—çš„arrï¼Œè¾“å‡ºäº†ä¸console.log(iterator.next());ä¸€æ ·çš„å†…å®¹
//å¯¹è±¡æ˜¯ä¸æ”¯æŒè¿­ä»£å™¨çš„ä½¿ç”¨çš„ï¼Œå…¶å®æˆ‘ä»¬åœ¨æ§åˆ¶å°è¾“å‡ºä¸€ä¸ªå¯¹è±¡ï¼ŒæŸ¥æ‰¾ä»–å†…ç½®çš„å±æ€§ï¼Œä¹Ÿæ˜¯æ‰¾ä¸åˆ°Symbol.interatorçš„
```

### Symbolåˆ—è¡¨

**Symbol.hasInstance**
æ–¹æ³•ï¼Œä¼šè¢« instanceof è¿ç®—ç¬¦è°ƒç”¨ã€‚æ„é€ å™¨å¯¹è±¡ç”¨æ¥è¯†åˆ«ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯å…¶å®ä¾‹ã€‚

**Symbol.isConcatSpreadable**
å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå½“åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šè°ƒç”¨ Array.prototype.concat æ—¶ï¼Œè¿™ä¸ªå¯¹è±¡çš„æ•°ç»„å…ƒç´ æ˜¯å¦å¯å±•å¼€ã€‚

**Symbol.iterator**
æ–¹æ³•ï¼Œè¢« for-of è¯­å¥è°ƒç”¨ã€‚è¿”å›å¯¹è±¡çš„é»˜è®¤è¿­ä»£å™¨ã€‚

**Symbol.match**
æ–¹æ³•ï¼Œè¢« String.prototype.match è°ƒç”¨ã€‚æ­£åˆ™è¡¨è¾¾å¼ç”¨æ¥åŒ¹é…[å­—ç¬¦ä¸²](https://so.csdn.net/so/search?q=å­—ç¬¦ä¸²&spm=1001.2101.3001.7020)ã€‚

**Symbol.replace**
æ–¹æ³•ï¼Œè¢« String.prototype.replace è°ƒç”¨ã€‚æ­£åˆ™è¡¨è¾¾å¼ç”¨æ¥æ›¿æ¢å­—ç¬¦ä¸²ä¸­åŒ¹é…çš„å­ä¸²ã€‚

**Symbol.search**
æ–¹æ³•ï¼Œè¢« String.prototype.search è°ƒç”¨ã€‚æ­£åˆ™è¡¨è¾¾å¼è¿”å›è¢«åŒ¹é…éƒ¨åˆ†åœ¨å­—ç¬¦ä¸²ä¸­çš„ç´¢å¼•ã€‚

**Symbol.species**
å‡½æ•°å€¼ï¼Œä¸ºä¸€ä¸ªæ„é€ å‡½æ•°ã€‚ç”¨æ¥åˆ›å»ºæ´¾ç”Ÿå¯¹è±¡ã€‚

**Symbol.split**
æ–¹æ³•ï¼Œè¢« String.prototype.split è°ƒç”¨ã€‚æ­£åˆ™è¡¨è¾¾å¼æ¥ç”¨åˆ†å‰²å­—ç¬¦ä¸²ã€‚

**Symbol.toPrimitive**
æ–¹æ³•ï¼Œè¢« ToPrimitive æŠ½è±¡æ“ä½œè°ƒç”¨ã€‚æŠŠå¯¹è±¡è½¬æ¢ä¸ºç›¸åº”çš„åŸå§‹å€¼ã€‚

**Symbol.toStringTag**
æ–¹æ³•ï¼Œè¢«å†…ç½®æ–¹æ³• Object.prototype.toString è°ƒç”¨ã€‚è¿”å›åˆ›å»ºå¯¹è±¡æ—¶é»˜è®¤çš„å­—ç¬¦ä¸²æè¿°ã€‚

**Symbol.unscopables**
å¯¹è±¡ï¼Œå®ƒè‡ªå·±æ‹¥æœ‰çš„å±æ€§ä¼šè¢« with ä½œç”¨åŸŸæ’é™¤åœ¨å¤–ã€‚

----

## ç”Ÿæˆå™¨ï¼ˆBuilderï¼‰

> åˆç§°å»ºé€ è€…æ¨¡å¼ï¼Œè¯¥æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œèƒ½å¤Ÿåˆ†æ­¥éª¤åˆ›å»ºå¤æ‚å¯¹è±¡ã€‚è¯¥æ¨¡å¼å…è®¸ä½¿ç”¨ç›¸åŒçš„åˆ›å»ºä»£ç ç”Ÿæˆä¸åŒç±»å‹å’Œå½¢å¼çš„å¯¹è±¡ã€‚
>
> å…·ä½“å†…å®¹è¯·è·³è½¬é“¾æ¥æŸ¥çœ‹ï¼š[è®¾è®¡æ¨¡å¼-ç”Ÿæˆå™¨](https://zhuanlan.zhihu.com/p/551870461)
>
> ### forâ€¦of è¯­å¥
>
> forâ€¦of ä¼šéå†å¯è¿­ä»£çš„å¯¹è±¡ï¼Œè°ƒç”¨å¯¹è±¡ä¸Šçš„ `Symbol.iterator`æ–¹æ³•ã€‚(æ­¤å¯¹è±¡éå½¼å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯æŒ‡ä½ å³å°†ä¸‹æ‰‹çš„ç›®æ ‡)
>
> å¯¹è±¡ä¹Ÿæ˜¯ä¸æ”¯æŒçš„ï¼Œå› ä¸ºå¯¹è±¡æ²¡ç”¨`Symbol.iterator`æ–¹æ³•ã€‚

```typescript
type mapKeys = string|number//ç›¸å½“äºèµ·åˆ«åï¼Œåœ¨ä¸‹æ–¹ä½¿ç”¨çš„æ—¶å€™é›†åˆäº†stringä¸numberå°±ä¼šç›¸å¯¹æ–¹ä¾¿ä¸å°‘

let set:Set<number> = new Set([1,2,3])
let map:Map<mapKeys,mapKeys> = new Map()//è¿™é‡Œæ–­è¨€ä¸¤ä¸ªmapKeysï¼Œä¸€ä¸ªå¯¹åº”keyï¼Œä¸€ä¸ªå¯¹åº”value
map.set('1','å°æ»¡')
map.set('2','çœ‹çœ‹è…¿')

for (let item of set){
    console.log(item)
}//æ‰“å°å‡º1 2 3

for (let item of arr){
    console.log(item)
}//æ‰“å°å‡º4 5 6

for (let item of map){
    console.log(item)
}//æ‰“å°å‡º['1','å°æ»¡']	['2','çœ‹çœ‹è…¿']
//å…¶å®è¿™å°±æ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œå°†ofåé¢çš„å†…å®¹éå†å­˜å‚¨åˆ°ofå‰é¢çš„å˜é‡ä¸­
```

### è·Ÿfor in çš„åŒºåˆ«

> for inå¾ªç¯å‡ºæ¥çš„æ˜¯ç´¢å¼•è€Œä¸æ˜¯å†…å®¹ï¼Œè¿™ä¸ªåº”è¯¥æ˜¯æœ€æœ¬è´¨çš„åŒºåˆ«äº†
>
> å› ä¸ºfor ofä¼šè°ƒç”¨åº•å±‚interatoré‡Œé¢é‚£ä¸ªlistçš„.value

# æ³›å‹(generic) => (TS -- 14ä¸Š)

> æ³›å‹ç®€å•æ¥è¯´å°±æ˜¯ç±»å‹å˜é‡ï¼Œåœ¨ ts ä¸­å­˜åœ¨ç±»å‹ï¼Œå¦‚ numberã€stringã€booleanç­‰ã€‚æ³›å‹å°±æ˜¯ä½¿ç”¨ä¸€ä¸ªç±»å‹å˜é‡æ¥è¡¨ç¤ºä¸€ç§ç±»å‹ï¼Œç±»å‹å€¼é€šå¸¸æ˜¯åœ¨ä½¿ç”¨çš„æ—¶å€™æ‰ä¼šè®¾ç½®ã€‚æ³›å‹çš„ä½¿ç”¨åœºæ™¯éå¸¸å¤šï¼Œå¯ä»¥åœ¨å‡½æ•°ã€ç±»ã€interface æ¥å£ä¸­ä½¿ç”¨
>
> TypeScriptä¸­ä¸å»ºè®®ä½¿ç”¨ any ç±»å‹ï¼Œä¸èƒ½ä¿è¯ç±»å‹å®‰å…¨ï¼Œè°ƒè¯•æ—¶ç¼ºä¹å®Œæ•´çš„ä¿¡æ¯ã€‚
>
> TypeScript å¯ä»¥ä½¿ç”¨æ³›å‹æ¥åˆ›å»ºå¯é‡ç”¨çš„ç»„ä»¶ã€‚æ”¯æŒå½“å‰æ•°æ®ç±»å‹ï¼ŒåŒæ—¶ä¹Ÿèƒ½æ”¯æŒæœªæ¥çš„æ•°æ®ç±»å‹ã€‚æ‰©å±•çµæ´»ï¼Œå¯ä»¥åœ¨ç¼–è¯‘æ—¶å‘ç°ç±»å‹é”™è¯¯ï¼Œä»è€Œä¿è¯äº†ç±»å‹å®‰å…¨ã€‚

## æ— æ³›å‹ç”¨æ³•

```typescript
//æ•°å­—ç±»å‹
function num(A:number,B:number):Array<number>{//Array<number>ä¸ºå¸Œæœ›è¿”å›numberç±»å‹çš„æ•°ç»„
    return [a,b]
}
num(6,9)
//å­—ç¬¦ä¸²ç±»å‹
function str(A:string,B:string):Array<string>{//Array<number>ä¸ºå¸Œæœ›è¿”å›numberç±»å‹çš„æ•°ç»„
    return [a,b]
}
str('å°æ»¡','ç©¿å¥³è£…')
```

> ä¸€ä¸ªç¬¨çš„æ–¹æ³•å°±åƒä¸Šé¢é‚£æ ·ï¼Œä¹Ÿå°±æ˜¯è¯´ JS æä¾›å¤šå°‘ç§ç±»å‹ï¼Œå°±éœ€è¦å¤åˆ¶å¤šå°‘ä»½ä»£ç ï¼Œç„¶åæ”¹ä¸‹ç±»å‹ç­¾åã€‚è¿™å¯¹ç¨‹åºå‘˜æ¥è¯´æ˜¯è‡´å‘½çš„ã€‚è¿™ç§å¤åˆ¶ç²˜è´´å¢åŠ äº†å‡ºé”™çš„æ¦‚ç‡ï¼Œä½¿å¾—ä»£ç éš¾ä»¥ç»´æŠ¤ï¼Œç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ã€‚å¹¶ä¸”å°†æ¥ JS æ–°å¢æ–°çš„ç±»å‹ï¼Œä½ ä»ç„¶éœ€è¦ä¿®æ”¹ä»£ç ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ çš„ä»£ç **å¯¹ä¿®æ”¹å¼€æ”¾**ï¼Œè¿™æ ·ä¸å¥½ã€‚
>
> å¦‚æœä½ ä½¿ç”¨ any çš„è¯ï¼Œæ€ä¹ˆå†™éƒ½æ˜¯ ok çš„ï¼Œ è¿™å°±ä¸§å¤±äº†ç±»å‹æ£€æŸ¥çš„æ•ˆæœã€‚å®é™…ä¸Šæˆ‘çŸ¥é“æˆ‘ä¼ ç»™ä½ çš„æ˜¯ stringï¼Œè¿”å›æ¥çš„ä¹Ÿä¸€å®šæ˜¯ stringï¼Œè€Œ string ä¸Šæ²¡æœ‰ toFixed æ–¹æ³•ï¼Œå› æ­¤éœ€è¦æŠ¥é”™æ‰æ˜¯æˆ‘æƒ³è¦çš„ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘çœŸæ­£æƒ³è¦çš„æ•ˆæœæ˜¯ï¼š`å½“æˆ‘ç”¨åˆ°idçš„æ—¶å€™ï¼Œä½ æ ¹æ®æˆ‘ä¼ ç»™ä½ çš„ç±»å‹è¿›è¡Œæ¨å¯¼`ã€‚æ¯”å¦‚æˆ‘ä¼ å…¥çš„æ˜¯ stringï¼Œä½†æ˜¯ä½¿ç”¨äº† number ä¸Šçš„æ–¹æ³•ï¼Œä½ å°±åº”è¯¥æŠ¥é”™ã€‚

## ä½¿ç”¨æ³›å‹ä¼˜åŒ–

> ä¸ºäº†è§£å†³ä¸Šé¢çš„è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬**ä½¿ç”¨æ³›å‹å¯¹ä¸Šé¢çš„ä»£ç è¿›è¡Œé‡æ„**ã€‚å’Œæˆ‘ä»¬çš„å®šä¹‰ä¸åŒï¼Œè¿™é‡Œç”¨äº†ä¸€ä¸ª ç±»å‹ Tï¼Œè¿™ä¸ª **T æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»å‹ï¼Œåªæœ‰åœ¨è°ƒç”¨çš„æ—¶å€™æ‰ç¡®å®šå®ƒçš„å€¼**ï¼Œè¿™å°±ä¸ç”¨æˆ‘ä»¬å¤åˆ¶ç²˜è´´æ— æ•°ä»½ä»£ç äº†ã€‚
>
> å…¶ä¸­ `T` ä»£è¡¨ **Type**ï¼Œåœ¨å®šä¹‰æ³›å‹æ—¶é€šå¸¸ç”¨ä½œç¬¬ä¸€ä¸ªç±»å‹å˜é‡åç§°ã€‚ä½†å®é™…ä¸Š `T` å¯ä»¥ç”¨ä»»ä½•æœ‰æ•ˆåç§°ä»£æ›¿ã€‚é™¤äº† `T` ä¹‹å¤–ï¼Œä»¥ä¸‹æ˜¯å¸¸è§æ³›å‹å˜é‡ä»£è¡¨çš„æ„æ€ï¼š
>
> - Kï¼ˆKeyï¼‰ï¼šè¡¨ç¤ºå¯¹è±¡ä¸­çš„é”®ç±»å‹ï¼›
> - Vï¼ˆValueï¼‰ï¼šè¡¨ç¤ºå¯¹è±¡ä¸­çš„å€¼ç±»å‹ï¼›
> - Eï¼ˆElementï¼‰ï¼šè¡¨ç¤ºå…ƒç´ ç±»å‹ã€‚

```typescript
function add<T>(a:T,b:T):Array<T>{//é€šå¸¸å®šä¹‰çš„æ—¶å€™ç±»å‹æ˜¯ä¸æ˜ç¡®çš„ï¼Œæ‰€ä»¥ä¸€èˆ¬ä½¿ç”¨Tæ¥å®šä¹‰
  return [a,b];
}

add<number>(1,2)//1å¯¹åº”aï¼Œ2å¯¹åº”bã€è¿”å›çš„éƒ½æ˜¯numberç±»å‹
add<string>('1','2')//è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦æ”¹åŠ¨è¿™ä¸ªstringï¼Œä¼ é€’åˆ°ä¸Šé¢çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨æ¨æ–­ä¸ºstringç±»å‹äº†

//ç”šè‡³æˆ‘ä»¬å¯ä»¥ç®€å†™
add(1,2)
add('1','2')//ç¼–è¾‘å™¨ä¼šè‡ªåŠ¨æ¨æ–­ç±»å‹ï¼Œä½†æœ€å¥½è¿˜æ˜¯å†™ä¸€ä¸‹ï¼Œå¦‚æœä½ çŸ¥é“ä½ å…·ä½“éœ€è¦çš„æ˜¯ä»€ä¹ˆçš„è¯

//å¯¹æ³›å‹è¿›è¡Œæ€»ç»“å°±æ˜¯ï¼šå®šä¹‰å‰ä¸æ˜ç¡®ç±»å‹ï¼Œä½¿ç”¨çš„æ—¶å€™å†æ˜ç¡®ç±»å‹ï¼Œèƒ½å¤Ÿç»™æˆ‘ä»¬ä¿ç•™æœ‰è¶³å¤Ÿçš„è‡ªç”±åº¦ï¼Œåˆä¸ä¼šåƒanyä¸§å¤±ç±»å‹æ£€æŸ¥çš„æ•ˆæœ
```

> æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸åŒçš„æ³›å‹å‚æ•°åï¼Œåªè¦åœ¨æ•°é‡ä¸Šå’Œä½¿ç”¨æ–¹å¼ä¸Šèƒ½å¯¹åº”ä¸Šå°±å¯ä»¥ã€‚

```typescript
function Sub<T,U>(a:T,b:U):Array<T|U> {//è¿™ä¸ªTè·ŸUéšä¾¿èµ·åå­—éƒ½è¡Œï¼Œæ²¡æœ‰å¼ºåˆ¶è§„èŒƒ
    const params:Array<T|U> = [a,b]
    return params
}
 
 
Sub<Boolean,number>(false,1)//æˆ‘ä»¬è¿™é‡Œå°±å°†å…¶å®šä¹‰ä¸ºå¸ƒå°”å€¼ç±»å‹è·Ÿæ•°å­—ç±»å‹
```

### å®šä¹‰æ³›å‹æ¥å£

> å£°æ˜æ¥å£çš„æ—¶å€™ åœ¨åå­—åé¢åŠ ä¸€ä¸ª <å‚æ•°>
>
> ä½¿ç”¨çš„æ—¶å€™ä¼ é€’ç±»å‹

```typescript
interface MyInter<T> {
   (arg: T): T
}
 
function fn<T>(arg: T): T {
   return arg
}
 
let result: MyInter<number> = fn
 
result(123)
```

### å¯¹è±¡å­—é¢é‡æ³›å‹

```typescript
let foo: { <T>(arg: T): T }
 
foo = function <T>(arg:T):T {
   return arg
}
 
foo(123)
```

## æ³›å‹çº¦æŸ(å‡½æ•°ç±»)

> æˆ‘ä»¬æœŸæœ›åœ¨ä¸€ä¸ªæ³›å‹çš„å˜é‡ä¸Šé¢ï¼Œè·å–å…¶ `length` å‚æ•°ï¼Œä½†æ˜¯ï¼Œæœ‰çš„æ•°æ®ç±»å‹æ˜¯æ²¡æœ‰ `length` å±æ€§çš„

```typescript
function getLegnth<T>(arg:T) {
  return arg.length
}
```

- è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹å…¶è¿›è¡Œçº¦æŸ

```typescript
interface Len{
    length:number
}

function getLegnth<T extends Len>(arg:T) {//ä½¿ç”¨æ¥å£è®©æ³›å‹Tç»§æ‰¿äº†Len
  return arg.length
}

getLength(1)//è¿™ä¸ªæ—¶å€™æˆ‘ä»¬è¿™æ ·ä½¿ç”¨å°±ä¼šæç¤ºæˆ‘ä»¬ç±»å‹"number"çš„å‚æ•°ä¸èƒ½èµ‹ç»™"Len"çš„å‚æ•°
//æˆ‘ä»¬ä¾æ¬¡å¯¹æ•°ç»„ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼éƒ½è¿›è¡Œå°è¯•ï¼Œåˆ†åˆ«ä¸ºå¯ä»¥ã€å¯ä»¥ã€ä¸å¯ä»¥
```

# æ³›å‹çº¦æŸ|æ³›å‹ç±»(TS -- 14ä¸‹)

## ä½¿ç”¨ keyof çº¦æŸå¯¹è±¡

> å…¶ä¸­ä½¿ç”¨äº† TS æ³›å‹å’Œæ³›å‹çº¦æŸã€‚é¦–å…ˆå®šä¹‰äº† T ç±»å‹å¹¶ä½¿ç”¨ extends å…³é”®å­—ç»§æ‰¿ object ç±»å‹çš„å­ç±»å‹ï¼Œç„¶åä½¿ç”¨ keyof æ“ä½œç¬¦è·å– T ç±»å‹çš„æ‰€æœ‰é”®ï¼Œå®ƒçš„è¿”å› ç±»å‹æ˜¯è”åˆ ç±»å‹ï¼Œæœ€ååˆ©ç”¨ extends å…³é”®å­—çº¦æŸ K ç±»å‹å¿…é¡»ä¸º keyof T è”åˆç±»å‹çš„å­ç±»å‹

```typescript
function prop<T, K extends keyof T>(obj: T, key: K) {
   return obj[key]
}
 
let o = { a: 1, b: 2, c: 3 }
 
prop(o, 'a') 
prop(o, 'd') //ï¼Œæˆ‘ä»¬éœ€è¦çº¦æŸä¸€ä¸‹è¿™ä¸ªoé‡Œé¢å¹¶æ²¡æœ‰çš„ä¸œè¥¿ï¼Œæ­¤æ—¶å°±ä¼šæŠ¥é”™å‘ç°æ‰¾ä¸åˆ°
//é€šè¿‡æç¤ºï¼Œæˆ‘é—¨å¯ä»¥çœ‹åˆ°ç±»å‹"d"çš„å‚æ•°ä¸èƒ½èµ‹ç»™ç±»å‹"a"|"b"|"c"çš„å‚æ•°
```

## æ³›å‹ç±»

> å£°æ˜æ–¹æ³•è·Ÿå‡½æ•°ç±»ä¼¼åç§°åé¢å®šä¹‰ <ç±»å‹>
>
> ä½¿ç”¨çš„æ—¶å€™ç¡®å®šç±»å‹ new Sub<number>()

```typescript
//å®šä¹‰æ³›å‹çš„ä¸€ä¸ªç±»
class Sub<T>{
    attr:T[] = []//è¿™é‡Œçš„:åªæ˜¯æ™®é€šçš„ï¼š
    add(a:T):T[]{
        return [a]
    }
}

let s = new Sub<number>()//è¿™é‡Œå·²ç»ä½¿ç”¨æ³›å‹å›ºå®šä¸ºnumberäº†
s.attr = [123]//æ­£å¸¸è¿è¡Œ
s.attr = ['123']//æŠ¥é”™
s.add(123)//ä¹Ÿæ˜¯åªèƒ½ä¼ æ•°å­—

let str = new Sub<string>()//è¿™é‡Œå·²ç»ä½¿ç”¨æ³›å‹å›ºå®šä¸ºnumberäº†
str.attr = [123]//æŠ¥é”™
str.attr = ['123']//æ­£å¸¸è¿è¡Œ
str.add('123')//ä¹Ÿæ˜¯åªèƒ½ä¼ å­—ç¬¦ä¸²

console.log(s,str)
```

## æ³›å‹å·¥å…·ç±»å‹(å¤§é‡è¡¥å……é¢å¤–å†…å®¹)

> ä½œè€…ä½¿ç”¨äº†Typoraä½œä¸ºå†™ç¬”è®°çš„ç¼–è¾‘å™¨ï¼Œè¿™é‡Œå¯ä»¥å¯¹ç›®å½•è¿›è¡ŒæŠ˜å æ–¹é¢æˆ‘ä»¬æŸ¥é˜…æˆ‘ä»¬æƒ³è¦çš„éƒ¨åˆ†

<img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/925/image-20221008104110335.png" alt="image-20221008104110335" style="zoom:45%;" />

ä¸ºäº†æ–¹ä¾¿å¼€å‘è€… TypeScript å†…ç½®äº†ä¸€äº›å¸¸ç”¨çš„å·¥å…·ç±»å‹ï¼Œæ¯”å¦‚ Partialã€Requiredã€Readonlyã€Record å’Œ ReturnType ç­‰ã€‚ä¸è¿‡åœ¨å…·ä½“ä»‹ç»ä¹‹å‰ï¼Œæˆ‘ä»¬å¾—å…ˆä»‹ç»ä¸€äº›ç›¸å…³çš„åŸºç¡€çŸ¥è¯†ï¼Œæ–¹ä¾¿è¯»è€…å¯ä»¥æ›´å¥½çš„å­¦ä¹ å…¶å®ƒçš„å·¥å…·ç±»å‹ã€‚

### 1.typeof

typeof çš„ä¸»è¦ç”¨é€”æ˜¯åœ¨ç±»å‹ä¸Šä¸‹æ–‡ä¸­è·å–å˜é‡æˆ–è€…å±æ€§çš„ç±»å‹ï¼Œä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå…·ä½“ç¤ºä¾‹æ¥ç†è§£ä¸€ä¸‹ã€‚

```js
interface Person {
  name: string;
  age: number;
}
const sem: Person = { name: "semlinker", age: 30 };
type Sem = typeof sem; // type Sem = Person

```

åœ¨ä¸Šé¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ `typeof` æ“ä½œç¬¦è·å– sem å˜é‡çš„ç±»å‹å¹¶èµ‹å€¼ç»™ Sem ç±»å‹å˜é‡ï¼Œä¹‹åæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ Sem ç±»å‹ï¼š

```js
const lolo: Sem = { name: "lolo", age: 5 }

```

ä½ ä¹Ÿå¯ä»¥å¯¹åµŒå¥—å¯¹è±¡æ‰§è¡Œç›¸åŒçš„æ“ä½œï¼š

```js
const Message = {
    name: "jimmy",
    age: 18,
    address: {
      province: 'å››å·',
      city: 'æˆéƒ½'   
    }
}
type message = typeof Message;
/*
 type message = {
    name: string;
    age: number;
    address: {
        province: string;
        city: string;
    };
}
*/

```

æ­¤å¤–ï¼Œ`typeof` æ“ä½œç¬¦é™¤äº†å¯ä»¥è·å–å¯¹è±¡çš„ç»“æ„ç±»å‹ä¹‹å¤–ï¼Œå®ƒä¹Ÿå¯ä»¥ç”¨æ¥è·å–å‡½æ•°å¯¹è±¡çš„ç±»å‹ï¼Œæ¯”å¦‚ï¼š

```js
function toArray(x: number): Array<number> {
  return [x];
}
type Func = typeof toArray; // -> (x: number) => number[]

```

### 2.keyof

`keyof` æ“ä½œç¬¦æ˜¯åœ¨ TypeScript 2.1 ç‰ˆæœ¬å¼•å…¥çš„ï¼Œè¯¥æ“ä½œç¬¦å¯ä»¥ç”¨äºè·å–æŸç§ç±»å‹çš„æ‰€æœ‰é”®ï¼Œå…¶è¿”å›ç±»å‹æ˜¯è”åˆç±»å‹ã€‚

```js
interface Person {
  name: string;
  age: number;
}

type K1 = keyof Person; // "name" | "age"
type K2 = keyof Person[]; // "length" | "toString" | "pop" | "push" | "concat" | "join" 
type K3 = keyof { [x: string]: Person };  // string | number

```

åœ¨ TypeScript ä¸­æ”¯æŒä¸¤ç§ç´¢å¼•ç­¾åï¼Œæ•°å­—ç´¢å¼•å’Œå­—ç¬¦ä¸²ç´¢å¼•ï¼š

```js
interface StringArray {
  // å­—ç¬¦ä¸²ç´¢å¼• -> keyof StringArray => string | number
  [index: string]: string; 
}

interface StringArray1 {
  // æ•°å­—ç´¢å¼• -> keyof StringArray1 => number
  [index: number]: string;
}

```

ä¸ºäº†åŒæ—¶æ”¯æŒä¸¤ç§ç´¢å¼•ç±»å‹ï¼Œå°±å¾—è¦æ±‚æ•°å­—ç´¢å¼•çš„è¿”å›å€¼å¿…é¡»æ˜¯å­—ç¬¦ä¸²ç´¢å¼•è¿”å›å€¼çš„å­ç±»ã€‚**å…¶ä¸­çš„åŸå› å°±æ˜¯å½“ä½¿ç”¨æ•°å€¼ç´¢å¼•æ—¶ï¼ŒJavaScript åœ¨æ‰§è¡Œç´¢å¼•æ“ä½œæ—¶ï¼Œä¼šå…ˆæŠŠæ•°å€¼ç´¢å¼•å…ˆè½¬æ¢ä¸ºå­—ç¬¦ä¸²ç´¢å¼•**ã€‚æ‰€ä»¥ `keyof { [x: string]: Person }` çš„ç»“æœä¼šè¿”å› `string | number`ã€‚

keyof ä¹Ÿæ”¯æŒåŸºæœ¬æ•°æ®ç±»å‹ï¼š

```vbnet
let K1: keyof boolean; // let K1: "valueOf"
let K2: keyof number; // let K2: "toString" | "toFixed" | "toExponential" | ...
let K3: keyof symbol; // let K1: "valueOf"

```

#### keyof çš„ä½œç”¨

JavaScript æ˜¯ä¸€ç§é«˜åº¦åŠ¨æ€çš„è¯­è¨€ã€‚æœ‰æ—¶åœ¨é™æ€ç±»å‹ç³»ç»Ÿä¸­æ•è·æŸäº›æ“ä½œçš„è¯­ä¹‰å¯èƒ½ä¼šå¾ˆæ£˜æ‰‹ã€‚ä»¥ä¸€ä¸ªç®€å•çš„ `prop` å‡½æ•°ä¸ºä¾‹ï¼š

```js
function prop(obj, key) {
  return obj[key];
}

```

è¯¥å‡½æ•°æ¥æ”¶ obj å’Œ key ä¸¤ä¸ªå‚æ•°ï¼Œå¹¶è¿”å›å¯¹åº”å±æ€§çš„å€¼ã€‚å¯¹è±¡ä¸Šçš„ä¸åŒå±æ€§ï¼Œå¯ä»¥å…·æœ‰å®Œå…¨ä¸åŒçš„ç±»å‹ï¼Œæˆ‘ä»¬ç”šè‡³ä¸çŸ¥é“ obj å¯¹è±¡é•¿ä»€ä¹ˆæ ·ã€‚

é‚£ä¹ˆåœ¨ TypeScript ä¸­å¦‚ä½•å®šä¹‰ä¸Šé¢çš„ `prop` å‡½æ•°å‘¢ï¼Ÿæˆ‘ä»¬æ¥å°è¯•ä¸€ä¸‹ï¼š

```js
function prop(obj: object, key: string) {
  return obj[key];
}

```

åœ¨ä¸Šé¢ä»£ç ä¸­ï¼Œä¸ºäº†é¿å…è°ƒç”¨ prop å‡½æ•°æ—¶ä¼ å…¥é”™è¯¯çš„å‚æ•°ç±»å‹ï¼Œæˆ‘ä»¬ä¸º obj å’Œ key å‚æ•°è®¾ç½®äº†ç±»å‹ï¼Œåˆ†åˆ«ä¸º `{}` å’Œ `string` ç±»å‹ã€‚ç„¶è€Œï¼Œäº‹æƒ…å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•ã€‚é’ˆå¯¹ä¸Šè¿°çš„ä»£ç ï¼ŒTypeScript ç¼–è¯‘å™¨ä¼šè¾“å‡ºä»¥ä¸‹é”™è¯¯ä¿¡æ¯ï¼š

```js
Element implicitly has an 'any' type because expression of type 'string' can't be used to index type '{}'.

```

å…ƒç´ éšå¼åœ°æ‹¥æœ‰ `any` ç±»å‹ï¼Œå› ä¸º `string` ç±»å‹ä¸èƒ½è¢«ç”¨äºç´¢å¼• `{}` ç±»å‹ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹éå¸¸æš´åŠ›çš„æ–¹æ¡ˆï¼š

```js
function prop(obj: object, key: string) {
  return (obj as any)[key];
}

```

å¾ˆæ˜æ˜¾è¯¥æ–¹æ¡ˆå¹¶ä¸æ˜¯ä¸€ä¸ªå¥½çš„æ–¹æ¡ˆï¼Œæˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹ `prop` å‡½æ•°çš„ä½œç”¨ï¼Œè¯¥å‡½æ•°ç”¨äºè·å–æŸä¸ªå¯¹è±¡ä¸­æŒ‡å®šå±æ€§çš„å±æ€§å€¼ã€‚å› æ­¤æˆ‘ä»¬æœŸæœ›ç”¨æˆ·è¾“å…¥çš„å±æ€§æ˜¯å¯¹è±¡ä¸Šå·²å­˜åœ¨çš„å±æ€§ï¼Œé‚£ä¹ˆå¦‚ä½•é™åˆ¶å±æ€§åçš„èŒƒå›´å‘¢ï¼Ÿè¿™æ—¶æˆ‘ä»¬å¯ä»¥åˆ©ç”¨æœ¬æ–‡çš„ä¸»è§’ `keyof` æ“ä½œç¬¦ï¼š

```js
function prop<T extends object, K extends keyof T>(obj: T, key: K) {
  return obj[key];
}

```

åœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† TypeScript çš„æ³›å‹å’Œæ³›å‹çº¦æŸã€‚**é¦–å…ˆå®šä¹‰äº† T ç±»å‹å¹¶ä½¿ç”¨ `extends` å…³é”®å­—çº¦æŸè¯¥ç±»å‹å¿…é¡»æ˜¯ object ç±»å‹çš„å­ç±»å‹ï¼Œç„¶åä½¿ç”¨ `keyof` æ“ä½œç¬¦è·å– T ç±»å‹çš„æ‰€æœ‰é”®ï¼Œå…¶è¿”å›ç±»å‹æ˜¯è”åˆç±»å‹ï¼Œæœ€ååˆ©ç”¨ `extends` å…³é”®å­—çº¦æŸ K ç±»å‹å¿…é¡»ä¸º `keyof T` è”åˆç±»å‹çš„å­ç±»å‹ã€‚** æ˜¯éª¡å­æ˜¯é©¬æ‹‰å‡ºæ¥é›é›å°±çŸ¥é“äº†ï¼Œæˆ‘ä»¬æ¥å®é™…æµ‹è¯•ä¸€ä¸‹ï¼š

```js
type Todo = {
  id: number;
  text: string;
  done: boolean;
}

const todo: Todo = {
  id: 1,
  text: "Learn TypeScript keyof",
  done: false
}

function prop<T extends object, K extends keyof T>(obj: T, key: K) {
  return obj[key];
}

const id = prop(todo, "id"); // const id: number
const text = prop(todo, "text"); // const text: string
const done = prop(todo, "done"); // const done: boolean

```

å¾ˆæ˜æ˜¾ä½¿ç”¨æ³›å‹ï¼Œé‡æ–°å®šä¹‰åçš„ `prop<T extends object, K extends keyof T>(obj: T, key: K)` å‡½æ•°ï¼Œå·²ç»å¯ä»¥æ­£ç¡®åœ°æ¨å¯¼å‡ºæŒ‡å®šé”®å¯¹åº”çš„ç±»å‹ã€‚é‚£ä¹ˆå½“è®¿é—® todo å¯¹è±¡ä¸Šä¸å­˜åœ¨çš„å±æ€§æ—¶ï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µï¼Ÿæ¯”å¦‚ï¼š

```js
const date = prop(todo, "date");

```

å¯¹äºä¸Šè¿°ä»£ç ï¼ŒTypeScript ç¼–è¯‘å™¨ä¼šæç¤ºä»¥ä¸‹é”™è¯¯ï¼š

```js
Argument of type '"date"' is not assignable to parameter of type '"id" | "text" | "done"'.

```

è¿™å°±é˜»æ­¢æˆ‘ä»¬å°è¯•è¯»å–ä¸å­˜åœ¨çš„å±æ€§ã€‚

### 3.in

`in` ç”¨æ¥éå†æšä¸¾ç±»å‹ï¼š

```js
type Keys = "a" | "b" | "c"

type Obj =  {
  [p in Keys]: any
} // -> { a: any, b: any, c: any }

```

### 4.infer

åœ¨æ¡ä»¶ç±»å‹è¯­å¥ä¸­ï¼Œå¯ä»¥ç”¨ `infer` å£°æ˜ä¸€ä¸ªç±»å‹å˜é‡å¹¶ä¸”å¯¹å®ƒè¿›è¡Œä½¿ç”¨ã€‚

```js
type ReturnType<T> = T extends (
  ...args: any[]
) => infer R ? R : any;

```

ä»¥ä¸Šä»£ç ä¸­ `infer R` å°±æ˜¯å£°æ˜ä¸€ä¸ªå˜é‡æ¥æ‰¿è½½ä¼ å…¥å‡½æ•°ç­¾åçš„è¿”å›å€¼ç±»å‹ï¼Œç®€å•è¯´å°±æ˜¯ç”¨å®ƒå–åˆ°å‡½æ•°è¿”å›å€¼çš„ç±»å‹æ–¹ä¾¿ä¹‹åä½¿ç”¨ã€‚

### 5.extends

æœ‰æ—¶å€™æˆ‘ä»¬å®šä¹‰çš„æ³›å‹ä¸æƒ³è¿‡äºçµæ´»æˆ–è€…è¯´æƒ³ç»§æ‰¿æŸäº›ç±»ç­‰ï¼Œå¯ä»¥é€šè¿‡ extends å…³é”®å­—æ·»åŠ æ³›å‹çº¦æŸã€‚

```js
interface Lengthwise {
  length: number;
}

function loggingIdentity<T extends Lengthwise>(arg: T): T {
  console.log(arg.length);
  return arg;
}

```

ç°åœ¨è¿™ä¸ªæ³›å‹å‡½æ•°è¢«å®šä¹‰äº†çº¦æŸï¼Œå› æ­¤å®ƒä¸å†æ˜¯é€‚ç”¨äºä»»æ„ç±»å‹ï¼š

```js
loggingIdentity(3);  // Error, number doesn't have a .length property

```

è¿™æ—¶æˆ‘ä»¬éœ€è¦ä¼ å…¥ç¬¦åˆçº¦æŸç±»å‹çš„å€¼ï¼Œå¿…é¡»åŒ…å« length å±æ€§ï¼š

```js
loggingIdentity({length: 10, value: 3});

```

### ç´¢å¼•ç±»å‹

åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸èƒ½é‡åˆ°è¿™æ ·çš„åœºæ™¯ï¼Œåœ¨å¯¹è±¡ä¸­è·å–ä¸€äº›å±æ€§çš„å€¼ï¼Œç„¶åå»ºç«‹å¯¹åº”çš„é›†åˆã€‚

```js
let person = {
    name: 'musion',
    age: 35
}

function getValues(person: any, keys: string[]) {
    return keys.map(key => person[key])
}

console.log(getValues(person, ['name', 'age'])) // ['musion', 35]
console.log(getValues(person, ['gender'])) // [undefined]

```

åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œå¯ä»¥çœ‹åˆ° getValues (persion, ['gender']) æ‰“å°å‡ºæ¥çš„æ˜¯ [undefined]ï¼Œä½†æ˜¯ ts ç¼–è¯‘å™¨å¹¶æ²¡æœ‰ç»™å‡ºæŠ¥é”™ä¿¡æ¯ï¼Œé‚£ä¹ˆå¦‚ä½•ä½¿ç”¨ ts å¯¹è¿™ç§æ¨¡å¼è¿›è¡Œç±»å‹çº¦æŸå‘¢ï¼Ÿè¿™é‡Œå°±è¦ç”¨åˆ°äº†ç´¢å¼•ç±»å‹ï¼Œæ”¹é€ ä¸€ä¸‹ getValues å‡½æ•°ï¼Œé€šè¿‡ **ç´¢å¼•ç±»å‹æŸ¥è¯¢**å’Œ **ç´¢å¼•è®¿é—®** æ“ä½œç¬¦ï¼š

```js
function getValues<T, K extends keyof T>(person: T, keys: K[]): T[K][] {
  return keys.map(key => person[key]);
}

interface Person {
    name: string;
    age: number;
}

const person: Person = {
    name: 'musion',
    age: 35
}

getValues(person, ['name']) // ['musion']
getValues(person, ['gender']) // æŠ¥é”™ï¼š
// Argument of Type '"gender"[]' is not assignable to parameter of type '("name" | "age")[]'.
// Type "gender" is not assignable to type "name" | "age".


```

ç¼–è¯‘å™¨ä¼šæ£€æŸ¥ä¼ å…¥çš„å€¼æ˜¯å¦æ˜¯ Person çš„ä¸€éƒ¨åˆ†ã€‚é€šè¿‡ä¸‹é¢çš„æ¦‚å¿µæ¥ç†è§£ä¸Šé¢çš„ä»£ç ï¼š

```js
T[K]è¡¨ç¤ºå¯¹è±¡Tçš„å±æ€§Kæ‰€è¡¨ç¤ºçš„ç±»å‹ï¼Œåœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼ŒT[K][] è¡¨ç¤ºå˜é‡Tå–å±æ€§Kçš„å€¼çš„æ•°ç»„

// é€šè¿‡[]ç´¢å¼•ç±»å‹è®¿é—®æ“ä½œç¬¦, æˆ‘ä»¬å°±èƒ½å¾—åˆ°æŸä¸ªç´¢å¼•çš„ç±»å‹
class Person {
    name:string;
    age:number;
 }
 type MyType = Person['name'];  //Personä¸­nameçš„ç±»å‹ä¸ºstring type MyType = string


```

ä»‹ç»å®Œæ¦‚å¿µä¹‹åï¼Œåº”è¯¥å°±å¯ä»¥ç†è§£ä¸Šé¢çš„ä»£ç äº†ã€‚é¦–å…ˆçœ‹æ³›å‹ï¼Œè¿™é‡Œæœ‰ T å’Œ K ä¸¤ç§ç±»å‹ï¼Œæ ¹æ®ç±»å‹æ¨æ–­ï¼Œç¬¬ä¸€ä¸ªå‚æ•° person å°±æ˜¯ personï¼Œç±»å‹ä¼šè¢«æ¨æ–­ä¸º Personã€‚è€Œç¬¬äºŒä¸ªæ•°ç»„å‚æ•°çš„ç±»å‹æ¨æ–­ï¼ˆK extends keyof Tï¼‰ï¼Œkeyof å…³é”®å­—å¯ä»¥è·å– Tï¼Œä¹Ÿå°±æ˜¯ Person çš„æ‰€æœ‰å±æ€§åï¼Œå³ ['name', 'age']ã€‚è€Œ extends å…³é”®å­—è®©æ³›å‹ K ç»§æ‰¿äº† Person çš„æ‰€æœ‰å±æ€§åï¼Œå³ ['name', 'age']ã€‚è¿™ä¸‰ä¸ªç‰¹æ€§ç»„åˆä¿è¯äº†ä»£ç çš„åŠ¨æ€æ€§å’Œå‡†ç¡®æ€§ï¼Œä¹Ÿè®©ä»£ç æç¤ºå˜å¾—æ›´åŠ ä¸°å¯Œäº†

```js
getValues(person, ['gender']) // æŠ¥é”™ï¼š
// Argument of Type '"gender"[]' is not assignable to parameter of type '("name" | "age")[]'.
// Type "gender" is not assignable to type "name" | "age".

```

### æ˜ å°„ç±»å‹

> æ ¹æ®æ—§çš„ç±»å‹åˆ›å»ºå‡ºæ–°çš„ç±»å‹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ˜ å°„ç±»å‹

æ¯”å¦‚æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ¥å£

```js
interface TestInterface{
    name:string,
    age:number
}

```

æˆ‘ä»¬æŠŠä¸Šé¢å®šä¹‰çš„æ¥å£é‡Œé¢çš„å±æ€§å…¨éƒ¨å˜æˆå¯é€‰

```js
// æˆ‘ä»¬å¯ä»¥é€šè¿‡+/-æ¥æŒ‡å®šæ·»åŠ è¿˜æ˜¯åˆ é™¤

type OptionalTestInterface<T> = {
  [p in keyof T]+?:T[p]
}

type newTestInterface = OptionalTestInterface<TestInterface>
// type newTestInterface = {
//    name?:string,
//    age?:number
// }

```

æ¯”å¦‚æˆ‘ä»¬å†åŠ ä¸Šåªè¯»

```js
type OptionalTestInterface<T> = {
 +readonly [p in keyof T]+?:T[p]
}

type newTestInterface = OptionalTestInterface<TestInterface>
// type newTestInterface = {
//   readonly name?:string,
//   readonly age?:number
// }

```

ç”±äºç”Ÿæˆåªè¯»å±æ€§å’Œå¯é€‰å±æ€§æ¯”è¾ƒå¸¸ç”¨ï¼Œæ‰€ä»¥ TS å†…éƒ¨å·²ç»ç»™æˆ‘ä»¬æä¾›äº†ç°æˆçš„å®ç° Readonly / Partial, ä¼šé¢å†…ç½®çš„å·¥å…·ç±»å‹ä¼šä»‹ç».

**å†…ç½®çš„å·¥å…·ç±»å‹**

### Partial

> `Partial<T>` å°†ç±»å‹çš„å±æ€§å˜æˆå¯é€‰

#### å®šä¹‰

```js
type Partial<T> = {
  [P in keyof T]?: T[P];
};

```

åœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œé¦–å…ˆé€šè¿‡ `keyof T` æ‹¿åˆ° `T` çš„æ‰€æœ‰å±æ€§åï¼Œç„¶åä½¿ç”¨ `in` è¿›è¡Œéå†ï¼Œå°†å€¼èµ‹ç»™ `P`ï¼Œæœ€åé€šè¿‡ `T[P]` å–å¾—ç›¸åº”çš„å±æ€§å€¼çš„ç±»ã€‚ä¸­é—´çš„ `?` å·ï¼Œç”¨äºå°†æ‰€æœ‰å±æ€§å˜ä¸ºå¯é€‰ã€‚

#### ä¸¾ä¾‹è¯´æ˜

```js
interface UserInfo {
    id: string;
    name: string;
}
// errorï¼šProperty 'id' is missing in type '{ name: string; }' but required in type 'UserInfo'
const xiaoming: UserInfo = {
    name: 'xiaoming'
}

```

ä½¿ç”¨  `Partial<T>`

```js
type NewUserInfo = Partial<UserInfo>;
const xiaoming: NewUserInfo = {
    name: 'xiaoming'
}

```

è¿™ä¸ª  NewUserInfo å°±ç›¸å½“äº

```js
interface NewUserInfo {
    id?: string;
    name?: string;
}

```

ä½†æ˜¯ `Partial<T>` æœ‰ä¸ªå±€é™æ€§ï¼Œå°±æ˜¯åªæ”¯æŒå¤„ç†ç¬¬ä¸€å±‚çš„å±æ€§ï¼Œå¦‚æœæˆ‘çš„æ¥å£å®šä¹‰æ˜¯è¿™æ ·çš„

```js
interface UserInfo {
    id: string;
    name: string;
    fruits: {
        appleNumber: number;
        orangeNumber: number;
    }
}

type NewUserInfo = Partial<UserInfo>;

// Property 'appleNumber' is missing in type '{ orangeNumber: number; }' but required in type '{ appleNumber: number; orangeNumber: number; }'.
const xiaoming: NewUserInfo = {
    name: 'xiaoming',
    fruits: {
        orangeNumber: 1,
    }
}

```

å¯ä»¥çœ‹åˆ°ï¼Œç¬¬äºŒå±‚ä»¥åå°±ä¸ä¼šå¤„ç†äº†ï¼Œå¦‚æœè¦å¤„ç†å¤šå±‚ï¼Œå°±å¯ä»¥è‡ªå·±å®ç°

#### DeepPartial

```js
type DeepPartial<T> = {
     // å¦‚æœæ˜¯ objectï¼Œåˆ™é€’å½’ç±»å‹
    [U in keyof T]?: T[U] extends object
      ? DeepPartial<T[U]>
      : T[U]
};

type PartialedWindow = DeepPartial<T>; // ç°åœ¨Tä¸Šæ‰€æœ‰å±æ€§éƒ½å˜æˆäº†å¯é€‰å•¦

```

### Required

> Required å°†ç±»å‹çš„å±æ€§å˜æˆå¿…é€‰

#### å®šä¹‰

```js
type Required<T> = { 
    [P in keyof T]-?: T[P] 
};

```

å…¶ä¸­ `-?` æ˜¯ä»£è¡¨ç§»é™¤ `?` è¿™ä¸ª modifier çš„æ ‡è¯†ã€‚å†æ‹“å±•ä¸€ä¸‹ï¼Œé™¤äº†å¯ä»¥åº”ç”¨äº `?` è¿™ä¸ª modifiers ï¼Œè¿˜æœ‰åº”ç”¨åœ¨ `readonly` ï¼Œæ¯”å¦‚ `Readonly<T>` è¿™ä¸ªç±»å‹

```js
type Readonly<T> = {
    readonly [p in keyof T]: T[p];
}

```

### Readonly

> `Readonly<T>` çš„ä½œç”¨æ˜¯å°†æŸä¸ªç±»å‹æ‰€æœ‰å±æ€§å˜ä¸ºåªè¯»å±æ€§ï¼Œä¹Ÿå°±æ„å‘³ç€è¿™äº›å±æ€§ä¸èƒ½è¢«é‡æ–°èµ‹å€¼ã€‚

#### å®šä¹‰

```js
type Readonly<T> = {
 readonly [P in keyof T]: T[P];
};

```

#### ä¸¾ä¾‹è¯´æ˜

```js
interface Todo {
 title: string;
}

const todo: Readonly<Todo> = {
 title: "Delete inactive users"
};

todo.title = "Hello"; // Error: cannot reassign a readonly property

```

### Pick

> Pick ä»æŸä¸ªç±»å‹ä¸­æŒ‘å‡ºä¸€äº›å±æ€§å‡ºæ¥

#### å®šä¹‰

```js
type Pick<T, K extends keyof T> = {
    [P in K]: T[P];
};

```

#### ä¸¾ä¾‹è¯´æ˜

```js
interface Todo {
  title: string;
  description: string;
  completed: boolean;
}

type TodoPreview = Pick<Todo, "title" | "completed">;

const todo: TodoPreview = {
  title: "Clean room",
  completed: false,
};

```

å¯ä»¥çœ‹åˆ° NewUserInfo ä¸­å°±åªæœ‰ä¸ª name çš„å±æ€§äº†ã€‚

### Record

> `Record<K extends keyof any, T>` çš„ä½œç”¨æ˜¯å°† `K` ä¸­æ‰€æœ‰çš„å±æ€§çš„å€¼è½¬åŒ–ä¸º `T` ç±»å‹ã€‚

#### å®šä¹‰

```js
type Record<K extends keyof any, T> = {
    [P in K]: T;
};

```

#### ä¸¾ä¾‹è¯´æ˜

```js
interface PageInfo {
  title: string;
}

type Page = "home" | "about" | "contact";

const x: Record<Page, PageInfo> = {
  about: { title: "about" },
  contact: { title: "contact" },
  home: { title: "home" },
};

```

### ReturnType

> ç”¨æ¥å¾—åˆ°ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ç±»å‹

#### å®šä¹‰

```js
type ReturnType<T extends (...args: any[]) => any> = T extends (
  ...args: any[]
) => infer R
  ? R
  : any;

```

`infer` åœ¨è¿™é‡Œç”¨äºæå–å‡½æ•°ç±»å‹çš„è¿”å›å€¼ç±»å‹ã€‚`ReturnType<T>` åªæ˜¯å°† infer R ä»å‚æ•°ä½ç½®ç§»åŠ¨åˆ°è¿”å›å€¼ä½ç½®ï¼Œå› æ­¤æ­¤æ—¶ R å³æ˜¯è¡¨ç¤ºå¾…æ¨æ–­çš„è¿”å›å€¼ç±»å‹ã€‚

#### ä¸¾ä¾‹è¯´æ˜

```js
type Func = (value: number) => string;
const foo: ReturnType<Func> = "1";

```

`ReturnType` è·å–åˆ° `Func` çš„è¿”å›å€¼ç±»å‹ä¸º `string`ï¼Œæ‰€ä»¥ï¼Œ`foo` ä¹Ÿå°±åªèƒ½è¢«èµ‹å€¼ä¸ºå­—ç¬¦ä¸²äº†ã€‚

### Exclude

> `Exclude<T, U>` çš„ä½œç”¨æ˜¯å°†æŸä¸ªç±»å‹ä¸­å±äºå¦ä¸€ä¸ªçš„ç±»å‹ç§»é™¤æ‰ã€‚

#### å®šä¹‰

```js
type Exclude<T, U> = T extends U ? never : T;

```

å¦‚æœ `T` èƒ½èµ‹å€¼ç»™ `U` ç±»å‹çš„è¯ï¼Œé‚£ä¹ˆå°±ä¼šè¿”å› `never` ç±»å‹ï¼Œå¦åˆ™è¿”å› `T` ç±»å‹ã€‚æœ€ç»ˆå®ç°çš„æ•ˆæœå°±æ˜¯å°† `T` ä¸­æŸäº›å±äº `U` çš„ç±»å‹ç§»é™¤æ‰ã€‚

#### ä¸¾ä¾‹è¯´æ˜

```js
type T0 = Exclude<"a" | "b" | "c", "a">; // "b" | "c"
type T1 = Exclude<"a" | "b" | "c", "a" | "b">; // "c"
type T2 = Exclude<string | number | (() => void), Function>; // string | number

```

### Extract

> `Extract<T, U>` çš„ä½œç”¨æ˜¯ä» `T` ä¸­æå–å‡º `U`ã€‚

#### å®šä¹‰

```js
type Extract<T, U> = T extends U ? T : never;

```

#### ä¸¾ä¾‹è¯´æ˜

```js
type T0 = Extract<"a" | "b" | "c", "a" | "f">; // "a"
type T1 = Extract<string | number | (() => void), Function>; // () =>void

```

### Omit

> `Omit<T, K extends keyof any>` çš„ä½œç”¨æ˜¯ä½¿ç”¨ `T` ç±»å‹ä¸­é™¤äº† `K` ç±»å‹çš„æ‰€æœ‰å±æ€§ï¼Œæ¥æ„é€ ä¸€ä¸ªæ–°çš„ç±»å‹ã€‚

#### å®šä¹‰

```js
type Omit<T, K extends keyof any> = Pick<T, Exclude<keyof T, K>>;

```

#### ä¸¾ä¾‹è¯´æ˜

```js
interface Todo {
  title: string;
  description: string;
  completed: boolean;
}

type TodoPreview = Omit<Todo, "description">;

const todo: TodoPreview = {
  title: "Clean room",
  completed: false,
};

```

### NonNullable

> `NonNullable<T>` çš„ä½œç”¨æ˜¯ç”¨æ¥è¿‡æ»¤ç±»å‹ä¸­çš„ `null` åŠ `undefined` ç±»å‹ã€‚

#### å®šä¹‰

```js
type NonNullable<T> = T extendsnull | undefined ? never : T;

```

#### ä¸¾ä¾‹è¯´æ˜

```js
type T0 = NonNullable<string | number | undefined>; // string | number
type T1 = NonNullable<string[] | null | undefined>; // string[]

```

### Parameters

> `Parameters<T>` çš„ä½œç”¨æ˜¯ç”¨äºè·å¾—å‡½æ•°çš„å‚æ•°ç±»å‹ç»„æˆçš„å…ƒç»„ç±»å‹ã€‚

#### å®šä¹‰

```js
type Parameters<T extends (...args: any) => any> = T extends (...args: infer P) => any
? P : never;

```

#### ä¸¾ä¾‹è¯´æ˜

```js
type A = Parameters<() =>void>; // []
type B = Parameters<typeofArray.isArray>; // [any]
type C = Parameters<typeofparseInt>; // [string, (number | undefined)?]
type D = Parameters<typeofMath.max>; // number[]

```

# tsconfig.jsoné…ç½®æ–‡ä»¶(TS -- 15)

## ç”Ÿæˆ tsconfig.json æ–‡ä»¶

> è¿™ä¸ªæ–‡ä»¶æ˜¯é€šè¿‡ `tsc --init` å‘½ä»¤ç”Ÿæˆçš„
>
> tsconfig.json æ˜¯ TypeScript é¡¹ç›®çš„é…ç½®æ–‡ä»¶ã€‚å¦‚æœä¸€ä¸ªç›®å½•ä¸‹å­˜åœ¨ä¸€ä¸ª tsconfig.json æ–‡ä»¶ï¼Œé‚£ä¹ˆå¾€å¾€æ„å‘³ç€è¿™ä¸ªç›®å½•å°±æ˜¯ TypeScript é¡¹ç›®çš„æ ¹ç›®å½•ã€‚
>
> tsconfig.json åŒ…å« TypeScript ç¼–è¯‘çš„ç›¸å…³é…ç½®ï¼Œé€šè¿‡æ›´æ”¹ç¼–è¯‘é…ç½®é¡¹ï¼Œæˆ‘ä»¬å¯ä»¥è®© TypeScript ç¼–è¯‘å‡º ES6ã€ES5ã€node çš„ä»£ç ã€‚

### é…ç½®è¯¦è§£

```typescript
"compilerOptions": {
  "incremental": true, // TSç¼–è¯‘å™¨åœ¨ç¬¬ä¸€æ¬¡ç¼–è¯‘ä¹‹åä¼šç”Ÿæˆä¸€ä¸ªå­˜å‚¨ç¼–è¯‘ä¿¡æ¯çš„æ–‡ä»¶ï¼Œç¬¬äºŒæ¬¡ç¼–è¯‘ä¼šåœ¨ç¬¬ä¸€æ¬¡çš„åŸºç¡€ä¸Šè¿›è¡Œå¢é‡ç¼–è¯‘ï¼Œå¯ä»¥æé«˜ç¼–è¯‘çš„é€Ÿåº¦
  "tsBuildInfoFile": "./buildFile", // å¢é‡ç¼–è¯‘æ–‡ä»¶çš„å­˜å‚¨ä½ç½®
  "diagnostics": true, // æ‰“å°è¯Šæ–­ä¿¡æ¯ 
  "target": "ES5", // ç›®æ ‡è¯­è¨€çš„ç‰ˆæœ¬
  "module": "CommonJS", // ç”Ÿæˆä»£ç çš„æ¨¡æ¿æ ‡å‡†
  "outFile": "./app.js", // å°†å¤šä¸ªç›¸äº’ä¾èµ–çš„æ–‡ä»¶ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥ç”¨åœ¨AMDæ¨¡å—ä¸­ï¼Œå³å¼€å¯æ—¶åº”è®¾ç½®"module": "AMD",
  "lib": ["DOM", "ES2015", "ScriptHost", "ES2019.Array"], // TSéœ€è¦å¼•ç”¨çš„åº“ï¼Œå³å£°æ˜æ–‡ä»¶ï¼Œes5 é»˜è®¤å¼•ç”¨domã€es5ã€scripthost,å¦‚éœ€è¦ä½¿ç”¨esçš„é«˜çº§ç‰ˆæœ¬ç‰¹æ€§ï¼Œé€šå¸¸éƒ½éœ€è¦é…ç½®ï¼Œå¦‚es8çš„æ•°ç»„æ–°ç‰¹æ€§éœ€è¦å¼•å…¥"ES2019.Array",
  "allowJS": true, // å…è®¸ç¼–è¯‘å™¨ç¼–è¯‘JSï¼ŒJSXæ–‡ä»¶
  "checkJs": true, // å…è®¸åœ¨JSæ–‡ä»¶ä¸­æŠ¥é”™ï¼Œé€šå¸¸ä¸allowJSä¸€èµ·ä½¿ç”¨
  "outDir": "./dist", // æŒ‡å®šè¾“å‡ºç›®å½•
  "rootDir": "./", // æŒ‡å®šè¾“å‡ºæ–‡ä»¶ç›®å½•(ç”¨äºè¾“å‡º)ï¼Œç”¨äºæ§åˆ¶è¾“å‡ºç›®å½•ç»“æ„
  "declaration": true, // ç”Ÿæˆå£°æ˜æ–‡ä»¶ï¼Œå¼€å¯åä¼šè‡ªåŠ¨ç”Ÿæˆå£°æ˜æ–‡ä»¶
  "declarationDir": "./file", // æŒ‡å®šç”Ÿæˆå£°æ˜æ–‡ä»¶å­˜æ”¾ç›®å½•
  "emitDeclarationOnly": true, // åªç”Ÿæˆå£°æ˜æ–‡ä»¶ï¼Œè€Œä¸ä¼šç”Ÿæˆjsæ–‡ä»¶
  "sourceMap": true, // ç”Ÿæˆç›®æ ‡æ–‡ä»¶çš„sourceMapæ–‡ä»¶
  "inlineSourceMap": true, // ç”Ÿæˆç›®æ ‡æ–‡ä»¶çš„inline SourceMapï¼Œinline SourceMapä¼šåŒ…å«åœ¨ç”Ÿæˆçš„jsæ–‡ä»¶ä¸­
  "declarationMap": true, // ä¸ºå£°æ˜æ–‡ä»¶ç”ŸæˆsourceMap
  "typeRoots": [], // å£°æ˜æ–‡ä»¶ç›®å½•ï¼Œé»˜è®¤æ—¶node_modules/@types
  "types": [], // åŠ è½½çš„å£°æ˜æ–‡ä»¶åŒ…
  "removeComments":true, // åˆ é™¤æ³¨é‡Š 
  "noEmit": true, // ä¸è¾“å‡ºæ–‡ä»¶,å³ç¼–è¯‘åä¸ä¼šç”Ÿæˆä»»ä½•jsæ–‡ä»¶
  "noEmitOnError": true, // å‘é€é”™è¯¯æ—¶ä¸è¾“å‡ºä»»ä½•æ–‡ä»¶
  "noEmitHelpers": true, // ä¸ç”Ÿæˆhelperå‡½æ•°ï¼Œå‡å°ä½“ç§¯ï¼Œéœ€è¦é¢å¤–å®‰è£…ï¼Œå¸¸é…åˆimportHelpersä¸€èµ·ä½¿ç”¨
  "importHelpers": true, // é€šè¿‡tslibå¼•å…¥helperå‡½æ•°ï¼Œæ–‡ä»¶å¿…é¡»æ˜¯æ¨¡å—
  "downlevelIteration": true, // é™çº§éå†å™¨å®ç°ï¼Œå¦‚æœç›®æ ‡æºæ˜¯es3/5ï¼Œé‚£ä¹ˆéå†å™¨ä¼šæœ‰é™çº§çš„å®ç°
  "strict": true, // å¼€å¯æ‰€æœ‰ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥
  "alwaysStrict": true, // åœ¨ä»£ç ä¸­æ³¨å…¥'use strict'
  "noImplicitAny": true, // ä¸å…è®¸éšå¼çš„anyç±»å‹
  "strictNullChecks": true, // ä¸å…è®¸æŠŠnullã€undefinedèµ‹å€¼ç»™å…¶ä»–ç±»å‹çš„å˜é‡
  "strictFunctionTypes": true, // ä¸å…è®¸å‡½æ•°å‚æ•°åŒå‘åå˜
  "strictPropertyInitialization": true, // ç±»çš„å®ä¾‹å±æ€§å¿…é¡»åˆå§‹åŒ–
  "strictBindCallApply": true, // ä¸¥æ ¼çš„bind/call/applyæ£€æŸ¥
  "noImplicitThis": true, // ä¸å…è®¸thisæœ‰éšå¼çš„anyç±»å‹
  "noUnusedLocals": true, // æ£€æŸ¥åªå£°æ˜ã€æœªä½¿ç”¨çš„å±€éƒ¨å˜é‡(åªæç¤ºä¸æŠ¥é”™)
  "noUnusedParameters": true, // æ£€æŸ¥æœªä½¿ç”¨çš„å‡½æ•°å‚æ•°(åªæç¤ºä¸æŠ¥é”™)
  "noFallthroughCasesInSwitch": true, // é˜²æ­¢switchè¯­å¥è´¯ç©¿(å³å¦‚æœæ²¡æœ‰breakè¯­å¥åé¢ä¸ä¼šæ‰§è¡Œ)
  "noImplicitReturns": true, //æ¯ä¸ªåˆ†æ”¯éƒ½ä¼šæœ‰è¿”å›å€¼
  "esModuleInterop": true, // å…è®¸export=å¯¼å‡ºï¼Œç”±import from å¯¼å…¥
  "allowUmdGlobalAccess": true, // å…è®¸åœ¨æ¨¡å—ä¸­å…¨å±€å˜é‡çš„æ–¹å¼è®¿é—®umdæ¨¡å—
  "moduleResolution": "node", // æ¨¡å—è§£æç­–ç•¥ï¼Œtsé»˜è®¤ç”¨nodeçš„è§£æç­–ç•¥ï¼Œå³ç›¸å¯¹çš„æ–¹å¼å¯¼å…¥
  "baseUrl": "./", // è§£æéç›¸å¯¹æ¨¡å—çš„åŸºåœ°å€ï¼Œé»˜è®¤æ˜¯å½“å‰ç›®å½•
  "paths": { // è·¯å¾„æ˜ å°„ï¼Œç›¸å¯¹äºbaseUrl
    // å¦‚ä½¿ç”¨jqæ—¶ä¸æƒ³ä½¿ç”¨é»˜è®¤ç‰ˆæœ¬ï¼Œè€Œéœ€è¦æ‰‹åŠ¨æŒ‡å®šç‰ˆæœ¬ï¼Œå¯è¿›è¡Œå¦‚ä¸‹é…ç½®
    "jquery": ["node_modules/jquery/dist/jquery.min.js"]
  },
  "rootDirs": ["src","out"], // å°†å¤šä¸ªç›®å½•æ”¾åœ¨ä¸€ä¸ªè™šæ‹Ÿç›®å½•ä¸‹ï¼Œç”¨äºè¿è¡Œæ—¶ï¼Œå³ç¼–è¯‘åå¼•å…¥æ–‡ä»¶çš„ä½ç½®å¯èƒ½å‘ç”Ÿå˜åŒ–ï¼Œè¿™ä¹Ÿè®¾ç½®å¯ä»¥è™šæ‹Ÿsrcå’Œoutåœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ï¼Œä¸ç”¨å†å»æ”¹å˜è·¯å¾„ä¹Ÿä¸ä¼šæŠ¥é”™
  "listEmittedFiles": true, // æ‰“å°è¾“å‡ºæ–‡ä»¶
  "listFiles": true// æ‰“å°ç¼–è¯‘çš„æ–‡ä»¶(åŒ…æ‹¬å¼•ç”¨çš„å£°æ˜æ–‡ä»¶)
}
 
// æŒ‡å®šä¸€ä¸ªåŒ¹é…åˆ—è¡¨ï¼ˆå±äºè‡ªåŠ¨æŒ‡å®šè¯¥è·¯å¾„ä¸‹çš„æ‰€æœ‰tsç›¸å…³æ–‡ä»¶ï¼‰
"include": [
   "src/**/*"
],
// æŒ‡å®šä¸€ä¸ªæ’é™¤åˆ—è¡¨ï¼ˆincludeçš„åå‘æ“ä½œï¼‰
 "exclude": [
   "demo.ts"
],
// æŒ‡å®šå“ªäº›æ–‡ä»¶ä½¿ç”¨è¯¥é…ç½®ï¼ˆå±äºæ‰‹åŠ¨ä¸€ä¸ªä¸ªæŒ‡å®šæ–‡ä»¶ï¼‰
 "files": [
   "demo.ts"
]
```

> ä¸Šé¢çš„é…ç½®è¯¦è§£æœ‰ç‚¹ç¹æ‚ï¼Œæˆ‘ä»¬æˆ–è®¸å¯ä»¥å°†å…¶åˆ†ç±»ä¸€ä¸‹

#### é…ç½®åˆ†ç±»(compilerOptions é€‰é¡¹)

```typescript
{
  "compilerOptions": {
  
    /* åŸºæœ¬é€‰é¡¹ */
    "target": "es5",                       // æŒ‡å®š ECMAScript ç›®æ ‡ç‰ˆæœ¬: 'ES3' (default), 'ES5', 'ES6'/'ES2015', 'ES2016', 'ES2017', or 'ESNEXT'
    "module": "commonjs",                  // æŒ‡å®šä½¿ç”¨æ¨¡å—: 'commonjs', 'amd', 'system', 'umd' or 'es2015'
    "lib": [],                             // æŒ‡å®šè¦åŒ…å«åœ¨ç¼–è¯‘ä¸­çš„åº“æ–‡ä»¶
    "allowJs": true,                       // å…è®¸ç¼–è¯‘ javascript æ–‡ä»¶
    "checkJs": true,                       // æŠ¥å‘Š javascript æ–‡ä»¶ä¸­çš„é”™è¯¯
    "jsx": "preserve",                     // æŒ‡å®š jsx ä»£ç çš„ç”Ÿæˆ: 'preserve', 'react-native', or 'react'
    "declaration": true,                   // ç”Ÿæˆç›¸åº”çš„ '.d.ts' æ–‡ä»¶
    "sourceMap": true,                     // ç”Ÿæˆç›¸åº”çš„ '.map' æ–‡ä»¶
    "outFile": "./",                       // å°†è¾“å‡ºæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶
    "outDir": "./",                        // æŒ‡å®šè¾“å‡ºç›®å½•
    "rootDir": "./",                       // ç”¨æ¥æ§åˆ¶è¾“å‡ºç›®å½•ç»“æ„ --outDir.
    "removeComments": true,                // åˆ é™¤ç¼–è¯‘åçš„æ‰€æœ‰çš„æ³¨é‡Š
    "noEmit": true,                        // ä¸ç”Ÿæˆè¾“å‡ºæ–‡ä»¶
    "importHelpers": true,                 // ä» tslib å¯¼å…¥è¾…åŠ©å·¥å…·å‡½æ•°
    "isolatedModules": true,               // å°†æ¯ä¸ªæ–‡ä»¶åšä¸ºå•ç‹¬çš„æ¨¡å— ï¼ˆä¸ 'ts.transpileModule' ç±»ä¼¼ï¼‰.

    /* ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥é€‰é¡¹ */
    "strict": true,                        // å¯ç”¨æ‰€æœ‰ä¸¥æ ¼ç±»å‹æ£€æŸ¥é€‰é¡¹
    "noImplicitAny": true,                 // åœ¨è¡¨è¾¾å¼å’Œå£°æ˜ä¸Šæœ‰éšå«çš„ anyç±»å‹æ—¶æŠ¥é”™
    "strictNullChecks": true,              // å¯ç”¨ä¸¥æ ¼çš„ null æ£€æŸ¥
    "noImplicitThis": true,                // å½“ this è¡¨è¾¾å¼å€¼ä¸º any ç±»å‹çš„æ—¶å€™ï¼Œç”Ÿæˆä¸€ä¸ªé”™è¯¯
    "alwaysStrict": true,                  // ä»¥ä¸¥æ ¼æ¨¡å¼æ£€æŸ¥æ¯ä¸ªæ¨¡å—ï¼Œå¹¶åœ¨æ¯ä¸ªæ–‡ä»¶é‡ŒåŠ å…¥ 'use strict'

    /* é¢å¤–çš„æ£€æŸ¥ */
    "noUnusedLocals": true,                // æœ‰æœªä½¿ç”¨çš„å˜é‡æ—¶ï¼ŒæŠ›å‡ºé”™è¯¯
    "noUnusedParameters": true,            // æœ‰æœªä½¿ç”¨çš„å‚æ•°æ—¶ï¼ŒæŠ›å‡ºé”™è¯¯
    "noImplicitReturns": true,             // å¹¶ä¸æ˜¯æ‰€æœ‰å‡½æ•°é‡Œçš„ä»£ç éƒ½æœ‰è¿”å›å€¼æ—¶ï¼ŒæŠ›å‡ºé”™è¯¯
    "noFallthroughCasesInSwitch": true,    // æŠ¥å‘Š switch è¯­å¥çš„ fallthrough é”™è¯¯ã€‚ï¼ˆå³ï¼Œä¸å…è®¸ switch çš„ case è¯­å¥è´¯ç©¿ï¼‰

    /* æ¨¡å—è§£æé€‰é¡¹ */
    "moduleResolution": "node",            // é€‰æ‹©æ¨¡å—è§£æç­–ç•¥ï¼š 'node' (Node.js) or 'classic' (TypeScript pre-1.6)
    "baseUrl": "./",                       // ç”¨äºè§£æéç›¸å¯¹æ¨¡å—åç§°çš„åŸºç›®å½•
    "paths": {},                           // æ¨¡å—ååˆ°åŸºäº baseUrl çš„è·¯å¾„æ˜ å°„çš„åˆ—è¡¨
    "rootDirs": [],                        // æ ¹æ–‡ä»¶å¤¹åˆ—è¡¨ï¼Œå…¶ç»„åˆå†…å®¹è¡¨ç¤ºé¡¹ç›®è¿è¡Œæ—¶çš„ç»“æ„å†…å®¹
    "typeRoots": [],                       // åŒ…å«ç±»å‹å£°æ˜çš„æ–‡ä»¶åˆ—è¡¨
    "types": [],                           // éœ€è¦åŒ…å«çš„ç±»å‹å£°æ˜æ–‡ä»¶ååˆ—è¡¨
    "allowSyntheticDefaultImports": true,  // å…è®¸ä»æ²¡æœ‰è®¾ç½®é»˜è®¤å¯¼å‡ºçš„æ¨¡å—ä¸­é»˜è®¤å¯¼å…¥ã€‚

    /* Source Map Options */
    "sourceRoot": "./",                    // æŒ‡å®šè°ƒè¯•å™¨åº”è¯¥æ‰¾åˆ° TypeScript æ–‡ä»¶è€Œä¸æ˜¯æºæ–‡ä»¶çš„ä½ç½®
    "mapRoot": "./",                       // æŒ‡å®šè°ƒè¯•å™¨åº”è¯¥æ‰¾åˆ°æ˜ å°„æ–‡ä»¶è€Œä¸æ˜¯ç”Ÿæˆæ–‡ä»¶çš„ä½ç½®
    "inlineSourceMap": true,               // ç”Ÿæˆå•ä¸ª soucemaps æ–‡ä»¶ï¼Œè€Œä¸æ˜¯å°† sourcemaps ç”Ÿæˆä¸åŒçš„æ–‡ä»¶
    "inlineSources": true,                 // å°†ä»£ç ä¸ sourcemaps ç”Ÿæˆåˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œè¦æ±‚åŒæ—¶è®¾ç½®äº† --inlineSourceMap æˆ– --sourceMap å±æ€§

    /* å…¶ä»–é€‰é¡¹ */
    "experimentalDecorators": true,        // å¯ç”¨è£…é¥°å™¨
    "emitDecoratorMetadata": true          // ä¸ºè£…é¥°å™¨æä¾›å…ƒæ•°æ®çš„æ”¯æŒ
  }
}


```

### å¸¸ç”¨çš„é…ç½®

- ç»ˆç«¯å‘½ä»¤

  - echo ''>index.ts(åˆ›å»ºä¸€ä¸ªç©ºçš„åå«index.tsçš„æ–‡ä»¶)

  - tsc -init(åˆ›å»ºä¸€ä¸ªtsconfig.json)

  - del index.js(åˆ é™¤åå«index.jsæ–‡ä»¶)

  - mkdir dist(åˆ›å»ºä¸€ä¸ªåå«distçš„æ–‡ä»¶å¤¹)

  - tsc(è¿è¡Œ)

> # 1.include
>
> æŒ‡å®šç¼–è¯‘æ–‡ä»¶é»˜è®¤æ˜¯ç¼–è¯‘å½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„ ts æ–‡ä»¶

- è¿™ä¸ªæ˜¯åœ¨ä¸­æ‹¬å·ä¸­å¡«å…¥è·¯å¾„ï¼Œè·¯å¾„æŒ‡å‘çš„é‚£ä¸ªtsæ–‡ä»¶ä¼šè¢«ç¼–è¯‘å‡ºä¸€ä¸ªjsæ–‡ä»¶å‡ºæ¥ã€‚è¿™ä¸ªæˆ‘ä»¬å°±å¯ä»¥ç”¨æ¥ç¼–è¯‘æŒ‡å®šæ–‡ä»¶

> # 2.exclude
>
> æŒ‡å®šæ’é™¤çš„æ–‡ä»¶

- è·Ÿ`include`åè¿‡æ¥äº†ï¼Œé™¤äº†å†™å…¥çš„è·¯å¾„ä¹‹å¤–ï¼Œå…¶ä»–å…¨éƒ¨ç¼–è¯‘

> # 3.target
>
> æŒ‡å®šç¼–è¯‘ js çš„ç‰ˆæœ¬ä¾‹å¦‚ es5 es6

- æœ‰äº›ä½é…ç½®çš„æµè§ˆå™¨æ˜¯ä¸å…¼å®¹es6çš„ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥å°†å…¶ç¼–è¯‘æˆes5ä½¿å…¶é€‚é…

> # 4.allowJS
>
> æ˜¯å¦å…è®¸ç¼–è¯‘ js æ–‡ä»¶

- æ˜¯å¦å…è®¸TypeScriptå¸®ä½ ç¼–è¯‘jsæ–‡ä»¶ï¼Œé»˜è®¤æ˜¯ä¸å…è®¸çš„

> # 5.removeComments
>
> æ˜¯å¦åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­åˆ é™¤æ–‡ä»¶ä¸­çš„æ³¨é‡Š



> # 6.rootDir
>
> ç¼–è¯‘æ–‡ä»¶çš„ç›®å½•



> # 7.outDir
>
> è¾“å‡ºçš„ç›®å½•

- æ”¹å˜è¾“å‡ºçš„ç›®å½•ï¼Œä¹Ÿå°±æ˜¯ç¼–è¯‘åè¾“å‡ºåˆ°è¿™é‡Œè®¾ç½®çš„æ–‡ä»¶å¤¹ç›®å½•ä¸­

> # 8.sourceMap
>
> ä»£ç æºæ–‡ä»¶

- è¿™ä¸ªæ–‡ä»¶ä¼šæ‰“åŒ…å‹ç¼©æˆä¸€è¡Œï¼ŒsourceMapä¼šè®°å½•è¡Œæ•°ï¼Œåˆ°æ—¶å€™ä¼šæ¯”è¾ƒå¥½æ‰¾

> # 9.strict
>
> ä¸¥æ ¼æ¨¡å¼

#### ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶

- ä¸¥æ ¼æ¨¡å¼ä¸»è¦æœ‰ä»¥ä¸‹é™åˆ¶ï¼š

  - å˜é‡å¿…é¡»å£°æ˜åå†ä½¿ç”¨
  - å‡½æ•°çš„å‚æ•°ä¸èƒ½æœ‰åŒåå±æ€§ï¼Œå¦åˆ™æŠ¥é”™
  - ä¸èƒ½ä½¿ç”¨ with è¯­å¥
  - ä¸èƒ½å¯¹åªè¯»å±æ€§èµ‹å€¼ï¼Œå¦åˆ™æŠ¥é”™
  - ä¸èƒ½ä½¿ç”¨å‰ç¼€ 0 è¡¨ç¤ºå…«è¿›åˆ¶æ•°ï¼Œå¦åˆ™æŠ¥é”™
  - ä¸èƒ½åˆ é™¤ä¸å¯åˆ é™¤çš„å±æ€§ï¼Œå¦åˆ™æŠ¥é”™
  - ä¸èƒ½åˆ é™¤å˜é‡ delete propï¼Œä¼šæŠ¥é”™ï¼Œåªèƒ½åˆ é™¤å±æ€§ delete global [prop]
  - eval ä¸ä¼šåœ¨å®ƒçš„å¤–å±‚ä½œç”¨åŸŸå¼•å…¥å˜é‡
  - eval å’Œ arguments ä¸èƒ½è¢«é‡æ–°èµ‹å€¼
  - arguments ä¸ä¼šè‡ªåŠ¨åæ˜ å‡½æ•°å‚æ•°çš„å˜åŒ–
  - ä¸èƒ½ä½¿ç”¨ arguments.callee
  - ä¸èƒ½ä½¿ç”¨ arguments.caller
  - ç¦æ­¢ this æŒ‡å‘å…¨å±€å¯¹è±¡
  - ä¸èƒ½ä½¿ç”¨ fn.caller å’Œ fn.arguments è·å–å‡½æ•°è°ƒç”¨çš„å †æ ˆ
  - å¢åŠ äº†ä¿ç•™å­—ï¼ˆæ¯”å¦‚ protectedã€static å’Œ interfaceï¼‰

  è¦æ³¨æ„ this çš„é™åˆ¶ã€‚ES6 æ¨¡å—ä¹‹ä¸­ï¼Œé¡¶å±‚çš„ this æŒ‡å‘ undefinedï¼Œå³ä¸åº”è¯¥åœ¨é¡¶å±‚ä»£ç ä½¿ç”¨ thisã€‚

> # 10.module
>
> é»˜è®¤ common.js å¯é€‰ es6 æ¨¡å¼ amd umd ç­‰

# namespaceå‘½åç©ºé—´(TS -- 16)

æˆ‘ä»¬åœ¨å·¥ä½œä¸­æ— æ³•é¿å…`å…¨å±€å˜é‡`é€ æˆçš„æ±¡æŸ“ï¼ŒTypeScript æä¾›äº† namespace é¿å…è¿™ä¸ªé—®é¢˜å‡ºç°

- å†…éƒ¨æ¨¡å—ï¼Œä¸»è¦ç”¨äºç»„ç»‡ä»£ç ï¼Œé¿å…å‘½åå†²çªã€‚
- å‘½åç©ºé—´å†…çš„ç±»é»˜è®¤ç§æœ‰
- é€šè¿‡ `export` æš´éœ²
- é€šè¿‡ `namespace` å…³é”®å­—å®šä¹‰

> TypeScriptä¸ ECMAScript 2015 ä¸€æ ·ï¼Œä»»ä½•åŒ…å«é¡¶çº§ `import` æˆ–è€… `export` çš„æ–‡ä»¶éƒ½è¢«å½“æˆä¸€ä¸ªæ¨¡å—ã€‚ç›¸ååœ°ï¼Œå¦‚æœä¸€ä¸ªæ–‡ä»¶ä¸å¸¦æœ‰é¡¶çº§çš„ `import` æˆ–è€… `export` å£°æ˜ï¼Œé‚£ä¹ˆå®ƒçš„å†…å®¹è¢«è§†ä¸ºå…¨å±€å¯è§çš„ï¼ˆå› æ­¤å¯¹æ¨¡å—ä¹Ÿæ˜¯å¯è§çš„ï¼‰

> `å‘½åç©ºé—´`ä¸­é€šè¿‡ `export` å°†æƒ³è¦æš´éœ²çš„éƒ¨åˆ†å¯¼å‡º
>
> å¦‚æœä¸ç”¨ export å¯¼å‡ºæ˜¯æ— æ³•è¯»å–å…¶å€¼çš„

```typescript
namespace a {
    export const Time: number = 1000
    export const fn = <T>(arg: T): T => {
        return arg
    }
    fn(Time)
}
 
 
namespace b {
     export const Time: number = 1000
     export const fn = <T>(arg: T): T => {
        return arg
    }
    fn(Time)
}
 
a.Time
b.Time
```

> æ¡ˆä¾‹

```typescript
//æ–‡ä»¶1ä¸æ–‡ä»¶2ä½äºåŒä¸€æ–‡ä»¶å¤¹ä¸‹
//æ–‡ä»¶1 => index.ts
const aa = 23
//æ–‡ä»¶3 => index2.ts
const aa = 66//æ­¤æ—¶å°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨æ–‡ä»¶1å·²ç»å£°æ˜è¿‡aaäº†
```

```typescript
//æ–‡ä»¶1 => index.ts
namespace A{
    export const aa =23
}
//æ–‡ä»¶2 => index.ts
namespace B{
    export const aa =66
}//ä¸ä¼šæŠ¥é”™

//è¦è¯»å–çš„è¯æ€ä¹ˆåšå‘¢ï¼Ÿæ­¤æ—¶åœ¨æ–‡ä»¶1
console.log(A.a);//åƒä½¿ç”¨å¯¹è±¡ä¸€æ ·ã€‚å®é™…ä¸Šä¹Ÿç¡®å®åŒ…äº†ä¸€å±‚å¯¹è±¡
```

> å®é™…ç¼–è¯‘æˆjsæ–‡ä»¶çš„æ ·å­

```js
"use strict"
var A;
(function (A){
    A.a = 1;
})(A || (A ={}));
console.log(A,a);
//åˆ°æ­¤jsæ–‡ä»¶æ‰€åœ¨ç›®å½•ä¸‹ä½¿ç”¨node index.jsè¿è¡Œï¼Œè¾“å‡º1
```

## åµŒå¥—å‘½åç©ºé—´

> å°±æ˜¯æå–å†…å®¹çš„æ—¶å€™éœ€è¦å¤š.å‡ æ¬¡ã€‚æ¯”å¦‚ä¸‹æ–¹ï¼ŒåŸæœ¬åªéœ€è¦a.bï¼Œç°åœ¨éœ€è¦a.b.value
>
> ç¼–è¯‘æˆjsæ–‡ä»¶çš„è¯ï¼Œå°±æ˜¯åœ¨functionåˆå¥—äº†ä¸€å±‚

```typescript
namespace a {
    export namespace b {
        export class Vue {
            parameters: string
            constructor(parameters: string) {
                this.parameters = parameters
            }
        }
    }
}
 
let v = a.b.Vue
 
new v('1')
```

## æŠ½ç¦»å‘½åç©ºé—´

> å°†å‘½åç©ºé—´çš„å†…å®¹æŠ½ç¦»å‡ºæ¥ï¼Œé€šè¿‡importå¼•å…¥åˆ°å…¶ä»–æ–‡ä»¶ä¸­ä½¿ç”¨

```typescript
//åœ¨index2.tsæ–‡ä»¶ä¸‹
expost namespace B{
    export const a = 2
}
//åœ¨index.tsæ–‡ä»¶ä¸‹
import xx from './index2.ts'

namespace A{
    export namespace C{
        export const D = 5
    }
}
console.log(A.C.D,B)//å°†BæŠ½ç¦»æˆäº†æ–‡ä»¶
//å°†æ­¤æ–‡ä»¶ç”¨dscè¿›è¡Œç»ˆç«¯ç¼–è¯‘ï¼Œç„¶ååœ¨tscondig.jsonå°†moduleä¿®æ”¹ä¸ºCommonJs(node.jsä¸è®¤è¯†definedï¼Œnode.jsæ˜¯åŸºäºCommonJSçš„)ï¼Œè¿›å»jsæ–‡ä»¶å¤¹ã€ç»ˆç«¯è¿è¡Œnode index
```

## ç®€åŒ–å‘½åç©ºé—´

> å¯ä»¥ç»™å‘½åç©ºé—´è·¯å¾„èµ·ä¸ªåå­—ï¼Œç„¶åç›´æ¥ä½¿ç”¨è¿™ä¸ªåå­—å°±å¯ä»¥ä»£æ›¿å‘½åç©ºé—´è·¯å¾„äº†
>
> è¿™ä¸ªæ˜¯ä¸èƒ½å¤Ÿåœ¨ts-nodeçš„ç¯å¢ƒä¸‹å»ä½¿ç”¨çš„

```typescript
//åœ¨index2.tsæ–‡ä»¶ä¸‹
expost namespace B{
    export const a = 2
}
//åœ¨index.tsæ–‡ä»¶ä¸‹
import xx from './index2.ts'

namespace A{
    export namespace C{
        export const D = 5
    }
}
console.log(A.C.D,B)//å°†BæŠ½ç¦»æˆäº†æ–‡ä»¶

import AAA = A.C.D
console.log(AAA)//èµ·åˆ°è·ŸA.C.Dä¸€æ ·çš„ä½œç”¨
import AAA = A.C
console.log(AAA.D)//èµ·åˆ°è·ŸA.C.Dä¸€æ ·çš„ä½œç”¨
```

## å‘½åç©ºé—´çš„åˆå¹¶

> å¦‚æœå‘½åç©ºé—´çš„å‘½åä¸€æ ·çš„è¯(é‡å)ï¼Œä¼šè‡ªåŠ¨åˆå¹¶

```typescript
//æ¡ˆä¾‹1
namespace A{
    export const b = 2
}

namespace A{
    export const d = 3
}
//æ¡ˆä¾‹2
namespace A{
    export const b = 2
    export const d = 3//æ¡ˆä¾‹1è·Ÿæ¡ˆä¾‹2æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œä¼šè‡ªåŠ¨åˆå¹¶
}
```

# ä¸‰æ–œçº¿æŒ‡ä»¤(TS -- 17)

> ä¸‰æ–œçº¿æŒ‡ä»¤æ˜¯åŒ…å«å•ä¸ª`XML`æ ‡ç­¾çš„å•è¡Œæ³¨é‡Šã€‚ æ³¨é‡Šçš„å†…å®¹ä¼šåšä¸ºç¼–è¯‘å™¨æŒ‡ä»¤ä½¿ç”¨ã€‚
>
> ä¸‰æ–œçº¿æŒ‡ä»¤*ä»…*å¯æ”¾åœ¨åŒ…å«å®ƒçš„æ–‡ä»¶çš„æœ€é¡¶ç«¯ã€‚ ä¸€ä¸ªä¸‰æ–œçº¿æŒ‡ä»¤çš„å‰é¢åªèƒ½å‡ºç°å•è¡Œæˆ–å¤šè¡Œæ³¨é‡Šï¼Œè¿™åŒ…æ‹¬å…¶å®ƒçš„ä¸‰æ–œçº¿æŒ‡ä»¤ã€‚ å¦‚æœå®ƒä»¬å‡ºç°åœ¨ä¸€ä¸ªè¯­å¥æˆ–å£°æ˜ä¹‹åï¼Œé‚£ä¹ˆå®ƒä»¬ä¼šè¢«å½“åšæ™®é€šçš„å•è¡Œæ³¨é‡Šï¼Œå¹¶ä¸”ä¸å…·æœ‰ç‰¹æ®Šçš„æ¶µä¹‰ã€‚
>
> `/// <reference path="..." />`æŒ‡ä»¤æ˜¯ä¸‰æ–œçº¿æŒ‡ä»¤ä¸­æœ€å¸¸è§çš„ä¸€ç§ã€‚ å®ƒç”¨äºå£°æ˜æ–‡ä»¶é—´çš„ *ä¾èµ–*ã€‚
>
> ä¸‰æ–œçº¿å¼•ç”¨å‘Šè¯‰`ç¼–è¯‘å™¨`åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­è¦å¼•å…¥çš„é¢å¤–çš„æ–‡ä»¶ã€‚ä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯å¦ä¸€ä¸ªimport
>
> ä½ ä¹Ÿå¯ä»¥æŠŠå®ƒç†è§£èƒ½ `import`ï¼Œå®ƒå¯ä»¥å‘Šè¯‰ç¼–è¯‘å™¨åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­è¦å¼•å…¥çš„é¢å¤–çš„æ–‡ä»¶
>
> ç›¸è¾ƒäºæŠ½ç¦»å‘½åç©ºé—´ã€‚èŒƒå›´æ›´å¹¿ï¼Œå°†æ•´ä¸ªæ–‡ä»¶éƒ½æŠ½ç¦»å‡ºæ¥äº†ã€‚

```typescript
//åœ¨a.ts
namespace A {
    export const fn = () => 'a'
}
//åœ¨b.ts
namespace A {
    export const fn2 = () => 'b'
}
//åœ¨index.ts

///<reference path="./index2.ts" />
///<reference path="./index3.ts" /> 
//å¼•å…¥ä¹‹åç›´æ¥å¯ä»¥ä½¿ç”¨å˜é‡ A
console.log(A);
```

> è¿™ä¸ªæ—¶å€™å°æ»¡å°†outFileæ‰“å¼€äº†ï¼Œè¿™ä¸ªçš„ä½œç”¨æ˜¯ï¼šå°†è¾“å‡ºæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶ç¼–è¯‘åˆ°æŒ‡å®šçš„è·¯å¾„ä¸­
>
> è¿™ä¸ªæ—¶å€™<reference path="./index2.ts" />æ ·å¼çš„è¿˜åœ¨
>
> è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å†æ‰“å¼€removeCommentsï¼Œä»–çš„ä½œç”¨æ˜¯ï¼šåˆ é™¤ç¼–è¯‘åçš„æ‰€æœ‰çš„æ³¨é‡Š
>
> ç¼–è¯‘å¥½åï¼Œé‚£äº›æ ·å¼å°±ä¸åœ¨äº†

## å¼•å…¥å£°æ˜æ–‡ä»¶

> ä¾‹å¦‚ï¼ŒæŠŠ `/// <reference types="node" />` å¼•å…¥åˆ°å£°æ˜æ–‡ä»¶ï¼Œè¡¨æ˜è¿™ä¸ªæ–‡ä»¶ä½¿ç”¨äº† `@types/node/index.d.ts` é‡Œé¢å£°æ˜çš„åå­—ï¼› å¹¶ä¸”ï¼Œè¿™ä¸ªåŒ…éœ€è¦åœ¨ç¼–è¯‘é˜¶æ®µä¸å£°æ˜æ–‡ä»¶ä¸€èµ·è¢«åŒ…å«è¿›æ¥ã€‚
>
> ä»…å½“åœ¨ä½ éœ€è¦å†™ä¸€ä¸ª `d.ts` æ–‡ä»¶æ—¶æ‰ä½¿ç”¨è¿™ä¸ªæŒ‡ä»¤ã€‚
>
> ä½¿ç”¨çš„è¯ï¼Œéœ€è¦å°†å£°æ˜æ–‡ä»¶è£…èµ·æ¥(npm install @types/node -D)

```typescript
///<reference types="node" />
//è¿™ä¸ªnodeæ–‡ä»¶ä»–ä¼šè‡ªå·±å»æ‰¾
```

# å£°æ˜æ–‡ä»¶d.ts(TS -- 18)

> å£°æ˜æ–‡ä»¶ declare 
>
> å½“ä½¿ç”¨`ç¬¬ä¸‰æ–¹åº“`æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å¼•ç”¨å®ƒçš„å£°æ˜æ–‡ä»¶ï¼Œæ‰èƒ½è·å¾—å¯¹åº”çš„ä»£ç è¡¥å…¨ã€æ¥å£æç¤ºç­‰åŠŸèƒ½ã€‚

```typescript
declare var       å£°æ˜å…¨å±€å˜é‡
declare function  å£°æ˜å…¨å±€æ–¹æ³•
declare class     å£°æ˜å…¨å±€ç±»
declare enum      å£°æ˜å…¨å±€æšä¸¾ç±»å‹
declare namespace å£°æ˜ï¼ˆå«æœ‰å­å±æ€§çš„ï¼‰å…¨å±€å¯¹è±¡
interface å’Œ type å£°æ˜å…¨å±€ç±»å‹
/// <reference /> ä¸‰æ–œçº¿æŒ‡ä»¤
```

> å…ˆï¼šnpm init -y	
>
> npm init -y åœ¨æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆé»˜è®¤çš„ package.json æ–‡ä»¶ï¼Œä½¿ç”¨å‘½ä»¤ç”Ÿæˆçš„ package.json æ–‡ä»¶å†…å®¹ä¸ä¸ä½¿ç”¨å‘½ä»¤ç”Ÿäº§çš„ä¸ä¸€æ ·
>
> åï¼šnpm install express -S	æ­£å¼çº¿å®‰è£…
>
> npm install axios

- ä»node_modulesçš„axiosçš„package.jsonå¯ä»¥å‘ç°types:"index.d.ts"ï¼Œå¯ä»¥å‘ç°å£°æ˜æ–‡ä»¶å·²ç»è¢«æŒ‡å®šäº†
  - æˆ‘ä»¬åœ¨å»çœ‹index.d.tsæ–‡ä»¶å¯ä»¥çœ‹åˆ°æœ€åé€šè¿‡declareå°†å…¶å¯¼å‡ºäº†
- åœ¨å¼•å…¥ä½¿ç”¨çš„æ—¶å€™ï¼Œå‘ç°expressåœ¨å¼•å…¥çš„æ—¶å€™çˆ†çº¢äº†
  - åŒæ ·çš„åœ¨node_noduleså¯ä»¥æ‰¾åˆ°expressä¸­çš„package.jsonï¼Œå‘ç°ä»–æ ¹æœ¬æ²¡æœ‰typesï¼Œä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰æŒ‡å®šå£°æ˜æ–‡ä»¶ã€‚æ‰€ä»¥æ‰ä¼šæœ‰çˆ†çº¢çš„è¿™ä¸ªé—®é¢˜
  - æˆ‘ä»¬å¯ä»¥åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªexpress.d.tsæ–‡ä»¶
  - åœ¨æ–‡ä»¶ä¸­å†™å…¥`declare var express:() => any`
  - è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨expressçš„æ—¶å€™ï¼Œå°±å‘ç°å¯ä»¥ä½¿ç”¨äº†`express()`ï¼Œä¸ä¼šçˆ†çº¢äº†
  - å¦ä¸€ç§æ–¹æ³•å°±æ˜¯æŒ‰ç…§æç¤ºå»è£…åŒ…ï¼Œç„¶åå»tsconfig.jsonå»å¯¼å‡ºä¸€ä¸‹`"allowSyntheticDefaultImports":true`è¿›è¡Œè¡¥å…¨

[npmæ”¶å½•åŒ…å¤§å…¨](https://www.npmjs.com/~types?activeTab=packages)

# Mixinsæ··å…¥(TS -- 19)

> TypeScript æ··å…¥ Mixins å…¶å® vue ä¹Ÿæœ‰ mixins è¿™ä¸ªä¸œè¥¿ ä½ å¯ä»¥æŠŠä»–çœ‹ä½œä¸ºåˆå¹¶

## å¯¹è±¡æ··å…¥

> å¯ä»¥ä½¿ç”¨ `ES6` çš„ Object.assign åˆå¹¶å¤šä¸ªå¯¹è±¡
>
> æ­¤æ—¶ people ä¼šè¢«æ¨æ–­æˆä¸€ä¸ªäº¤å·®ç±»å‹ Name & Age & sex;
>
> ### Object.assign()
>
> - Object.assign () è¿™ä¸ªæ–¹æ³•æ¥å®ç°æµ…å¤åˆ¶
> - ä¸»è¦çš„ç”¨é€”æ˜¯ç”¨æ¥åˆå¹¶å¤šä¸ª JavaScript çš„å¯¹è±¡
> - Object.assign () æ¥å£å¯ä»¥æ¥æ”¶å¤šä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç›®æ ‡å¯¹è±¡ï¼Œåé¢çš„éƒ½æ˜¯æºå¯¹è±¡ï¼Œassign æ–¹æ³•å°†å¤šä¸ªåŸå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•éƒ½åˆå¹¶åˆ°äº†ç›®æ ‡å¯¹è±¡ä¸Šé¢ï¼Œå¦‚æœåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å‡ºç°åŒåçš„å±æ€§ï¼ˆæ–¹æ³•ï¼‰ï¼Œååˆå¹¶çš„å±æ€§ï¼ˆæ–¹æ³•ï¼‰ä¼šè¦†ç›–ä¹‹å‰çš„åŒåå±æ€§ï¼ˆæ–¹æ³•ï¼‰
> - Object.assign æ‹·è´çš„å±æ€§æ˜¯æœ‰é™åˆ¶çš„ï¼Œåªä¼šæ‹·è´å¯¹è±¡æœ¬èº«çš„å±æ€§ï¼ˆä¸ä¼šæ‹·è´ç»§æ‰¿å±æ€§ï¼‰ï¼Œä¹Ÿä¸ä¼šæ‹·è´ä¸å¯[æšä¸¾](https://so.csdn.net/so/search?q=æšä¸¾&spm=1001.2101.3001.7020)çš„å±æ€§
> - Object.assign ä¸ä¼šè·³è¿‡é‚£äº›å€¼ä¸º [null] æˆ– [undefined] çš„æºå¯¹è±¡

```typescript
interface Name {
    name: string
}
interface Age {
    age: number
}
interface Sex {
    sex: number
}
 
let people1: Name = { name: "å°æ»¡" }
let people2: Age = { age: 20 }
let people3: Sex = { sex: 1 }
 
//Object.assign(a,b,c)

const people = Object.assign(people1,people2,people3)
```

## ç±»çš„æ··å…¥

> é¦–å…ˆå£°æ˜ä¸¤ä¸ª mixins ç±» ï¼ˆä¸¥æ ¼æ¨¡å¼è¦å…³é—­ä¸ç„¶ç¼–è¯‘ä¸è¿‡ï¼‰

```typescript
//æ··å…¥ç±»
class A{
    type:boolean
    changeType(){
        this.type = !this.type
    }
}

class B{
    name:string
    getName(){
        return this.name
    }
}

//å®ç°ç±»	é¦–å…ˆåº”è¯¥æ³¨æ„åˆ°çš„æ˜¯ï¼Œæ²¡ä½¿ç”¨ extends è€Œæ˜¯ä½¿ç”¨ implementsã€‚ æŠŠç±»å½“æˆäº†æ¥å£ã€‚æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆåšæ¥è¾¾åˆ°ç›®çš„ï¼Œä¸ºå°†è¦ mixin è¿›æ¥çš„å±æ€§æ–¹æ³•åˆ›å»ºå‡ºå ä½å±æ€§ã€‚ è¿™å‘Šè¯‰ç¼–è¯‘å™¨è¿™äº›æˆå‘˜åœ¨è¿è¡Œæ—¶æ˜¯å¯ç”¨çš„ã€‚ è¿™æ ·å°±èƒ½ä½¿ç”¨ mixin å¸¦æ¥çš„ä¾¿åˆ©ï¼Œè™½è¯´éœ€è¦æå‰å®šä¹‰ä¸€äº›å ä½å±æ€§
class C implements A,B{
    //è¿™ä¸ªæ—¶å€™ç¼–è¾‘å™¨ä¼šç»™å‡ºæç¤ºç±»"C"é”™è¯¯å®ç°"A"ã€‚ä½ æ˜¯æƒ³æ‰©å±•"A"å¹¶å°†å…¶æˆå‘˜ä½œä¸ºå­ç»§æ‰¿å—ï¼Ÿ
    //ç±»å‹"C"ç¼ºå°‘ç±»å‹"A"ä¸­çš„ä»¥ä¸‹å±æ€§:type,changeType
    //Bç±»åŒç†
    //è¿™ä¸ªæ—¶å€™å°±éœ€è¦æˆ‘ä»¬æå‰å®šä¹‰å ä½ç¬¦
    type:boolean = false;
    name:string = "å°ä½™";
    changeType:()=> void
    getName:() => string
}

mixins(C,[A,B])//ç¬¬ä¸€ä¸ªä¸ºç›®æ ‡å¯¹è±¡ï¼Œåé¢ä¸ºè¦æ··å…¥çš„å¯¹è±¡
//æœ€åï¼Œåˆ›å»ºè¿™ä¸ªå¸®åŠ©å‡½æ•°ï¼Œå¸®æˆ‘ä»¬åšæ··å…¥æ“ä½œã€‚ å®ƒä¼šéå† mixins ä¸Šçš„æ‰€æœ‰å±æ€§ï¼Œå¹¶å¤åˆ¶åˆ°ç›®æ ‡ä¸Šå»ï¼ŒæŠŠä¹‹å‰çš„å ä½å±æ€§æ›¿æ¢æˆçœŸæ­£çš„å®ç°ä»£ç 
//å¸®åŠ©å‡½æ•°ï¼ŒæŠŠæˆ‘ä»¬åœ¨å®ç°ç±»ä¸­å†™çš„å»è¿›è¡Œä¸€ä¸ªå®ç°
function mixins (curClas:any,itemCls:any[]){
    itemCls.forEach(item()=>{
        console.log(item);//è¾“å‡º[class A][class B]ï¼Œæˆ‘ä»¬è¦è¯»å–çš„ä¸æ˜¯è¿™ä¸ªï¼Œè€Œæ˜¯ä»–åŸå‹ä¸Šçš„ä¸€äº›å±æ€§
        Object.getOwnPropertyNames(item,prototype).forEach(name =>{
            //Object.getOwnPropertyNames () å¯ä»¥è·å–å¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œé™¤å»ä»–ç»§æ‰¿æ¥çš„å±æ€§ï¼Œå¯¹å®ƒæ‰€æœ‰çš„å±æ€§éå†ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œéå†ä¸€ä¸‹å®ƒæ‰€æœ‰çš„å±æ€§å
            console.log(name);//æ‰“å°å‡ºæ¥äº†changeTypeè·ŸgetName
            curClas.prototype[name] = item.prototype[name]
        })
    })
}

let ccc = new C()//å®ä¾‹åŒ–ä¸€ä¸‹
console.log(ccc.type);//false
ccc.changeType()//è¿™é‡Œåˆ‡æ¢äº†å¸ƒå°”å€¼
console.log(ccc.type);//true
```

# è£…é¥°å™¨Decorator(TS -- 20)

> Decorator [è£…é¥°å™¨](https://so.csdn.net/so/search?q=è£…é¥°å™¨&spm=1001.2101.3001.7020)æ˜¯ä¸€é¡¹å®éªŒæ€§ç‰¹æ€§ï¼Œåœ¨æœªæ¥çš„ç‰ˆæœ¬ä¸­å¯èƒ½ä¼šå‘ç”Ÿæ”¹å˜
>
> å®ƒä»¬ä¸ä»…å¢åŠ äº†ä»£ç çš„å¯è¯»æ€§ï¼Œæ¸…æ™°åœ°è¡¨è¾¾äº†æ„å›¾ï¼Œè€Œä¸”æä¾›ä¸€ç§æ–¹ä¾¿çš„æ‰‹æ®µï¼Œå¢åŠ æˆ–ä¿®æ”¹ç±»çš„åŠŸèƒ½
>
> è‹¥è¦å¯ç”¨å®éªŒæ€§çš„è£…é¥°å™¨ç‰¹æ€§ï¼Œä½ å¿…é¡»åœ¨`å‘½ä»¤è¡Œ`æˆ– `tsconfig.json` é‡Œå¯ç”¨`ç¼–è¯‘å™¨`é€‰é¡¹
>
> å¯ç”¨çš„åå­—å«`experimentalDecorators`

## è£…é¥°å™¨

> *è£…é¥°å™¨*æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„å£°æ˜ï¼Œå®ƒèƒ½å¤Ÿè¢«é™„åŠ åˆ°ç±»å£°æ˜ã€æ–¹æ³•ã€è®¿é—®ç¬¦ã€å±æ€§æˆ–è€…å‚æ•°ä¸Š
>
> é€šè¿‡`@`è¯­æ³•ç³–å®ç°
>
> ä½¿ç”¨æ–¹æ³•ï¼šå¯¹äºè¿™ä¸ªçš„å®ç°æˆ‘è®¤ä¸ºå°±æ˜¯å®šä¹‰å¥½äº†ä¹‹åç›´æ¥ç›–åœ¨ä½ æƒ³å¯¹å…¶ä½¿ç”¨ç›®æ ‡çš„å¤´é¡¶ä¸Š

- ä»¥ä¸‹ä¸¤ä¸ªä»£ç å—çš„watcheréƒ½æ˜¯ä¸æ”¯æŒä¼ å‚çš„

```typescript
const watcher:ClassDecorator = (target:Function)=>{
    console.log(target)
}
@watcher//é€šè¿‡@å»ä½¿ç”¨ï¼Œä¼šå›ä¼ ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯target
class A{
    
}
//é€šè¿‡ts-node xxxæ‰“å°å‡ºæ¥çš„ç»“æœä¸º[class A]
```

> çŸ¥è¯†ç‚¹å¤ä¹ ï¼š
>
> prototype å¯¹è±¡æ˜¯å®ç°é¢å‘å¯¹è±¡çš„ä¸€ä¸ªé‡è¦æœºåˆ¶ã€‚æ¯ä¸ªå‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒä»¬å¯¹åº”çš„ç±»å°±æ˜¯ functionï¼Œæ¯ä¸ªå‡½æ•°å¯¹è±¡éƒ½å…·æœ‰ä¸€ä¸ªå­å¯¹è±¡ prototypeã€‚
>
> Prototype è¡¨ç¤ºäº†è¯¥å‡½æ•°çš„åŸå‹ï¼Œprototype è¡¨ç¤ºäº†ä¸€ä¸ªç±»çš„å±æ€§çš„é›†åˆã€‚å½“é€šè¿‡ new æ¥ç”Ÿæˆä¸€ä¸ªç±»çš„å¯¹è±¡æ—¶ï¼Œprototype å¯¹è±¡çš„å±æ€§å°±ä¼šæˆä¸ºå®ä¾‹åŒ–å¯¹è±¡çš„å±æ€§ã€‚
>
> [Prototypeä¸ prototypeçš„åŒºåˆ«](https://zhuanlan.zhihu.com/p/523215502)

```typescript
const watcher:ClassDecorator = (target:Function)=>{
    target.prototype.getName = <T>(name:T):T =>{
        return name
    }
}
@watcher
class A{
    
}
let a = new A()

a.getName()//ä¼šæŠ¥ç±»å‹"A"ä¸Šä¸å­˜åœ¨å±æ€§"getName"
//(<any>a).getName()//æˆ‘ä»¬å°†å…¶æ–­è¨€æˆanyç±»å‹
console.log((<any>a).getName("å°æ»¡æ·±å¤œéª‘å•è½¦"))//å¯¹å…¶è¿›è¡Œä½¿ç”¨ï¼Œè¾“å‡º å°æ»¡æ·±å¤œéª‘å•è½¦

@watcher
class B{
    
}
let b = new B()
console.log(b.getname('666'))//ä¹Ÿæ˜¯å¯ä»¥çš„
```

## è£…é¥°å™¨å·¥å‚

- æ”¯æŒä¼ å‚çš„å†™æ³•

> æˆ‘è®¤ä¸ºå…¶å®å°±æ˜¯å¤šäº†ä¸€å±‚å£³ï¼Œè¿™å±‚å£³ç”¨æ¥æ¥æ”¶@watcherçš„å‚æ•°ã€‚é‡Œé¢returnçš„é‚£ä¸€å±‚å†ç”¨æ¥æ¥æ”¶class Aè¿™ä¸ªæ„é€ å™¨
>
> å…¶å®ä¹Ÿå°±æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•° å¤–å±‚çš„å‡½æ•°æ¥å—å€¼ é‡Œå±‚çš„å‡½æ•°æœ€ç»ˆæ¥å—ç±»çš„æ„é€ å‡½æ•°

```typescript
const watcher = (name=string):ClassDecorator =>{
    return (target:Function) =>{
        target.prototype.getNames = <T>(name:string):T =>{
            return name
        }
        target.prototype.getOptions = (): string => {
            return name
    }
}
@watcher("å°ä½™çš„ç¬”è®°")
class A{
    
}
let a = new A()
console.log((<any>a).getNames())//è¿”å› å°ä½™çš„ç¬”è®°
```

## è£…é¥°å™¨ç»„åˆ

> å°±æ˜¯å¯ä»¥ä½¿ç”¨å¤šä¸ªè£…é¥°å™¨

```typescript
//è£…é¥°å™¨ç»„åˆç»„åˆ
const watcher = (name:string):ClassDecorator =>{
    return (target:Function) =>{
        target.prototype.getName = ()=>{
            return name
        }
    }
}

const log:ClassDecorator = (target:Function) =>{
    target.prototype.a = 213
}

@log
@watcher('å°æ»¡')
class A{
    
}
```

```typescript
const watcher = (name: string): ClassDecorator => {
    return (target: Function) => {
        target.prototype.getParams = <T>(params: T): T => {
            return params
        }
        target.prototype.getOptions = (): string => {
            return name
        }
    }
}
const watcher2 = (name: string): ClassDecorator => {
    return (target: Function) => {
        target.prototype.getNames = ():string => {
            return name
        }
    }
}
 
@watcher2('name2')
@watcher('name')
class A {
    constructor() {
 
    }
}
 
 
const a = new A();
console.log((a as any).getOptions());
console.log((a as any).getNames());
```

## æ–¹æ³•è£…é¥°å™¨

> è¿”å›ä¸‰ä¸ªå‚æ•°
>
> 1. å¯¹äºé™æ€æˆå‘˜æ¥è¯´æ˜¯ç±»çš„æ„é€ å‡½æ•°ï¼Œå¯¹äºå®ä¾‹æˆå‘˜æ˜¯ç±»çš„åŸå‹å¯¹è±¡ã€‚
> 2. æˆå‘˜çš„åå­—ã€‚
> 3. æˆå‘˜çš„*å±æ€§æè¿°ç¬¦*ã€‚
>
> ç›¸å½“äºæŠ½ç¦»å‡ºæ¥ï¼Œåœ¨ç±»ä¸­å¼•ç”¨è¿›å»ï¼Œè¿™æ ·å¯ä»¥åœ¨ä¸åŒçš„ç±»ä¸­å¼•ç”¨

```typescript
[
  {},
  'setParasm',
  {
    value: [Function: setParasm],
    writable: true,
    enumerable: false,
    configurable: true
  }
]
```

```typescript
const met:MethodDecorator = (...args) => {
    console.log(args);
}
 
class A {
    constructor() {
 
    }
    @met
    getName ():string {
        return 'å°æ»¡'
    }
}
 
 
const a = new A();
```

## å±æ€§è£…é¥°å™¨

> è¿”å›ä¸¤ä¸ªå‚æ•°
>
> 1. å¯¹äºé™æ€æˆå‘˜æ¥è¯´æ˜¯ç±»çš„æ„é€ å‡½æ•°ï¼Œå¯¹äºå®ä¾‹æˆå‘˜æ˜¯ç±»çš„åŸå‹å¯¹è±¡ã€‚
> 2. å±æ€§çš„åå­—ã€‚
>
> [ {}, 'name', undefined ]

```typescript
const met:PropertyDecorator = (...args) => {
    console.log(args);
}
 
class A {
    @met
    name:string
    constructor() {
 
    }
   
}
  
const a = new A();
```

## å‚æ•°è£…é¥°å™¨

è¿”å›ä¸‰ä¸ªå‚æ•°

1. å¯¹äºé™æ€æˆå‘˜æ¥è¯´æ˜¯ç±»çš„æ„é€ å‡½æ•°ï¼Œå¯¹äºå®ä¾‹æˆå‘˜æ˜¯ç±»çš„åŸå‹å¯¹è±¡ã€‚
2. æˆå‘˜çš„åå­—ã€‚
3. å‚æ•°åœ¨å‡½æ•°å‚æ•°åˆ—è¡¨ä¸­çš„ç´¢å¼•ã€‚

[ {}, 'setParasm', 0 ]

```typescript
const met:ParameterDecorator = (...args) => {
    console.log(args);
}
 
class A {
    constructor() {
 
    }
    setParasm (@met name:string = '213') {
 
    }
}
 
 
const a = new A();
```

# Rollupæ„å»ºTSé¡¹ç›®(TS -- 21)

> ç”±äºæˆ‘ä½¿ç”¨çš„æ˜¯viteæ‰“åŒ…å·¥å…·ï¼Œé‚£è¿™ä¸ªè§†é¢‘æ˜¯å±äºè¿‡ä¸€éçš„ç¨‹åº¦ï¼Œæœ¬ç« èŠ‚å†…å®¹å°†ç›´æ¥æŠŠå°æ»¡åœ¨CSDNçš„æ–‡ç« copyè¿‡æ¥

## Rollup æ„å»º TS é¡¹ç›®

### å®‰è£…ä¾èµ–

1. å…¨å±€å®‰è£… rollup **npm install rollup-g**

2. å®‰è£… TypeScript  npm install typescript -D

3. å®‰è£… TypeScript è½¬æ¢å™¨ npm install rollup-plugin-typescript2 -D
4.  å®‰è£…ä»£ç å‹ç¼©æ’ä»¶ npm install rollup-plugin-terser -D
5. å®‰è£… rollupweb æœåŠ¡ npm install rollup-plugin-serve -D
6. å®‰è£…[çƒ­æ›´æ–°](https://so.csdn.net/so/search?q=çƒ­æ›´æ–°&spm=1001.2101.3001.7020) npm install rollup-plugin-livereload -D
7. å¼•å…¥å¤–éƒ¨ä¾èµ– npm install rollup-plugin-node-resolve -D
8. å®‰è£…é…ç½®ç¯å¢ƒå˜é‡ç”¨æ¥åŒºåˆ†æœ¬åœ°å’Œç”Ÿäº§ npm install cross-env -D
9. æ›¿æ¢ç¯å¢ƒå˜é‡ç»™æµè§ˆå™¨ä½¿ç”¨ npm install rollup-plugin-replace -D

### é…ç½® json æ–‡ä»¶

npm init -y

```typescript
{
  "name": "rollupTs",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "dev": "cross-env NODE_ENV=development  rollup -c -w",
    "build":"cross-env NODE_ENV=produaction  rollup -c"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "devDependencies": {
    "cross-env": "^7.0.3",
    "rollup-plugin-livereload": "^2.0.5",
    "rollup-plugin-node-resolve": "^5.2.0",
    "rollup-plugin-replace": "^2.2.0",
    "rollup-plugin-serve": "^1.1.0",
    "rollup-plugin-terser": "^7.0.2",
    "rollup-plugin-typescript2": "^0.31.1",
    "typescript": "^4.5.5"
  }
}
```

### é…ç½® rollup æ–‡ä»¶

```typescript
console.log(process.env);
import ts from 'rollup-plugin-typescript2'
import path from 'path'
import serve from 'rollup-plugin-serve'
import livereload from 'rollup-plugin-livereload'
import { terser } from 'rollup-plugin-terser'
import resolve from 'rollup-plugin-node-resolve'
import repacle from 'rollup-plugin-replace'
 
const isDev = () => {
    return process.env.NODE_ENV === 'development'
}
export default {
    input: "./src/main.ts",
    output: {
        file: path.resolve(__dirname, './lib/index.js'),
        format: "umd",
        sourcemap: true
    },
 
    plugins: [
        ts(),
        terser({
            compress: {
                drop_console: !isDev()
            }
        }),
        repacle({
            'process.env.NODE_ENV': JSON.stringify(process.env.NODE_ENV)
        }),
        resolve(['.js', '.ts']),
        isDev() && livereload(),
        isDev() && serve({
            open: true,
            openPage: "/public/index.html"
        })
    ]
}
```

### é…ç½® tsconfig.json

```typescript
{
  "compilerOptions": {
    /* Visit https://aka.ms/tsconfig.json to read more about this file */
 
    /* Projects */
    // "incremental": true,                              /* Enable incremental compilation */
    // "composite": true,                                /* Enable constraints that allow a TypeScript project to be used with project references. */
    // "tsBuildInfoFile": "./",                          /* Specify the folder for .tsbuildinfo incremental compilation files. */
    // "disableSourceOfProjectReferenceRedirect": true,  /* Disable preferring source files instead of declaration files when referencing composite projects */
    // "disableSolutionSearching": true,                 /* Opt a project out of multi-project reference checking when editing. */
    // "disableReferencedProjectLoad": true,             /* Reduce the number of projects loaded automatically by TypeScript. */
 
    /* Language and Environment */
    "target": "es5",                                  /* Set the JavaScript language version for emitted JavaScript and include compatible library declarations. */
    // "lib": [],                                        /* Specify a set of bundled library declaration files that describe the target runtime environment. */
    // "jsx": "preserve",                                /* Specify what JSX code is generated. */
    // "experimentalDecorators": true,                   /* Enable experimental support for TC39 stage 2 draft decorators. */
    // "emitDecoratorMetadata": true,                    /* Emit design-type metadata for decorated declarations in source files. */
    // "jsxFactory": "",                                 /* Specify the JSX factory function used when targeting React JSX emit, e.g. 'React.createElement' or 'h' */
    // "jsxFragmentFactory": "",                         /* Specify the JSX Fragment reference used for fragments when targeting React JSX emit e.g. 'React.Fragment' or 'Fragment'. */
    // "jsxImportSource": "",                            /* Specify module specifier used to import the JSX factory functions when using `jsx: react-jsx*`.` */
    // "reactNamespace": "",                             /* Specify the object invoked for `createElement`. This only applies when targeting `react` JSX emit. */
    // "noLib": true,                                    /* Disable including any library files, including the default lib.d.ts. */
    // "useDefineForClassFields": true,                  /* Emit ECMAScript-standard-compliant class fields. */
 
    /* Modules */
    "module": "ES2015",                                /* Specify what module code is generated. */
    // "rootDir": "./",                                  /* Specify the root folder within your source files. */
    // "moduleResolution": "node",                       /* Specify how TypeScript looks up a file from a given module specifier. */
    // "baseUrl": "./",                                  /* Specify the base directory to resolve non-relative module names. */
    // "paths": {},                                      /* Specify a set of entries that re-map imports to additional lookup locations. */
    // "rootDirs": [],                                   /* Allow multiple folders to be treated as one when resolving modules. */
    // "typeRoots": [],                                  /* Specify multiple folders that act like `./node_modules/@types`. */
    // "types": [],                                      /* Specify type package names to be included without being referenced in a source file. */
    // "allowUmdGlobalAccess": true,                     /* Allow accessing UMD globals from modules. */
    // "resolveJsonModule": true,                        /* Enable importing .json files */
    // "noResolve": true,                                /* Disallow `import`s, `require`s or `<reference>`s from expanding the number of files TypeScript should add to a project. */
 
    /* JavaScript Support */
    // "allowJs": true,                                  /* Allow JavaScript files to be a part of your program. Use the `checkJS` option to get errors from these files. */
    // "checkJs": true,                                  /* Enable error reporting in type-checked JavaScript files. */
    // "maxNodeModuleJsDepth": 1,                        /* Specify the maximum folder depth used for checking JavaScript files from `node_modules`. Only applicable with `allowJs`. */
 
    /* Emit */
    // "declaration": true,                              /* Generate .d.ts files from TypeScript and JavaScript files in your project. */
    // "declarationMap": true,                           /* Create sourcemaps for d.ts files. */
    // "emitDeclarationOnly": true,                      /* Only output d.ts files and not JavaScript files. */
      "sourceMap": true,                                /* Create source map files for emitted JavaScript files. */
    // "outFile": "./",                                  /* Specify a file that bundles all outputs into one JavaScript file. If `declaration` is true, also designates a file that bundles all .d.ts output. */
    // "outDir": "./",                                   /* Specify an output folder for all emitted files. */
    // "removeComments": true,                           /* Disable emitting comments. */
    // "noEmit": true,                                   /* Disable emitting files from a compilation. */
    // "importHelpers": true,                            /* Allow importing helper functions from tslib once per project, instead of including them per-file. */
    // "importsNotUsedAsValues": "remove",               /* Specify emit/checking behavior for imports that are only used for types */
    // "downlevelIteration": true,                       /* Emit more compliant, but verbose and less performant JavaScript for iteration. */
    // "sourceRoot": "",                                 /* Specify the root path for debuggers to find the reference source code. */
    // "mapRoot": "",                                    /* Specify the location where debugger should locate map files instead of generated locations. */
    // "inlineSourceMap": true,                          /* Include sourcemap files inside the emitted JavaScript. */
    // "inlineSources": true,                            /* Include source code in the sourcemaps inside the emitted JavaScript. */
    // "emitBOM": true,                                  /* Emit a UTF-8 Byte Order Mark (BOM) in the beginning of output files. */
    // "newLine": "crlf",                                /* Set the newline character for emitting files. */
    // "stripInternal": true,                            /* Disable emitting declarations that have `@internal` in their JSDoc comments. */
    // "noEmitHelpers": true,                            /* Disable generating custom helper functions like `__extends` in compiled output. */
    // "noEmitOnError": true,                            /* Disable emitting files if any type checking errors are reported. */
    // "preserveConstEnums": true,                       /* Disable erasing `const enum` declarations in generated code. */
    // "declarationDir": "./",                           /* Specify the output directory for generated declaration files. */
    // "preserveValueImports": true,                     /* Preserve unused imported values in the JavaScript output that would otherwise be removed. */
 
    /* Interop Constraints */
    // "isolatedModules": true,                          /* Ensure that each file can be safely transpiled without relying on other imports. */
    // "allowSyntheticDefaultImports": true,             /* Allow 'import x from y' when a module doesn't have a default export. */
    "esModuleInterop": true,                             /* Emit additional JavaScript to ease support for importing CommonJS modules. This enables `allowSyntheticDefaultImports` for type compatibility. */
    // "preserveSymlinks": true,                         /* Disable resolving symlinks to their realpath. This correlates to the same flag in node. */
    "forceConsistentCasingInFileNames": true,            /* Ensure that casing is correct in imports. */
 
    /* Type Checking */
    "strict": true,                                      /* Enable all strict type-checking options. */
    // "noImplicitAny": true,                            /* Enable error reporting for expressions and declarations with an implied `any` type.. */
    // "strictNullChecks": true,                         /* When type checking, take into account `null` and `undefined`. */
    // "strictFunctionTypes": true,                      /* When assigning functions, check to ensure parameters and the return values are subtype-compatible. */
    // "strictBindCallApply": true,                      /* Check that the arguments for `bind`, `call`, and `apply` methods match the original function. */
    // "strictPropertyInitialization": true,             /* Check for class properties that are declared but not set in the constructor. */
    // "noImplicitThis": true,                           /* Enable error reporting when `this` is given the type `any`. */
    // "useUnknownInCatchVariables": true,               /* Type catch clause variables as 'unknown' instead of 'any'. */
    // "alwaysStrict": true,                             /* Ensure 'use strict' is always emitted. */
    // "noUnusedLocals": true,                           /* Enable error reporting when a local variables aren't read. */
    // "noUnusedParameters": true,                       /* Raise an error when a function parameter isn't read */
    // "exactOptionalPropertyTypes": true,               /* Interpret optional property types as written, rather than adding 'undefined'. */
    // "noImplicitReturns": true,                        /* Enable error reporting for codepaths that do not explicitly return in a function. */
    // "noFallthroughCasesInSwitch": true,               /* Enable error reporting for fallthrough cases in switch statements. */
    // "noUncheckedIndexedAccess": true,                 /* Include 'undefined' in index signature results */
    // "noImplicitOverride": true,                       /* Ensure overriding members in derived classes are marked with an override modifier. */
    // "noPropertyAccessFromIndexSignature": true,       /* Enforces using indexed accessors for keys declared using an indexed type */
    // "allowUnusedLabels": true,                        /* Disable error reporting for unused labels. */
    // "allowUnreachableCode": true,                     /* Disable error reporting for unreachable code. */
 
    /* Completeness */
    // "skipDefaultLibCheck": true,                      /* Skip type checking .d.ts files that are included with TypeScript. */
    "skipLibCheck": true                                 /* Skip type checking all .d.ts files. */
  }
}
```

**npm run dev å¯åŠ¨å°±å¯ä»¥å°½æƒ…çš„ç©è€äº†**

## webpack æ„å»º TS é¡¹ç›®

å®‰è£…ä¾èµ–

å®‰è£… webpack  npm install webpack -D

webpack4 ä»¥ä¸Šéœ€è¦ npm install webpack-cli -D

ç¼–è¯‘ TS npm install ts-loader -D

TS ç¯å¢ƒ npm install [typescript](https://so.csdn.net/so/search?q=typescript&spm=1001.2101.3001.7020) -D

çƒ­æ›´æ–°æœåŠ¡ npm install webpack-dev-server -D

HTML æ¨¡æ¿ npm install html-webpack-plugin -D

### **é…ç½®æ–‡ä»¶**

```typescript
const path = require('path')
const htmlWebpackPlugin = require('html-webpack-plugin')
module.exports = {
    entry: "./src/index.ts",
    mode: "development",
    output: {
        path: path.resolve(__dirname, './dist'),
        filename: "index.js"
    },
    stats: "none",
    resolve: {
        extensions: ['.ts', '.js'],
        alias: {
            '@': path.resolve(__dirname, './src')
        }
    },
    module: {
        rules: [
            {
                test: /\.ts$/,
                use: "ts-loader"
            }
        ]
    },
    devServer: {
        port: 1988,
        proxy: {}
    },
    plugins: [
        new htmlWebpackPlugin({
            template: "./public/index.html"
        })
    ]
}
```

**ç›®å½•ç»“æ„**

<img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/925/image-20221009090143222.png" alt="image-20221009090143222" style="zoom:50%;" />

# å®æˆ˜TSç¼–å†™å‘å¸ƒè®¢é˜…æ¨¡å¼(TS -- 22)

> ä»€ä¹ˆæ˜¯å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œå…¶å®å°ä¼™ä¼´å·²ç»ç”¨åˆ°äº†å‘å¸ƒè®¢é˜…æ¨¡å¼ä¾‹å¦‚ addEventListenerï¼ŒVue evnetBus
>
> éƒ½å±äºå‘å¸ƒè®¢é˜…æ¨¡å¼
>
> ç®€å•æ¥è¯´å°±æ˜¯ ä½ (å°æ»¡)è¦å’Œ å¤§æ»¡ äºŒæ»¡ ä¸‰æ»¡æ‰“çƒï¼Œå¤§æ»¡å¸¦çƒï¼ŒäºŒæ»¡å¸¦æ°´ï¼Œä¸‰æ»¡å¸¦çƒè¡£ã€‚å…¨éƒ½å‡†å¤‡å®Œæˆåå¼€å§‹æ‰“çƒã€‚

## æ€ç»´å¯¼å›¾

<img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/925/image-20221009095700693.png" alt="image-20221009095700693" style="zoom:50%;" />

```typescript
interface Evenet{
    on:(name:string,fn:Function)) => void,
    emit(name:string,..args:Array<any>) => void,//æ´¾å‘
    off(name:string,fn:Function)=> void,//ç§»é™¤
    once(name:string,fn:Function) => void//åªæ‰§è¡Œä¸€æ¬¡
}
    
interface List{
    [key:string]:Array<Function>
}
   
class Dispatch implements Event{//é€šè¿‡implementsæ¥çº¦æŸè¿™ä¸ªç±»(Evenet)
    list:List
    constructor(){
        this.list = {}
    }
    on(name:string,fn:Function){
        const callback = this.list[name] || []//å¦‚æœæœ‰å–åˆ°å€¼çš„è¯é‚£å°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ²¡æœ‰å–åˆ°å€¼çš„è¯å°±æ˜¯ä¸€ä¸ªç©ºæ•°ç»„
        callback.push(fn)//å› ä¸ºä¸ç®¡æ€ä¹ˆè¯´ï¼Œcallbackéƒ½æ˜¯æ•°ç»„ï¼Œæ‰€ä»¥æˆ‘ä»¬åé¢çš„æ•°ç»„ä¹Ÿå¯ä»¥ç›´æ¥æ·»åŠ ä¸Šå»
        this.list[name] = callback
        console.log(this.list);
    }
    emit(name:string,..args:Array<any>){
        let evnetName = this.list[name]
        //onç›‘å¬è·Ÿemitæ´¾å‘çš„æ—¶å€™ name æ˜¯éœ€è¦ä¸€æ ·çš„ï¼Œä¸ç„¶ä¼šå‡ºé”™ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œè¦è¿›è¡Œä¸€ä¸ªåˆ¤æ–­
        if(evnetName){
            eventName.forEach(fn=>{
                //å†…å®¹ä»ä¸‹é¢çš„o.emit()ä¼ é€ä¸Šæ¥
                fn.apply(this.args)//ç¬¬ä¸€ä¸ªå‚æ•°thisæŒ‡å‘ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæ•°ç»„ï¼Œè¿™é‡Œä¹Ÿåˆšå¥½æ˜¯ä¸€ä¸ªæ•°ç»„å°±ç›´æ¥ä¼ è¿›å»ã€‚ä¼šå°†onç›‘å¬çš„æ•°æ®ç›´æ¥æ‰“å°å‡ºæ¥ï¼Œè¿™é‡Œæ‰“å°å‡ºæ¥66 99
            })
        }else{
            console.error(`åç§°é”™è¯¯${name}`)
        }
    }
    off(name:string,fn:Function){
        //offæ˜¯åˆ é™¤ä¸€ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ä¸‹é¢å°†åˆ›å»ºä¸€ä¸ªfnå‡½æ•°è®©ä»–æ¥åˆ ä¸€ä¸‹
        let eventName = this.list[name]
        //è·Ÿemitä¸€æ ·çš„ï¼Œéœ€è¦è¿›è¡Œåˆ¤æ–­æœ‰æ²¡æœ‰å€¼ï¼Œè¿˜æœ‰å°±æ˜¯å‡½æ•°å­˜ä¸å­˜åœ¨ï¼Œä¸å­˜åœ¨çš„è¯å°±æ²¡å¾—åˆ äº†å¯¹å§
        if(eventName && fn){
            //æˆ‘ä»¬è¦é€šè¿‡ç´¢å¼•æ¥å°†å…¶åˆ æ‰
            let index = eventName.findIndex(fns=> fns === fn )
            eventName.splice(index,1)
            console.log(eventName)
        }else{
            console.error(`åç§°é”™è¯¯${name}`)
        }
    }
    once(name:string,fn:Function){
        let de = (...args:Array<any>) =>{
            fn.apply(this,args)//æŒ‡å‘åˆ°é‚£ä¸ªåªè°ƒç”¨ä¸€æ¬¡å‡½æ•°çš„é‚£é‡Œ
            this.off(name,de)//è°ƒç”¨å®Œå°±æŠŠå®ƒåˆ æ‰ï¼Œè¿™å°±æ˜¯åªèƒ½è°ƒç”¨ä¸€æ¬¡çš„åŸå› å“ˆå“ˆ
        }
        this.on(name,de)//ç¬¬ä¸€ä¸ªè¿˜æ˜¯åå­—ï¼Œç¬¬äºŒä¸ªä¸´æ—¶å‡½æ•°
    }
}
 
const o = new Dispatch()//åˆå§‹åŒ–
 
o.on('post',()=>{//postä½œä¸ºkey
    console.log(66);
})//ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯äº‹ä»¶åç§°ï¼Œç¬¬äºŒä¸ªæ˜¯å›è°ƒå‡½æ•°
 
o.on('post',(...args:Array<any>)=>{
    console.log(99,args)
    //è¿™é‡Œæˆ‘ä»¬å¯¹ç¬¬äºŒä¸ªå›è°ƒå‡½æ•°ä¼ å…¥äº†...argsï¼Œä¹Ÿå°±æ˜¯æ”¶åˆ°äº†o.emité™¤äº†ç¬¬ä¸€ä¸ªå‚æ•°åé¢é‚£äº›ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿(å› ä¸ºæˆ‘ä»¬è®¾å®šäº†anyï¼Œå¯¹æ¥æ”¶çš„ç±»å‹å¹¶æ²¡æœ‰é™åˆ¶ï¼Œæ‰€ä»¥æ”¶åˆ°ä»€ä¹ˆä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿éƒ½ä¸å¥‡æ€ª)ï¼Œå¹¶åœ¨æ§åˆ¶å°æ‰“å°äº†å‡ºæ¥
})
 
const fn = (...args:Array<any>) => {
    console.log(args,2)
}
o.on('post',fn)//æ²¡é”™ï¼Œè¿™ä¸ªå°±æ˜¯ç‰¹åœ°åˆ›å»ºå‡ºæ¥åˆ æ‰çš„
o.off('post',fn)//å°†fnåˆ æ‰
//o.on('post2',()=>{
    //éƒ½ä¼šåœ¨æ§åˆ¶å°æ˜¾ç¤ºå‡ºæ¥
//})
o.once('post',(...args:Array<any>)=>{
    console.log(args,'once')
})
 
o.emit('post',1,false,{name:"å°æ»¡"})//é™¤äº†ç¬¬ä¸€ä¸ªå‚æ•°ä¸€æ ·æ˜¯äº‹ä»¶ï¼Œåé¢å‚æ•°æ˜¯ä¸é™åˆ¶ä¸ªæ•°çš„ï¼Œè€Œä¸”ä¼ ä»€ä¹ˆéƒ½è¡Œ
o.emit('post',2,false,{name:"å°æ»¡"})//è¿™é‡Œå¦‚æœæ”¶åˆ°å°±æ˜¯æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ä¸Šé¢ä½¿ç”¨onceäº†ï¼Œåªè°ƒç”¨ä¸€æ¬¡
```

> ä¸Šé¢åœ¨offåˆ é™¤ä¸­ä½¿ç”¨åˆ°çš„spliceçŸ¥è¯†ç‚¹è¡¥å……

```typescript
splice(index,len,[item])

å®ƒä¹Ÿå¯ä»¥ç”¨æ¥æ›¿æ¢ / åˆ é™¤ / æ·»åŠ æ•°ç»„å†…æŸä¸€ä¸ªæˆ–è€…å‡ ä¸ªå€¼ï¼ˆè¯¥æ–¹æ³•ä¼šæ”¹å˜åŸå§‹æ•°ç»„ï¼‰

index: æ•°ç»„å¼€å§‹ä¸‹æ ‡         
len: æ›¿æ¢ / åˆ é™¤çš„é•¿åº¦       
item: æ›¿æ¢çš„å€¼ï¼Œåˆ é™¤æ“ä½œçš„è¯ item ä¸ºç©º

åˆ é™¤ï¼š
// åˆ é™¤èµ·å§‹ä¸‹æ ‡ä¸º 1ï¼Œé•¿åº¦ä¸º 1 çš„ä¸€ä¸ªå€¼ (len è®¾ç½® 1ï¼Œå¦‚æœä¸º 0ï¼Œåˆ™æ•°ç»„ä¸å˜)
var arr = ['a','b','c','d'];
arr.splice(1,1);
console.log(arr);   //['a','c','d']; 
// åˆ é™¤èµ·å§‹ä¸‹æ ‡ä¸º 1ï¼Œé•¿åº¦ä¸º 2 çš„ä¸€ä¸ªå€¼ (len è®¾ç½® 2)
var arr2 = ['a','b','c','d'] arr2.splice(1,2);
console.log(arr2);  //['a','d']

æ›¿æ¢ï¼š
// æ›¿æ¢èµ·å§‹ä¸‹æ ‡ä¸º 1ï¼Œé•¿åº¦ä¸º 1 çš„ä¸€ä¸ªå€¼ä¸ºâ€˜tttâ€™ï¼Œlen è®¾ç½®çš„ 1
var arr = ['a','b','c','d'];
arr.splice(1,1,'ttt');
console.log(arr);         //['a','ttt','c','d'] 
// æ›¿æ¢èµ·å§‹ä¸‹æ ‡ä¸º 1ï¼Œé•¿åº¦ä¸º 2 çš„ä¸¤ä¸ªå€¼ä¸ºâ€˜tttâ€™ï¼Œlen è®¾ç½®çš„ 1
var arr2 = ['a','b','c','d'];
arr2.splice(1,2,'ttt');
console.log(arr2);        //['a','ttt','d'] 

æ·»åŠ ï¼š
// åœ¨ä¸‹æ ‡ä¸º 1 å¤„æ·»åŠ ä¸€é¡¹ 'ttt'
var arr = ['a','b','c','d'];
arr.splice(1,0,'ttt');
console.log(arr);         //['a','ttt','b','c','d'] 
```

# TS è¿›é˜¶ç”¨æ³• proxy & Reflect(TS -- 23)

> proxyï¼šå¯¹è±¡ä»£ç†(æ˜¯ES6æ–°å¢çš„å¯¹è±¡æ‹¦æˆªå™¨ï¼Œèƒ½å¤Ÿç›‘å¬åˆ°ä¸€ä¸ªå¯¹è±¡çš„å˜åŒ–)
>
> Reflectï¼šé…åˆproxyæ¥æ“ä½œå¯¹è±¡

## Proxy

> **Proxy** å¯¹è±¡ç”¨äºåˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„ä»£ç†ï¼Œä»è€Œå®ç°åŸºæœ¬æ“ä½œçš„æ‹¦æˆªå’Œè‡ªå®šä¹‰ï¼ˆå¦‚å±æ€§æŸ¥æ‰¾ã€èµ‹å€¼ã€æšä¸¾ã€å‡½æ•°è°ƒç”¨ç­‰ï¼‰
>
> **`target`**
>
> è¦ä½¿ç”¨ `Proxy` åŒ…è£…çš„ç›®æ ‡å¯¹è±¡ï¼ˆå¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬åŸç”Ÿæ•°ç»„ï¼Œå‡½æ•°ï¼Œç”šè‡³å¦ä¸€ä¸ªä»£ç†ï¼‰ã€‚
>
> **`handler`**
>
> ä¸€ä¸ªé€šå¸¸ä»¥å‡½æ•°ä½œä¸ºå±æ€§çš„å¯¹è±¡ï¼Œå„å±æ€§ä¸­çš„å‡½æ•°åˆ†åˆ«å®šä¹‰äº†åœ¨æ‰§è¡Œå„ç§æ“ä½œæ—¶ä»£ç† `p` çš„è¡Œä¸ºã€‚
>
> `handler.get()`æœ¬æ¬¡ä½¿ç”¨çš„ get
>
> å±æ€§è¯»å–æ“ä½œçš„æ•æ‰å™¨ã€‚
>
> `handler.set()`æœ¬æ¬¡ä½¿ç”¨çš„ set
>
> å±æ€§è®¾ç½®æ“ä½œçš„æ•æ‰å™¨ã€‚

## Reflect

> ä¸å¤§å¤šæ•°å…¨å±€å¯¹è±¡ä¸åŒ `Reflect` å¹¶éä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæ‰€ä»¥ä¸èƒ½é€šè¿‡ [new è¿ç®—ç¬¦](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new)å¯¹å…¶è¿›è¡Œè°ƒç”¨ï¼Œæˆ–è€…å°† `Reflect` å¯¹è±¡ä½œä¸ºä¸€ä¸ªå‡½æ•°æ¥è°ƒç”¨ã€‚`Reflect` çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯é™æ€çš„ï¼ˆå°±åƒ [Math](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math) å¯¹è±¡ï¼‰
>
> ### Reflect.get(target, name, receiver) 
>
> `Reflect.get` æ–¹æ³•æŸ¥æ‰¾å¹¶è¿”å› `target` å¯¹è±¡çš„ `name` å±æ€§ï¼Œå¦‚æœæ²¡æœ‰è¯¥å±æ€§è¿”å› undefined
>
> ### Reflect.set(target, name,value, receiver) 
>
> `Reflect.set` æ–¹æ³•è®¾ç½® `target` å¯¹è±¡çš„ `name` å±æ€§ç­‰äº `value`ã€‚



```typescript
type Person{
	name:string,
	age:number,
	text:string
}

const proxy = (object:any,key:any)=>{//æˆ‘ä»¬è¦è‡ªå·±å®ç°proxyå•¦
    return new Proxy(object,{
        get(target,prop,receiver){
            console.log('================>get',prop);
            //propå°±æ˜¯ä¸€ä¸ªkeyï¼Œtargetå°±æ˜¯åœ°ä¸‹é‚£ä¸ªmançš„å¯¹è±¡ï¼Œreceiveræ˜¯è·Ÿtargetä¸€æ ·çš„å€¼ï¼Œé˜²æ­¢ä¸Šä¸‹æ–‡é”™è¯¯çš„
            return Reflect.get(target,prop,receiver)//è¿™é‡Œåˆšå¥½å¯¹åº”çš„ä¹Ÿæ˜¯è¿™ä¸‰ä¸ªå‚æ•°
        }
        set(target,prop,value,receiver){//å¤šäº†ä¸€ä¸ªvalueï¼Œå› ä¸ºæˆ‘ä»¬è¦è®¾ç½®å€¼
        //æ—¥å¿—
        	console.log('================>set',prop);
        	return Reflect.get(target,prop,value,receiver)
    	}
    })
}

//æ—¥å¿—ç›‘å¬å‡½æ•°
//ç”±äºæˆ‘ä»¬è¦ç›‘å¬mané‡Œé¢çš„å†…å®¹ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥ä½¿ç”¨è”åˆç±»å‹
const logAccess = <T>(object: T ,key:"name" | "age" | "text"):T =>{//ä¸ºäº†ä½¿å…¶çµæ´»åº¦é«˜ä¸€ç‚¹ï¼Œæˆ‘ä»¬ä¸ä½¿å…¶objectç­‰äºPersonï¼Œè€Œæ˜¯ä¸ºæ³›å‹Tï¼Œä½¿ç”¨çš„æ—¶å€™å†å»è®¾ç½®
    return proxy(object,key)
}

let man:Person = ({
    name:"å°æ»¡"
    age:22
    text:"ä¸‰ç§’çœŸç”·äºº"
},'name')

let man2 = logAccess({
    name:"å°ä½™"
},'name')

man.age = 30//èµ°set
man.age//èµ°get
console.log(man)
```

> æ³›å‹ä¼˜åŒ–

```typescript
const logAccess = <T>(object: T ,key:keyof T):T =>{//ä¸ºäº†ä½¿å…¶çµæ´»åº¦é«˜ä¸€ç‚¹ï¼Œæˆ‘ä»¬ä¸ä½¿å…¶objectç­‰äºPersonï¼Œè€Œæ˜¯ä¸ºæ³›å‹Tï¼Œä½¿ç”¨çš„æ—¶å€™å†å»è®¾ç½®ã€‚keyä¹Ÿä¸å›ºå®šæ­»ï¼Œè€Œæ˜¯ä½¿ç”¨keyofï¼Œå°†æˆ‘ä»¬ä¼ å…¥çš„å¯¹è±¡æ¨æ–­ä¸ºè”åˆç±»å‹
    return proxy(object,key)
}

let man2 = logAccess({
    name:"å°ä½™"
    id:925
},'id')//å°±å¯ä»¥åŠ¨æ€çš„å»çº¦æŸç±»å‹

let man2 = logAccess({
    name:"å°ä½™"
    id:925
},'id2')//æŠ¥é”™ï¼Œå› ä¸ºæˆ‘ä»¬ç±»å‹é‡Œæ²¡æœ‰id2
```

> ä¼˜åŒ–å®Œæ•´ç‰ˆ

```typescript
type Person = {
    name: string,
    age: number,
    text: string
}
 
 
const proxy = (object: any, key: any) => {
    return new Proxy(object, {
        get(target, prop, receiver) {
            console.log(`get key======>${key}`);
            return Reflect.get(target, prop, receiver)
        },
 
        set(target, prop, value, receiver) {
            console.log(`set key======>${key}`);
 
            return Reflect.set(target, prop, value, receiver)
        }
    })
}
 
 
const logAccess = <T>(object: T, key: keyof T): T => {
    return proxy(object, key)
}
 
let man: Person = logAccess({
    name: "å°æ»¡",
    age: 20,
    text: "æˆ‘çš„å¾ˆå°"
}, 'age')
 
 
let man2 = logAccess({
    id:1,
    name:"å°æ»¡2"
}, 'name')
 
man.age = 30
 
console.log(man);
```

# TS è¿›é˜¶ç”¨æ³• Partial & Pick(TS -- 24)

> TypeScriptå†…ç½®é«˜çº§ç±»å‹Partial Pick

## Partial 

> æºç 

```typescript
/**
 * Make all properties in T optional
  å°†Tä¸­çš„æ‰€æœ‰å±æ€§è®¾ç½®ä¸ºå¯é€‰
 */
type Partial<T> = {
    [P in keyof T]?: T[P];
};
```

>  æ‰‹å†™å®ç°

```typescript
type Person{
	name:string,
	age:number,
	text:string
}

//keyofï¼šå°†ä¸€ä¸ªæ¥å£å¯¹è±¡çš„å…¨éƒ¨å±æ€§å–å‡ºæ¥å˜æˆè”åˆç±»å‹
//keyofçš„ä½œç”¨å°±æ˜¯æŠŠæˆ‘ä»¬çš„å±æ€§å˜æˆè”åˆç±»å‹ï¼Œåœ¨åº•ä¸‹å°±ç›¸å½“äº"name"|"age"|"text"ã€‚è€Œ in å°±æ˜¯ä¸ºéå†è¿™ä¸ªè”åˆç±»å‹çš„æ¯ä¸€é¡¹ï¼Œç„¶åæ”¾åˆ°è¿™ä¸ªPé‡Œ(æ‰€ä»¥Pé‡Œå°±æ˜¯nameã€ageã€text)ï¼Œç„¶åä½¿å…¶å˜æˆ`?`å¯é€‰çš„
type Par<T> = {//è¿™ä¸ªTå°±æ˜¯æˆ‘ä»¬ä¼ è¿‡æ¥çš„Personï¼Œæ‰€ä»¥T[P]å°±æ˜¯Personé‡Œé¢nameã€ageã€textçš„å†…å®¹(stringé‚£äº›å•¥çš„)
    //å°æ»¡å¯¹T[P]çš„å½¢å®¹æ–¹å¼ï¼šé€šè¿‡ç´¢å¼•å–å€¼çš„æ–¹å¼
    [P in keyof T]?:T[P]//æ‰€ä»¥ä½ åœ¨çœ‹è¿™ä¸ªè‚¯å®šèƒ½çœ‹æ‡‚
};

type p = Partial<Person>//è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬ä¼šå‘ç°pä¸Šé¢çš„å±æ€§ï¼Œnameã€ageã€textéƒ½å˜æˆå¯é€‰çš„äº†
```

> ä½¿ç”¨å‰(èŒƒä¾‹)

```typescript
type Person = {
    name:string,
    age:number
}
 
type p = Partial<Person>
```

> ä½¿ç”¨å(èŒƒä¾‹)

```typescript
type p = {
    name?: string | undefined;
    age?: number | undefined;
}
```

## **Pick** 

> ä»ç±»å‹å®šä¹‰ T çš„å±æ€§ä¸­ï¼Œé€‰å–æŒ‡å®šä¸€ç»„å±æ€§ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„ç±»å‹å®šä¹‰ã€‚

> æºç 

```typescript
/**
 * From T, pick a set of properties whose keys are in the union K
 */
type Pick<T, K extends keyof T> = {
    [P in K]: T[P];
};
```

> æ‰‹å†™å®ç°

```typescript
type Person = {
    name:string,
    age:number,
    text:string,
    address:string
}
 
type Ex = "text" | "age"

type A = Pick<Person,Ex>
```

> åˆ†æ(éœ€è¦ç»“åˆæ‰‹å†™çš„å†…å®¹çœ‹)

```typescript
type Pick<T, K extends keyof T> = {//Tè·ŸKéƒ½æ˜¯æ³›å‹,Tç›¸å½“äºæˆ‘ä»¬çš„Personï¼ŒKå°±ç›¸å½“äºæˆ‘ä»¬ä¼ çš„è”åˆç±»å‹ï¼Œç„¶ååŒæ ·ä¹Ÿç»å†äº†keyofçš„æ´—ç¤¼ï¼Œä½¿å…¶å˜æˆè”åˆç±»å‹ï¼ŒKé€šè¿‡extendsè¢«çº¦æŸäº†è¿™ç‚¹ï¼Œä½¿å…¶åªèƒ½ä¸ºTï¼Œä¹Ÿå°±æ˜¯Personå†…çš„å€¼
    [P in K]: T[P];
};

type p = Pick<Person,'age'|'name'>//è¿™é‡Œçš„Personè¯·å‚è€ƒæ‰‹å†™å®ç°çš„Person
```

# TS è¿›é˜¶ç”¨æ³• Record & Readonly(TS -- 25)

## Readonly

> å’Œ Partial å¾ˆåƒæ˜¯å§ï¼Ÿåªæ˜¯å°†Partialæ›¿æ¢æˆäº† Readonly

> æºç 

```typescript
type Readonly<T> = {
    readonly [P in keyof T]: T[P];
};
```

> æ‰‹å†™å®ç°

```typescript
type Readonly<T> = {
    readonly [P in keyof T]: T[P];//keyofè¿˜æ˜¯é‚£æ ·ï¼Œè½¬åŒ–ä¸ºè”åˆç±»å‹ï¼Œinå»éå†é€‰é¡¹ã€‚T[P]é€šè¿‡ç´¢å¼•å–å€¼çš„æ–¹å¼
    //ç„¶åä¸ºé‡Œé¢æ¯ä¸ªå†…å®¹éƒ½åŠ ä¸Šåªè¯»å±æ€§
};

type Person = {
    name:string,
    age:number,
    text:string
}

type man = R<Person>
```

## Record

> 1 keyof any è¿”å› string number symbol çš„è”åˆç±»å‹
>
> 2 in æˆ‘ä»¬å¯ä»¥ç†è§£æˆ for in P å°±æ˜¯ key éå† keyof any å°±æ˜¯ string number symbol ç±»å‹çš„æ¯ä¸€é¡¹
>
> 3 extends æ¥çº¦æŸæˆ‘ä»¬çš„ç±»å‹
>
> 4 T ç›´æ¥è¿”å›ç±»å‹
>
> åšåˆ°äº†çº¦æŸ å¯¹è±¡çš„ key åŒæ—¶çº¦æŸäº† value

> æºç 

```typescript
type Record<K extends keyof any, T> = {
    [P in K]: T;
};
```

> æ‰‹å†™å®ç°

```typescript
type Rec<K extends keyof any,T> = {//Tæ˜¯æ³›å‹ï¼Œä¼ ä»€ä¹ˆåœ¨è¿™é‡Œå¹¶æ²¡æœ‰é™åˆ¶
    [P in K]: T;
};

//keyofè¿”å›è”åˆç±»å‹
type key = string |number | symbol

type Person ={
    name:string,
    age:number.
    text:string
}

type K = "A"|"B"|"C"//å› ä¸ºæˆ‘ä»¬åœ¨è¿™é‡Œå®šä¹‰äº†Kï¼Œæ‰€ä»¥let Bæ‰åªèƒ½ä½¿ç”¨Aã€Bã€Cï¼Œå¦‚æœè¿™é‡Œæ¢æˆ1ã€2ã€3ï¼Œé‚£åº•ä¸‹ä¹Ÿåªèƒ½ä½¿ç”¨1ã€2ã€3è€Œä¸æ˜¯Aã€Bã€C

type B = Rec<K,Person>//è¿™é‡Œä¼šè¿”å›æˆtype B = {A:Person;B:Person;C:Person;}çš„å½¢å¼

let obj:B = {
    A:{name:"å°æ»¡",age:3,text:"ä¸‰ç§’çœŸç”·äºº"}//è¿™é‡Œå€¼çš„ç±»å‹éœ€è¦æ˜¯Personçš„ç±»å‹ï¼Œå› ä¸ºåœ¨type Bä¸­å·²ç»å®šä¹‰äº†
    B:{name:"å°ä½™",age:18,text:"ä¸‰å°æ—¶çœŸç”·äºº"}
    C:{name:"ç‹—æ´›",age:1,text:"é›¶ç‚¹ä¸‰ç§’çœŸç”·äºº"}
}
```

# TS è¿›é˜¶ç”¨æ³• infer(TS -- 26)

> infer æ˜¯ TypeScriptæ–°å¢åˆ°çš„å…³é”®å­— å……å½“å ä½ç¬¦
>
> æˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªæ¡ä»¶ç±»å‹æ¨æ–­çš„ä¾‹å­
>
> å®šä¹‰ä¸€ä¸ªç±»å‹ å¦‚æœæ˜¯æ•°ç»„ç±»å‹ å°±è¿”å› æ•°ç»„å…ƒç´ çš„ç±»å‹ å¦åˆ™ å°±ä¼ å…¥ä»€ä¹ˆç±»å‹ å°±è¿”å›ä»€ä¹ˆç±»å‹

```typescript
type TYPE<T> = T entends Array<any> ? T[number] : T

type A = TYPE<string[]>//ä¼šè¿”å›type A = string
type B = TYPE<(string|number)[]>//ä¼šè¿”å›type B = string|number
type C = TYPE<boolean>//è¿”å›type C = boolean
```

## infer

> ä½¿ç”¨ inter ä¿®æ”¹

```typescript
type TYPE<T> = T entends Array<infer U> ? U : T//Uä¸æ˜¯æ³›å‹ï¼Œè€Œæ˜¯å……å½“å ä½ç¬¦ä½¿ç”¨ï¼Œè¯»å–Arrayç±»å‹ç„¶åè¿›è¡Œè¿”å›
type TYPE<T> = T entends Array<infer U> ? U : never//é™åˆ¶åªèƒ½ä¼ type Tè¿™ä¸ªå…ƒç»„ç±»å‹ï¼Œå…¶ä»–éƒ½ä¸èƒ½ä¼ 

type A = TYPE<string[]>//ä¼šè¿”å›type A = string
type B = TYPE<(string|number)[]>//ä¼šè¿”å›type B = string|number

type T = [string,number]
//ä½¿å…¶å˜æˆè”åˆç±»å‹(å°æŠ€å·§)
type uni = TYPE<T>//è¿”å›è”åˆç±»å‹type uni = string|number
type uni = TYPE<T>//è¿”å›type uni = neverã€‚å› ä¸ºæˆ‘ä»¬è¿›è¡Œäº†é™åˆ¶
```

# infer ç±»å‹æå–(TS -- 27)

### æå–å¤´éƒ¨å…ƒç´ 

> `T extends any[]`ï¼šå¯¹Tè¿›è¡Œæ³›å‹çº¦æŸï¼Œä¸€ä¸ªanyç±»å‹çš„æ•°ç»„
>
> `type First<T extends any[]> = T extends [infer one,infer two,infer three]`? one:[]ï¼šå¯¹Tè¿›è¡Œæ³›å‹çº¦æŸä¸ºæ•°ç»„ç±»å‹ï¼Œç”¨inferæå–ï¼Œæå–çš„å˜é‡åå¯¹åº”ç€Arrçš„aã€bã€cã€‚ç„¶åå†³å®šè¿”å›oneï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ è¿˜æ˜¯ç©ºæ•°ç»„

```typescript
type Arr = ['a','b','c']
 
type First<T extends any[]> = T extends [infer one,infer two,infer three]? one:[]
//ES6è¿›é˜¶ç‰ˆ
type First<T extends any[]> =  T extends [infer First,...any[]] ? First : []//1 ... 
 
type a = First<Arr>
```

### æå–å°¾éƒ¨å…ƒç´ 

> å°†å¤´å°¾åè¿‡æ¥äº†

```typescript
type Arr = ['a', 'b', 'c']
 
type Last<T extends any[]> = T extends [...any[], infer Last] ? Last : []//... å°¾éƒ¨
 
type c = Last<Arr>
```

### å‰”é™¤ç¬¬ä¸€ä¸ªå…ƒç´  Shift

> å°†é™¤äº†ç¬¬ä¸€ä¸ªä¹‹å¤–çš„å…¶ä»–é€šè¿‡ES6è¯­æ³•æå–å‡ºæ¥

```typescript
type Arr = ['a','b','c']
 
type First<T extends any[]> =  T extends [unknown,...infer Rest] ? Rest : []
 
type a = First<Arr>
```

### å‰”é™¤å°¾éƒ¨å…ƒç´  pop

> å°†é™¤äº†ç¬¬æœ€åä¸€ä¸ªä¹‹å¤–çš„å…¶ä»–é€šè¿‡ES6è¯­æ³•æå–å‡ºæ¥

```typescript
type Arr = ['a','b','c']
 
type First<T extends any[]> =  T extends [...infer Rest,unknown] ? Rest : []
 
type a = First<Arr>
```

# infer é€’å½’(TS -- 28)

> éœ€æ±‚ï¼š
>
> æœ‰è¿™ä¹ˆä¸€ä¸ªç±»å‹
>
> ```typescript
> type Arr = [1, 2, 3, 4]
> ```
>
> å¸Œæœ›é€šè¿‡ä¸€ä¸ª ts å·¥å…·å˜æˆ
>
> ```TypeScript
> type Arr = [4,3,2,1]
> ```

> å…·ä½“æ€è·¯ é¦–å…ˆä½¿ç”¨æ³›å‹çº¦æŸ çº¦æŸåªèƒ½ä¼ å…¥æ•°ç»„ç±»å‹çš„ä¸œè¥¿ ç„¶åä»æ•°ç»„ä¸­æå–ç¬¬ä¸€ä¸ªï¼Œæ”¾å…¥æ–°æ•°ç»„çš„æœ«å°¾ï¼Œåå¤æ­¤æ“ä½œï¼Œå½¢æˆé€’å½’ æ»¡è¶³ç»“æŸæ¡ä»¶è¿”å›è¯¥ç±»å‹

```typescript
type Arr = [1,2,3,4]
//å…ˆæ¥ä¸€ä¸ªæ³›å‹çº¦æŸ(å¯¹T)ï¼Œè¿™æ˜¯é€šè¿‡ä¸æ–­é€’å½’æ‹¿åˆ°æœ€åä¸€ä¸ªå…ƒç´ (ä¹Ÿå°±æ˜¯é—®å¥½åé¢çš„é‚£ä¸ªFirst)å¡«åˆ°æœ€å‰é¢ï¼Œç›´åˆ°æ²¡æœ‰å…ƒç´ ä¸ºæ­¢(ä¸‰å…ƒè¡¨è¾¾å¼)
//
type ReverArr<T extends any[]> = T extends [infer First,...infer rest] ? [...ReverArr<rest>,First] : T

type Arrb = ReverArr<Arr>
```

