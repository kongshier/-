

> âœ¨ä½œè€…ï¼šçŒ«åäºŒæ‡¿
>
> â¤ï¸â€ğŸ”¥è´¦å·ï¼š[CSDN](https://blog.csdn.net/qq_56098191) ã€[æ˜é‡‘](https://juejin.cn/user/3320978695270526) ã€[ä¸ªäººåšå®¢](https://kongshier.github.io/) ã€[Github](https://github.com/kongshier) 
>
> ğŸ‰å…¬ä¼—å·ï¼šçŒ«åäºŒæ‡¿



butterfly è‡ªå¸¦çš„404 å¯¹ä½ æ¥è¯´å¯èƒ½ä¸èƒ½æ»¡è¶³ä½ çš„å®¡ç¾è§‚ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥è‡ªå·±è‡ªå®šä¹‰ä¸€ä¸ªè‡ªå·±çš„404 é¡µé¢ï¼

# 1. åˆ›å»º404 é¡µé¢

ç›´æ¥åœ¨source ç›®å½•ä¸‹ç›´æ¥ æ–°å»ºä¸€ä¸ª `404.html` ï¼Œæ–°å»ºä¸€ä¸ª404 æ–‡ä»¶å¤¹é‡Œé¢å­˜æ”¾`404.html` çš„cssã€jsæ–‡ä»¶ï¼Œä»¥ä¸‹æ˜¯æˆ‘çš„ç›®å½•ç»“æ„

![image-20220821174446112](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220821174446112.png)

# 2 ç¼–è¾‘ 404.html é¡µé¢

ä»£ç å¯ä»¥è‡ªå·±å†™ï¼Œæœ¬äººä¸æ‰ï¼Œè®©æˆ‘å‡­ç©ºå†™ä¸€ä¸ªç¾è§‚çš„ç½‘é¡µå‡ ä¹ä¸å¯èƒ½ï¼Œé‚£åªèƒ½é æ‹¿æ¥äº†ï¼æ‰€ä»¥æ¨èä¸€ä¸ªç½‘ç«™ [404é¡µé¢](https://404.life/) é‡Œé¢å¯èƒ½æœ‰ä½ å–œæ¬¢çš„é¡µé¢ï¼Œæ€»èƒ½æ‰¾åˆ°å±äºä½ çš„èœã€‚ä»¥ä¸‹æ˜¯æˆ‘çš„é¡µé¢

æ³¨æ„ csså’Œ js çš„è·¯å¾„ï¼Œè¦ç¡®ä¿æ­£ç¡®

~~~html
<!doctype html>
<html>
<head><script src="/404/404.js"></script>  
<meta charset="utf-8">
<title>404-å¾ˆé«˜å…´é‡åˆ°ä½ </title>
<link rel="shortcut icon" href="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/404.png">

<style>
html,body {
	margin:0;
	padding:0;
}
canvas {
	display:block;
}
</style>
</head>
<body>

<div></div>

<script>
var canvas = document.createElement('canvas');
      var height = canvas.height = window.innerHeight;
      var width = canvas.width = window.innerWidth;
      var ctx = canvas.getContext('2d');
      document.body.appendChild(canvas);

      function random(min,max)
      {
          return Math.random()*(max-min+1)+min;
      }

      function range_map(value,in_min, in_max, out_min, out_max) {
        return (value - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;
      }

      var word_arr = [];
      var txt_min_size = 5;
      var txt_max_size = 25;
      var keypress = false;
      var acclerate = 2;
      for (var i = 0; i < 25; i++) {
        word_arr.push({
          x : random(0,width),
          y : random(0,height),
          text : '404',
          size : random(txt_min_size,txt_max_size)
        });

        word_arr.push({
          x : random(0,width),
          y : random(0,height),
          text : 'page',
          size : random(txt_min_size,txt_max_size)
        });


        word_arr.push({
          x : random(0,width),
          y : random(0,height),
          text : 'not found',
          size : random(txt_min_size,txt_max_size)
        });

        word_arr.push({
          x : random(0,width),
          y : random(0,height),
          text : '404',
          size : Math.floor(random(txt_min_size,txt_max_size))
        });
      }

      function render()
      {
        ctx.fillStyle = "rgba(0,0,0,1)";
        ctx.fillRect(0,0,width,height);

        ctx.fillStyle = "#fff";
        for (var i = 0; i < word_arr.length; i++) {
          ctx.font = word_arr[i].size+"px sans-serif";
          var w = ctx.measureText(word_arr[i].text);
          ctx.fillText(word_arr[i].text,word_arr[i].x,word_arr[i].y);

          if(keypress)
          {
            word_arr[i].x += range_map(word_arr[i].size,txt_min_size,txt_max_size,2,4) * acclerate;
          }
          else {
            word_arr[i].x += range_map(word_arr[i].size,txt_min_size,txt_max_size,2,3);
          }

          if(word_arr[i].x >= width)
          {
            word_arr[i].x = -w.width*2;
            word_arr[i].y = random(0,height);
            word_arr[i].size =  Math.floor(random(txt_min_size,txt_max_size));

          }
        }

        ctx.fill();

        requestAnimationFrame(render);
      }

      render();

      window.addEventListener('keydown',function(){
        keypress = true;
      },true);
      window.addEventListener('keyup',function(){
        keypress = false;
      },true);</script>

</body>
</html>

~~~

## æ•ˆæœ

![image-20220821174728251](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220821174728251.png)

# 3 åœ¨é…ç½®æ–‡ä»¶é‡Œé¢ å…³æ‰é»˜è®¤çš„404 é¡µé¢é…ç½®

~~~yml
# A simple 404 page
error_404:
  enable: false
  subtitle: 'é¡µé¢è¿˜åœ¨ç¼–è¾‘ï¼Œè¯·ä¸‹æ¬¡å†æ¥è®¿é—®ï¼'
  background: https://i.loli.net/2020/05/19/aKOcLiyPl2JQdFD.png
~~~

è®¾ç½®ä¸º false

# 4 è®¾ç½®404è·³è½¬é¡µé¢ 

é…ç½®æ–‡ä»¶  `_config.yml`  

~~~yml
skip_render: 404.html
~~~



ğŸ”¥æˆ‘çš„åªæ˜¯å…¶ä¸­ä¸€ç§æ–¹æ³•ï¼Œå¯èƒ½è¿˜æœ‰å…¶ä»–çš„æ–¹æ³•å®ç°ï¼Œæ¬¢è¿æ‚¨æ¥åˆ†äº«ä½ çš„æ–¹æ³•ï¼ï¼ğŸ”¥

























