> âœ¨ä½œè€…ï¼šçŒ«åäºŒæ‡¿
>
> â¤ï¸â€ğŸ”¥è´¦å·ï¼š[CSDN](https://blog.csdn.net/qq_56098191) ã€[æ˜é‡‘](https://juejin.cn/user/3320978695270526) ã€[ä¸ªäººåšå®¢](https://kongshier.github.io/) ã€[Github](https://github.com/kongshier) 
>
> ğŸ‰å…¬ä¼—å·ï¼šçŒ«åäºŒæ‡¿

# æ ‘ç»“æ„åŸºç¡€éƒ¨åˆ†

## æ ‘

1. æ•°ç»„å­˜å‚¨æ–¹å¼

   - ä¼˜ç‚¹ï¼šé€šè¿‡ä¸‹æ ‡æ–¹å¼è®¿é—®å…ƒç´ ï¼Œé€Ÿåº¦å¿«ã€‚å¯¹äºæœ‰åºæ•°ç»„ï¼Œå¯ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æé«˜æ£€ç´¢é€Ÿåº¦ã€‚ 

   - ç¼ºç‚¹ï¼šå¦‚æœè¦æ£€ç´¢å…·ä½“æŸä¸ªå€¼ï¼Œæˆ–è€…æ’å…¥å€¼(æŒ‰ä¸€å®šé¡ºåº)ä¼šæ•´ä½“ç§»åŠ¨ï¼Œæ•ˆç‡è¾ƒä½

     ![image-20220910090154661](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220910090154661.png) 

2. é“¾å¼å­˜å‚¨æ–¹å¼

   - ä¼˜ç‚¹ï¼šåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯¹æ•°ç»„å­˜å‚¨æ–¹å¼æœ‰ä¼˜åŒ–(æ¯”å¦‚ï¼šæ’å…¥ä¸€ä¸ªæ•°å€¼èŠ‚ç‚¹ï¼Œåªéœ€è¦å°†æ’ å…¥èŠ‚ç‚¹ï¼Œé“¾æ¥åˆ°é“¾è¡¨ä¸­å³å¯ï¼Œ åˆ é™¤æ•ˆç‡ä¹Ÿå¾ˆå¥½)ã€‚ 

   - ç¼ºç‚¹ï¼šåœ¨è¿›è¡Œæ£€ç´¢æ—¶ï¼Œæ•ˆç‡ä»ç„¶è¾ƒä½ï¼Œæ¯”å¦‚(æ£€ç´¢æŸä¸ªå€¼ï¼Œ==éœ€è¦ä»å¤´èŠ‚ç‚¹å¼€å§‹éå†==) 

     æ’å…¥ 6 ï¼š

     ![image-20220910090723548](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220910090723548.png)

3. æ ‘å­˜å‚¨æ–¹å¼

   - èƒ½æé«˜æ•°æ®å­˜å‚¨ï¼Œè¯»å–çš„æ•ˆç‡, æ¯”å¦‚åˆ©ç”¨ äºŒå‰æ’åºæ ‘(Binary Sort Tree)ï¼Œæ—¢å¯ä»¥ä¿è¯æ•°æ®çš„æ£€ç´¢é€Ÿåº¦ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ä¿è¯æ•°æ®çš„æ’å…¥ï¼Œåˆ é™¤ï¼Œä¿®æ”¹çš„é€Ÿåº¦ã€‚

   - å°äºæ ¹èŠ‚ç‚¹çš„æ”¾ç½®å·¦è¾¹ï¼Œå¤§äºçš„æ”¾åœ¨å³è¾¹

     ![image-20220910091902475](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220910091902475.png)

## æ ‘ç¤ºæ„å›¾

### æ ‘çš„å¸¸ç”¨æœ¯è¯­

1. èŠ‚ç‚¹
2. æ ¹èŠ‚ç‚¹
3. çˆ¶èŠ‚ç‚¹
4. å­èŠ‚ç‚¹
5. å¶å­èŠ‚ç‚¹ï¼ˆæ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ï¼‰
6. èŠ‚ç‚¹çš„æƒï¼ˆèŠ‚ç‚¹å€¼ï¼‰
7. å±‚
8. è·¯å¾„ï¼ˆä»rootèŠ‚ç‚¹æ‰¾åˆ°è¯¥èŠ‚ç‚¹çš„è·¯çº¿ï¼‰
9. å­æ ‘
10. æ ‘çš„é«˜åº¦ï¼ˆæœ€å¤§çš„å±‚æ•°ï¼‰
11. æ£®æ—ï¼šå¤šæ£µå­æ ‘æ„æˆæ£®æ—

![image-20220910092156545](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220910092156545.png)



## äºŒå‰æ ‘æ¦‚å¿µ

- äºŒå‰æ ‘ï¼šæ¯ä¸ªèŠ‚ç‚¹æœ€å¤šåªèƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹çš„ä¸€ç§å½¢å¼

- äºŒå‰æ ‘çš„å­èŠ‚ç‚¹åˆ†ä¸ºå·¦èŠ‚ç‚¹å’Œå³èŠ‚ç‚¹

  ![image-20220910092540471](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220910092540471.png)

- æ»¡äºŒå‰æ ‘ï¼šè¯¥äºŒå‰æ ‘çš„æ‰€æœ‰å¶å­èŠ‚ç‚¹éƒ½åœ¨æœ€åä¸€å±‚ï¼Œå¹¶ä¸”èŠ‚ç‚¹æ€»æ•°= 2^n^ -1 , n ä¸ºå±‚ æ•°

  ![image-20220910092744037](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220910092744037.png)

- å®Œå…¨äºŒå‰æ ‘ï¼šè¯¥äºŒå‰æ ‘çš„æ‰€æœ‰å¶å­èŠ‚ç‚¹éƒ½åœ¨æœ€åä¸€å±‚æˆ–è€…å€’æ•°ç¬¬äºŒå±‚ï¼Œè€Œä¸”æœ€åä¸€å±‚ çš„å¶å­èŠ‚ç‚¹åœ¨å·¦è¾¹è¿ç»­ï¼Œå€’æ•°ç¬¬äºŒå±‚çš„å¶å­èŠ‚ç‚¹åœ¨å³è¾¹è¿ç»­

  ![image-20220910092946580](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220910092946580.png)

## äºŒå‰æ ‘éå†



å‰åºéå†ï¼š==å…ˆè¾“å‡ºçˆ¶èŠ‚ç‚¹==ï¼Œå†éå†å·¦å­æ ‘å’Œå³å­æ ‘

ä¸­åºéå†ï¼šå…ˆéå†å·¦å­æ ‘ï¼Œ==å†è¾“å‡ºçˆ¶èŠ‚ç‚¹==ï¼Œå†éå†å³å­æ ‘

ååºéå†ï¼šå…ˆéå†å·¦å­æ ‘ï¼Œå†éå†å³å­æ ‘ï¼Œ==æœ€åè¾“çˆ¶èŠ‚ç‚¹==

çˆ¶èŠ‚ç‚¹è¾“å‡ºä½ç½®åˆ¤æ–­æ˜¯å±äºå“ªä¸€ä¸ªåºéå†



### äºŒå‰æ ‘éå†æ­¥éª¤ï¼ˆå‰ã€ä¸­ã€ååºï¼‰

![image-20220910101429183](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220910101429183.png)



1. åˆ›å»ºä¸€ä¸ªäºŒå‰æ ‘
2. å‰åºéå†
   1. å…ˆè¾“å‡ºå½“å‰èŠ‚ç‚¹ï¼ˆåˆå§‹ä¸ºæ ¹èŠ‚ç‚¹å¼€å§‹éå†ï¼‰
   2. åˆ¤æ–­==å·¦å­èŠ‚ç‚¹==æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºï¼Œåˆ™é€’å½’ç»§ç»­å‰åºéå†
   3. åˆ¤æ–­==å³å­èŠ‚ç‚¹==æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºï¼Œåˆ™é€’å½’ç»§ç»­å‰åºéå†
3. ä¸­åºéå†
   1. è‹¥å½“å‰èŠ‚ç‚¹çš„==å·¦å­èŠ‚ç‚¹==ä¸ä¸ºç©ºï¼Œåˆ™é€’å½’ä¸­åºéå†
   2. è¾“å‡ºå½“å‰èŠ‚ç‚¹
   3. è‹¥å½“å‰èŠ‚ç‚¹çš„==å³å­èŠ‚ç‚¹==ä¸ä¸ºç©ºï¼Œåˆ™é€’å½’ä¸­åºéå†
4. åç»­éå†
   1. è‹¥å½“å‰èŠ‚ç‚¹çš„==å·¦å­èŠ‚ç‚¹==ä¸ä¸ºç©ºï¼Œåˆ™é€’å½’ååºéå†
   2. è‹¥å½“å‰èŠ‚ç‚¹çš„==å³å­èŠ‚ç‚¹==ä¸ä¸ºç©ºï¼Œåˆ™é€’å½’ååºéå†
   3. è¾“å‡ºå½“å‰çš„èŠ‚ç‚¹

### æ·»åŠ èŠ‚ç‚¹

![image-20220910093606628](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220910093606628.png)

1. åœ¨3å·èŠ‚ç‚¹ "å¢ä¿Š" , å¢åŠ ä¸€ä¸ªå·¦å­èŠ‚ç‚¹ [5, å…³èƒœ]
2. æŸ¥çœ‹éå†ç»“æœ
   - å‰åºï¼š1 ã€2ã€3ã€5ã€4
   - ä¸­åºï¼š2ã€1ã€5ã€3ã€4
   - åç»­ï¼š2ã€5ã€4ã€3ã€1

### äºŒå‰æ ‘çš„æŸ¥æ‰¾

è¦æ±‚ï¼ˆæŸ¥æ‰¾æŒ‡å®šçš„èŠ‚ç‚¹ï¼‰

1. è¯·ç¼–å†™å‰åºæŸ¥æ‰¾ï¼Œä¸­åºæŸ¥æ‰¾å’ŒååºæŸ¥æ‰¾çš„æ–¹æ³•
2. å¹¶åˆ†åˆ«ä½¿ç”¨ä¸‰ç§æŸ¥æ‰¾æ–¹å¼ï¼ŒæŸ¥æ‰¾ heroNO = 5 çš„èŠ‚ç‚¹
3. å¹¶åˆ†æå„ç§æŸ¥æ‰¾æ–¹å¼ï¼Œåˆ†åˆ«æ¯”è¾ƒäº†å¤šå°‘æ¬¡
   - å‰åºï¼š
   - ä¸­åºï¼š
   - ååºï¼š

åˆ†æï¼š

1. å‰åºæŸ¥æ‰¾
   1. å…ˆåˆ¤æ–­å½“å‰èŠ‚ç‚¹çš„ no æ˜¯å¦ç­‰äºè¦æŸ¥æ‰¾çš„
   2. è‹¥æ˜¯ç›¸ç­‰ï¼Œåˆ™è¿”å›å½“å‰èŠ‚ç‚¹
   3. è‹¥æ˜¯ä¸ç›¸ç­‰çš„ï¼Œåˆ™åˆ¤æ–­å½“å‰èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™é€’å½’å‰åºæŸ¥æ‰¾
   4. è‹¥å·¦é€’å½’å‰åºæŸ¥æ‰¾ï¼Œæ‰¾åˆ°èŠ‚ç‚¹ï¼Œåˆ™è¿”å›ï¼Œå¦åˆ™ç»§ç»­åˆ¤æ–­ï¼Œå½“å‰èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºï¼Œåˆ™ç»§ç»­å‘å³é€’å½’æŸ¥æ‰¾ã€‚
2. ä¸­åºæŸ¥æ‰¾
   1. åˆ¤æ–­å½“å‰èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™é€’å½’ä¸­åºæŸ¥æ‰¾
   2. è‹¥æ˜¯æ‰¾åˆ°ï¼Œåˆ™è¿”å›ï¼Œè‹¥æ˜¯æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä¸å½“å‰èŠ‚ç‚¹æ¯”è¾ƒï¼Œè‹¥æ˜¯å½“å‰èŠ‚ç‚¹åˆ™è¿”å›å½“å‰èŠ‚ç‚¹ï¼Œå¦åˆ™è¿›è¡Œè¿›è¡Œå³é€’å½’çš„ä¸­åºæŸ¥æ‰¾
   3. è‹¥æ˜¯æœ‰é€’å½’ä¸­åºæŸ¥æ‰¾ï¼ŒæŸ¥æ‰¾åˆ°åˆ™è¿”å›ï¼Œå¦åˆ™è¿”å›null
3. ååºæŸ¥æ‰¾
   1. åˆ¤æ–­å½“å‰èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™é€’å½’ååºæŸ¥æ‰¾
   2. è‹¥æ˜¯æ‰¾åˆ°ï¼Œåˆ™è¿”å›ï¼Œè‹¥æ˜¯æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™åˆ¤æ–­å½“å‰èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹æ˜¯å¦ä¸ºå­”ï¼Œè‹¥ä¸ä¸ºç©ºï¼Œåˆ™å³é€’å½’è¿›è¡ŒååºæŸ¥æ‰¾ï¼Œå¦‚æœæŸ¥æ‰¾åˆ°ï¼Œå°±è¿”å›
   3. ä¸å½“å‰èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœæ˜¯åˆ™è¿”å›ï¼Œå¦åˆ™è¿”å›null

### äºŒå‰æ ‘-åˆ é™¤èŠ‚ç‚¹

è¦æ±‚

1. å¦‚æœåˆ é™¤çš„èŠ‚ç‚¹æ˜¯å¶å­èŠ‚ç‚¹ï¼Œåˆ™åˆ é™¤è¯¥èŠ‚ç‚¹
2. å¦‚æœåˆ é™¤çš„èŠ‚ç‚¹æ˜¯éå¶å­èŠ‚ç‚¹ï¼Œåˆ™åˆ é™¤è¯¥å­æ ‘.
3. æµ‹è¯•ï¼Œåˆ é™¤æ‰ 5å·å¶å­èŠ‚ç‚¹ å’Œ 3å·å­æ ‘.

![image-20220910153129208](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220910153129208.png)

æ€è·¯æ­¥éª¤ï¼š

1. è‹¥æ ‘ä¸ºç©ºï¼ˆroot ä¸ºç©º ï¼‰ï¼Œè‹¥åªæœ‰ä¸€ä¸ªrootç»“ç‚¹ï¼Œåˆ™ç­‰ä»·äºäºŒå‰æ ‘ç½®ç©º
2. å› ä¸ºå½“å‰çš„äºŒå‰æ ‘æ˜¯å•å‘çš„ï¼Œåˆ¤æ–­å½“å‰èŠ‚ç‚¹çš„å­ç»“ç‚¹æ˜¯å¦éœ€è¦åˆ é™¤èŠ‚ç‚¹ï¼Œè€Œä¸èƒ½å»åˆ¤æ–­å½“å‰ç»“ç‚¹æ˜¯å¦éœ€è¦åˆ é™¤ç»“ç‚¹
3. å¦‚æœå½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘ä¸ä¸ºç©ºï¼Œå¹¶ä¸”å·¦å­ç»“ç‚¹å°±æ˜¯è¦åˆ é™¤ç»“ç‚¹ï¼Œå°±å°† this.left =null ï¼Œå¹¶ä¸”è¿”å›ï¼ˆé€’å½’åˆ é™¤ï¼‰
4. å¦‚æœå½“å‰èŠ‚ç‚¹çš„å³å­æ ‘ä¸ä¸ºç©ºï¼Œå¹¶ä¸”å³å­ç»“ç‚¹å°±æ˜¯è¦åˆ é™¤ç»“ç‚¹ï¼Œå°±å°† this.right =null ï¼Œå¹¶ä¸”è¿”å›ï¼ˆé€’å½’åˆ é™¤ï¼‰
5. ç¬¬2å’Œç¬¬3éƒ½æ²¡æœ‰åˆ é™¤ç»“ç‚¹ï¼Œåˆ™è¿›è¡Œå‘å·¦å­æ ‘é€’å½’åˆ é™¤
6. ç¬¬4æ­¥å·¦å­æ ‘æ²¡æœ‰åˆ é™¤æˆåŠŸï¼Œåˆ™è¿›è¡Œå³å­æ ‘é€’å½’åˆ é™¤





äºŒå‰æ ‘çš„éå†ã€æŸ¥æ‰¾ã€åˆ é™¤å®Œæ•´ä»£ç 

```java
package com.tree;

/**
 * @author Kcs 2022/9/10
 */
public class BinaryTreeDemo {
    public static void main(String[] args) {
        //åˆ›å»ºäºŒå‰æ ‘
        BinaryTree binaryTree = new BinaryTree();

        //åˆ›å»ºèŠ‚ç‚¹
        HeroNode root = new HeroNode(1, "å®‹æ±Ÿ");
        HeroNode node2 = new HeroNode(2, "å´ç”¨");
        HeroNode node3 = new HeroNode(3, "å¢ä¿Šä¹‰");
        HeroNode node4 = new HeroNode(4, "æ—å†²");
        HeroNode node5 = new HeroNode(5, "å…³èƒœ");

        //æ‰‹åŠ¨åˆ›å»ºäºŒå‰æ ‘
        root.setLeft(node2);
        root.setRight(node3);
        node3.setRight(node4);
        node3.setLeft(node5);

        binaryTree.setRoot(root);


        //å‰åºéå†
        System.out.println("å‰åºéå†ï¼š");
        binaryTree.preOrder();

        //ä¸­åºéå†
        System.out.println("ä¸­åºéå†ï¼š");
        binaryTree.infixOrder();

        //åç»­éå†
        System.out.println("ååºéå†ï¼š");
        binaryTree.postOrder();

        //å‰åºéå†æŸ¥æ‰¾ æŸ¥æ‰¾äº†4 æ¬¡
        System.out.println("å‰åºéå†æŸ¥æ‰¾~~~");
        HeroNode resNode = binaryTree.preOrderSearch(5);
        if (resNode != null) {
            System.out.printf("æ‰¾åˆ°äº†ï¼ï¼ŒHeroNode{no = %d  name = %s}", resNode.getNo(), resNode.getName());
        } else {
            System.out.printf("è¯¥ç¼–å· no = %d çš„äººç‰©ä¸å­˜åœ¨ï¼", 5);
        }

        System.out.println();
        //ä¸­åºéå†æŸ¥æ‰¾ æŸ¥æ‰¾äº† 3 æ¬¡
        System.out.println("ä¸­åºéå†æŸ¥æ‰¾~~~");
        resNode = binaryTree.infixOrderSearch(5);
        if (resNode != null) {
            System.out.printf("æ‰¾åˆ°äº†ï¼ï¼ŒHeroNode{no = %d  name = %s}", resNode.getNo(), resNode.getName());
        } else {
            System.out.printf("è¯¥ç¼–å· no = %d çš„äººç‰©ä¸å­˜åœ¨ï¼", 5);
        }

        System.out.println();
        //ååºéå†æŸ¥æ‰¾ æŸ¥æ‰¾äº† 5 æ¬¡
        System.out.println("ååºéå†æŸ¥æ‰¾~~~");
        resNode = binaryTree.postOrderSearch(5);
        if (resNode != null) {
            System.out.printf("æ‰¾åˆ°äº†ï¼ï¼ŒHeroNode{no = %d  name = %s}", resNode.getNo(), resNode.getName());
        } else {
            System.out.printf("è¯¥ç¼–å· no = %d çš„äººç‰©ä¸å­˜åœ¨ï¼", 5);
        }


        //åˆ é™¤ç»“ç‚¹
        System.out.println("åˆ é™¤å‰ï¼Œå‰åºéå†");
        binaryTree.preOrder();
        // binaryTree.delNode(5);
        //åˆ é™¤å­æ ‘
        binaryTree.delNode(3);
        System.out.println("åˆ é™¤åï¼Œå‰åºéå†");
        binaryTree.preOrder();

    }
}

/**
 * äºŒå‰æ ‘
 */
class BinaryTree {
    private HeroNode root;

    public void setRoot(HeroNode root) {
        this.root = root;
    }


    /**
     * å‰åºéå†æ–¹æ³• ï¼š ä»æ ¹èŠ‚ç‚¹å‡ºå‘éå†
     */
    public void preOrder() {
        //æ ¹èŠ‚ç‚¹ä¸ä¸ºç©º
        if (this.root != null) {
            this.root.preOrder();
        } else {
            //ä¸ºç©º
            System.out.println("äºŒå‰æ ‘ä¸ºç©ºï¼Œæ— æ³•éå†ï¼");
        }
    }

    /**
     * ä¸­åºéå†
     */
    public void infixOrder() {
        //æ ¹èŠ‚ç‚¹ä¸ä¸ºç©º
        if (this.root != null) {
            this.root.infixOrder();
        } else {
            //ä¸ºç©º
            System.out.println("äºŒå‰æ ‘ä¸ºç©ºï¼Œæ— æ³•éå†ï¼");
        }
    }

    /**
     * ååºéå†
     */
    public void postOrder() {
        //æ ¹èŠ‚ç‚¹ä¸ä¸ºç©º
        if (this.root != null) {
            this.root.postOrder();
        } else {
            //ä¸ºç©º
            System.out.println("äºŒå‰æ ‘ä¸ºç©ºï¼Œæ— æ³•éå†ï¼");
        }
    }

    /**
     * å‰åºéå†æŸ¥æ‰¾
     */
    public HeroNode preOrderSearch(int no) {
        if (root != null) {
            return root.preOrderSearch(no);
        } else {
            return null;
        }
    }

    /**
     * åºéå†æŸ¥æ‰¾
     */
    public HeroNode infixOrderSearch(int no) {
        if (root != null) {
            return root.infixOrderSearch(no);
        } else {
            return null;
        }
    }

    /**
     * ååºéå†æŸ¥æ‰¾
     */
    public HeroNode postOrderSearch(int no) {
        if (root != null) {
            return root.postOrderSearch(no);
        } else {
            return null;
        }
    }

    /**
     * åˆ é™¤äºŒå‰æ ‘ç»“ç‚¹
     */
    public void delNode(int no) {
        if (root != null) {

            //rootæ˜¯å¦ä¸ºåˆ é™¤çš„ç»“ç‚¹
            if (root.getNo() == no) {
                root = null;
            } else {
                // é€’å½’åˆ é™¤
                root.deleteNode(no);
            }
        } else {
            System.out.println("è¯¥æ ‘ä¸ºç©ºï¼Œæ— æ³•åˆ é™¤ï¼");
        }
    }
}

/**
 * åˆ›å»º herNodeèŠ‚ç‚¹
 */
class HeroNode {
    /**
     * åºå·
     */
    private int no;
    /**
     * å§“å
     */
    private String name;
    /**
     * å·¦èŠ‚ç‚¹ï¼Œé»˜è®¤null
     */
    private HeroNode left;
    /**
     * å³èŠ‚ç‚¹ï¼Œé»˜è®¤null
     */
    private HeroNode right;

    public HeroNode(int no, String name) {
        this.no = no;
        this.name = name;
    }

    public int getNo() {
        return no;
    }

    public void setNo(int no) {
        this.no = no;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public HeroNode getLeft() {
        return left;
    }

    public void setLeft(HeroNode left) {
        this.left = left;
    }

    public HeroNode getRight() {
        return right;
    }

    public void setRight(HeroNode right) {
        this.right = right;
    }

    @Override
    public String toString() {
        return "HeroNode{" +
                "no=" + no +
                ", name='" + name + '\'' +
                '}';
    }

    /**
     * å‰åºéå†ï¼Œè¾“å‡ºï¼šä¸­=>å·¦=>å³
     */
    public void preOrder() {
        System.out.println("å½“å‰çˆ¶èŠ‚ç‚¹:" + this);

        //é€’å½’å‘å·¦å­æ ‘å‰åºéå†
        if (this.left != null) {
            this.left.preOrder();
        }
        //é€’å½’å‘å³å­æ ‘å‰åºéå†
        if (this.right != null) {
            this.right.preOrder();
        }
    }

    /**
     * ä¸­åºéå† è¾“å‡ºï¼šå·¦=>ä¸­=>å³
     */
    public void infixOrder() {
        //å…ˆé€’å½’å‘å·¦å­æ ‘ä¸­åºéå†
        if (this.left != null) {
            this.left.infixOrder();
        }
        //å†ä¸­åºè¾“å‡ºçˆ¶èŠ‚ç‚¹
        System.out.println("å½“å‰çˆ¶èŠ‚ç‚¹" + this);

        //åé€’å½’å‘å³å­æ ‘ä¸­åºéå†
        if (this.right != null) {
            this.right.infixOrder();
        }
    }

    /**
     * ååºéå† è¾“å‡ºï¼šå·¦=>å³=>ä¸­
     */
    public void postOrder() {
        //å…ˆé€’å½’å‘å·¦å­æ ‘ååºéå†
        if (this.left != null) {
            this.left.postOrder();
        }
        //å†é€’å½’å‘å³å­æ ‘ååºéå†
        if (this.right != null) {
            this.right.postOrder();
        }
        //æœ€åè¾“å‡ºååºçˆ¶èŠ‚ç‚¹
        System.out.println("å½“å‰çˆ¶èŠ‚ç‚¹" + this);
    }

    /**
     * å‰åºéå†æŸ¥æ‰¾ è¾“å‡ºï¼šä¸­=>å·¦=>å³
     * @param no æŸ¥æ‰¾no
     * @return è¿”å›Nodeï¼Œä¸ºç©ºè¿”å›null
     */
    public HeroNode preOrderSearch(int no) {
        System.out.println("è¿›å…¥å‰åºæŸ¥æ‰¾");
        //é¦–å…ˆåˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¦ä¸ºno
        if (this.no == no) {
            return this;
        }
        //ç»“æœèŠ‚ç‚¹
        HeroNode resNode = null;
        //åˆ¤æ–­å½“å‰èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™é€’å½’å‰åºæŸ¥æ‰¾
        if (this.left != null) {
            resNode = this.left.preOrderSearch(no);
        }
        //å·¦å­æ ‘æŸ¥æ‰¾åˆ°èŠ‚ç‚¹ï¼Œåˆ™è¿”å›
        if (resNode != null) {
            //æŸ¥åˆ°ç»“æœ
            return resNode;
        }
        //å³å­æ ‘é€’å½’ååºæŸ¥æ‰¾ï¼Œåˆ¤æ–­å½“å‰èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºï¼Œåˆ™ç»§ç»­å‘å³é€’å½’æŸ¥æ‰¾ã€‚
        if (this.right != null) {
            resNode = this.right.preOrderSearch(no);
        }
        return resNode;
    }


    /**
     * ä¸­åºéå†æŸ¥æ‰¾ è¾“å‡ºï¼šå·¦=>ä¸­=>å³
     * @param no æŸ¥æ‰¾no
     * @return è¿”å›Nodeï¼Œä¸ºç©ºè¿”å›null
     */
    public HeroNode infixOrderSearch(int no) {

        //ç»“æœèŠ‚ç‚¹
        HeroNode resNode = null;
        //åˆ¤æ–­å½“å‰èŠ‚ç‚¹çš„ å·¦å­èŠ‚ç‚¹ æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™é€’å½’ä¸­åºæŸ¥æ‰¾
        if (this.left != null) {
            resNode = this.left.infixOrderSearch(no);
        }
        //å·¦å­æ ‘æŸ¥æ‰¾åˆ°èŠ‚ç‚¹ï¼Œåˆ™è¿”å›
        if (resNode != null) {
            //æŸ¥åˆ°ç»“æœ
            return resNode;
        }

        System.out.println("è¿›å…¥ä¸­åºæŸ¥æ‰¾");
        //å·¦å­æ ‘æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™åˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¦ä¸ºno
        if (this.no == no) {
            return this;
        }

        //å³å­æ ‘é€’å½’ååºæŸ¥æ‰¾ï¼Œåˆ¤æ–­å½“å‰èŠ‚ç‚¹çš„ å³å­èŠ‚ç‚¹ æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºï¼Œåˆ™ç»§ç»­å‘å³é€’å½’æŸ¥æ‰¾ã€‚
        if (this.right != null) {
            resNode = this.right.infixOrderSearch(no);
        }
        return resNode;
    }


    /**
     * ååºéå†æŸ¥æ‰¾ è¾“å‡ºï¼šå·¦=>å³=>ä¸­
     * @param no æŸ¥æ‰¾no
     * @return è¿”å›Nodeï¼Œä¸ºç©ºè¿”å›null
     */
    public HeroNode postOrderSearch(int no) {
        //ç»“æœèŠ‚ç‚¹
        HeroNode resNode = null;
        //åˆ¤æ–­å½“å‰èŠ‚ç‚¹çš„ å·¦å­èŠ‚ç‚¹ æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™é€’å½’ ååºæŸ¥æ‰¾
        if (this.left != null) {
            resNode = this.left.postOrderSearch(no);
        }
        //å·¦å­æ ‘ååºæŸ¥æ‰¾åˆ°èŠ‚ç‚¹ï¼Œåˆ™è¿”å›
        if (resNode != null) {
            //æŸ¥åˆ°ç»“æœ
            return resNode;
        }

        //å³å­æ ‘é€’å½’ååºæŸ¥æ‰¾ï¼Œåˆ¤æ–­å½“å‰èŠ‚ç‚¹çš„ å³å­èŠ‚ç‚¹ æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºï¼Œåˆ™ç»§ç»­å‘å³é€’å½’æŸ¥æ‰¾ã€‚
        if (this.right != null) {
            resNode = this.right.postOrderSearch(no);
        }
        System.out.println("è¿›å…¥ååºæŸ¥æ‰¾");
        //å·¦å³å­æ ‘éƒ½æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¦ä¸ºno
        if (this.no == no) {
            return this;
        }
        return resNode;
    }

    /**
     * é€’å½’åˆ é™¤ç»“ç‚¹
     * 1. å¦‚æœåˆ é™¤çš„èŠ‚ç‚¹æ˜¯å¶å­èŠ‚ç‚¹ï¼Œåˆ™åˆ é™¤è¯¥èŠ‚ç‚¹
     * 2. å¦‚æœåˆ é™¤çš„èŠ‚ç‚¹æ˜¯éå¶å­èŠ‚ç‚¹ï¼Œåˆ™åˆ é™¤è¯¥å­æ ‘
     */
    public void deleteNode(int no) {
        //åˆ é™¤å·¦å­ç»“ç‚¹
        if (this.left != null && this.left.no == no) {
            this.left = null;
            return;
        }
        //åˆ é™¤å³å­ç»“ç‚¹
        if (this.right != null && this.right.no == no) {
            this.right = null;
            return;
        }
        //å·¦å­æ ‘é€’å½’åˆ é™¤
        if (this.left != null) {
            this.left.deleteNode(no);
        }
        //å·¦å­æ ‘é€’å½’åˆ é™¤
        if (this.right != null) {
            this.right.deleteNode(no);
        }
    }
}
```

## é¡ºåºå­˜å‚¨äºŒå‰æ ‘

ä»æ•°æ®å­˜å‚¨æ¥çœ‹ï¼Œæ•°ç»„å­˜å‚¨æ–¹å¼å’Œæ ‘ çš„å­˜å‚¨æ–¹å¼å¯ä»¥ç›¸äº’è½¬æ¢ï¼Œå³æ•°ç»„å¯ ä»¥è½¬æ¢æˆæ ‘ï¼Œæ ‘ä¹Ÿå¯ä»¥è½¬æ¢æˆæ•°ç»„

1. å³å›¾çš„äºŒå‰æ ‘çš„ç»“ç‚¹ï¼Œè¦æ±‚ä»¥æ•°ç»„çš„æ–¹å¼æ¥å­˜æ”¾ arr : [1, 2, 3, 4, 5, 6, 6]

2. è¦æ±‚åœ¨éå†æ•°ç»„ arr[ ] æ—¶ï¼Œä»ç„¶å¯ä»¥ä»¥å‰åºéå†ï¼Œä¸­åºéå†å’Œååºéå†çš„ æ–¹å¼å®Œæˆç»“ç‚¹çš„éå†

   ![image-20220910171315607](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220910171315607.png)

   

### ç‰¹ç‚¹

1. é¡ºåºäºŒå‰æ ‘é€šå¸¸åªè€ƒè™‘å®Œå…¨äºŒå‰æ ‘
2. ç¬¬nä¸ªå…ƒç´ çš„å·¦å­èŠ‚ç‚¹ä¸º 2 * n + 1 
3. ç¬¬nä¸ªå…ƒç´ çš„å³å­èŠ‚ç‚¹ä¸º 2 * n + 2
4. ç¬¬nä¸ªå…ƒç´ çš„çˆ¶èŠ‚ç‚¹ä¸º (n-1) / 2
5. n : è¡¨ç¤ºäºŒå‰æ ‘ä¸­çš„ç¬¬å‡ ä¸ªå…ƒç´ 



### è¦æ±‚

ç»™ä½ ä¸€ä¸ªæ•°ç»„ {1,2,3,4,5,6,7}ï¼Œè¦æ±‚ä»¥äºŒå‰æ ‘å‰åºéå†çš„æ–¹å¼è¿›è¡Œéå†ã€‚ å‰åºéå†çš„ç»“æœåº”å½“ä¸º 1,2,4,5,3,6,7

- å‰ã€ä¸­ã€ååºéå†çš„è¾“å‡ºé¡ºåºä¸ä¸€æ ·

```java
package com.tree;

/**
 * @author Kcs 2022/9/10
 */
public class ArrayBinaryTreeDemo {
    public static void main(String[] args) {
        int[] arr = {1, 2, 3, 4, 5, 6, 7};
        ArrayBinaryTree arrayBinaryTree = new ArrayBinaryTree(arr);
        //å‰åº
        System.out.println("å‰åºéå†ï¼š");
        arrayBinaryTree.preOrder();
        System.out.println();
        //ä¸­åº
        System.out.println("ä¸­åºéå†ï¼š");
        arrayBinaryTree.infixOrder();
        System.out.println();
        //å‰åº
        System.out.println("ååºéå†ï¼š");
        arrayBinaryTree.postOrder();
        System.out.println();
    }
}

//ç¼–å†™ä¸€ä¸ªArrayBinaryTreeå­˜å‚¨äºŒå‰æ ‘éå†
class ArrayBinaryTree {
    /**
     * å­˜å‚¨æ•°æ®ç»“ç‚¹çš„æ•°ç»„
     */
    private int[] arr;

    public ArrayBinaryTree(int[] arr) {
        this.arr = arr;
    }

    public void preOrder() {
        this.preOrder(0);
    }

    public void infixOrder() {
        this.infixOrder(0);
    }

    public void postOrder() {
        this.postOrder(0);
    }

    /**
     * å®Œæˆé¡ºåºå­˜å‚¨äºŒå‰æ ‘çš„  å‰åºéå†
     * @param index è¿”å›ä¸‹æ ‡
     */
    public void preOrder(int index) {
        //è‹¥æ•°ç»„ä¸ºç©º
        if (arr == null || arr.length == 0) {
            System.out.println("æ•°ç»„ä¸ºç©ºï¼Œæ— æ³•è¿›è¡ŒäºŒå‰æ ‘çš„å‰åºéå†");
        }
        //è¾“å‡ºå½“å‰çš„è¿™ä¸ªå…ƒç´ 
        System.out.print(arr[index] + " ");

        //å‘å·¦é€’å½’éå†
        if ((index * 2 + 1) < arr.length) {
            preOrder(2 * index + 1);
        }

        //å‘å³é€’å½’
        if ((index * 2 + 2) < arr.length) {
            preOrder(2 * index + 2);
        }
    }

    /**
     * é¡ºåºå­˜å‚¨äºŒå‰æ ‘ ä¸­åºéå†
     * @param index ç´¢å¼•
     */
    public void infixOrder(int index) {
        //æ•°ç»„ä¸ºç©ºæˆ–è€…æ•°ç»„é•¿åº¦ä¸º0
        if (arr == null || arr.length == 0) {
            System.out.println("æ•°ç»„ä¸ºç©ºï¼Œæ— æ³•è¿›è¡ŒäºŒå‰æ ‘çš„ä¸­åºéå†");
        }
        //å‘å·¦éå†
        if ((index * 2 + 1) < arr.length) {
            infixOrder(index * 2 + 1);
        }
        //è¾“å‡ºå½“å‰å…ƒç´ 
        System.out.print(arr[index] + " ");
        //å‘å³éå†
        if ((index * 2 + 2) < arr.length) {
            infixOrder(index * 2 + 2);
        }
    }

    /**
     * é¡ºåºå­˜å‚¨äºŒå‰æ ‘ ååºéå†
     * @param index ç´¢å¼•
     */
    public void postOrder(int index) {
        //æ•°ç»„ä¸ºç©ºæˆ–è€…æ•°ç»„é•¿åº¦ä¸º0
        if (arr == null || arr.length == 0) {
            System.out.println("æ•°ç»„ä¸ºç©ºï¼Œæ— æ³•è¿›è¡ŒäºŒå‰æ ‘çš„ååºéå†");
        }
        //å‘å·¦éå†
        if ((index * 2 + 1) < arr.length) {
            postOrder(index * 2 + 1);
        }
        //å‘å³éå†
        if ((index * 2 + 2) < arr.length) {
            postOrder(index * 2 + 2);
        }
        //è¾“å‡ºå½“å‰å…ƒç´ 
        System.out.print(arr[index] + " ");
    }
}
```



## çº¿ç´¢åŒ–äºŒå‰æ ‘

å°†æ•°åˆ— {1, 3, 6, 8, 10, 14 } æ„å»ºæˆä¸€é¢—äºŒå‰æ ‘. n+1=7

![image-20220911100038449](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220911100038449.png)

- ä¸Šé¢çš„äºŒå‰æ ‘è¿›è¡Œä¸­åºéå†æ—¶ï¼Œæ•°åˆ—ä¸º {8, 3, 10, 1, 14ï¼Œ6 }
-  6, 8, 10, 14 è¿™å‡ ä¸ªèŠ‚ç‚¹çš„ å·¦å³æŒ‡é’ˆï¼Œå¹¶æ²¡æœ‰å®Œå…¨çš„åˆ©ç”¨ä¸Š



### çº¿ç´¢äºŒå‰æ ‘çš„ä»‹ç»

- nä¸ªç»“ç‚¹çš„äºŒå‰é“¾è¡¨ä¸­å«æœ‰n+1 ã€å…¬å¼ 2n-(n-1)=n+1ã€‘ ä¸ªç©ºæŒ‡é’ˆåŸŸã€‚åˆ©ç”¨äºŒå‰é“¾è¡¨ä¸­çš„ç©ºæŒ‡é’ˆåŸŸï¼Œå­˜æ”¾æŒ‡å‘è¯¥ç»“ç‚¹åœ¨æŸç§éå†æ¬¡åºä¸‹çš„å‰é©±å’Œåç»§ç»“ç‚¹çš„æŒ‡é’ˆï¼ˆé™„åŠ çš„æŒ‡é’ˆåˆ™ä¸ºçº¿ç´¢ï¼‰
- çº¿ç´¢äºŒå‰æ ‘ (Threaded BinaryTree)ï¼šåŠ ä¸Šäº†çº¿ç´¢çš„äºŒå‰é“¾è¡¨ç§°ä¸ºçº¿ç´¢é“¾è¡¨ã€‚
  - æ ¹æ®çº¿ç´¢æ€§è´¨çš„ä¸åŒï¼Œçº¿ç´¢äºŒå‰æ ‘å¯åˆ†ä¸º
  - å‰åºçº¿ç´¢äºŒå‰æ ‘
  - ä¸­åºçº¿ç´¢äºŒå‰æ ‘
  - ååºçº¿ç´¢äºŒå‰æ ‘
- ä¸€ä¸ªç»“ç‚¹çš„å‰ä¸€ä¸ªç»“ç‚¹ï¼Œç§°ä¸ºå‰é©±ç»“ç‚¹
  - ç¬¬ä¸€ä¸ªå…ƒç´ æ²¡æœ‰å‰é©±ç»“ç‚¹
- ä¸€ä¸ªç»“ç‚¹çš„åä¸€ä¸ªç»“ç‚¹ï¼Œç§°ä¸ºåç»§ç»“ç‚¹
  - æœ€åä¸€ä¸ªå…ƒç´ æ²¡æœ‰åç»§ç»“ç‚¹



![image-20220911100038449](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220911100038449.png)



ä¸­åºéå†ç»“æœï¼š{8, 3, 10, 1, 14, 6}

![image-20220911100858670](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220911100858670.png)

å½“çº¿ç´¢åŒ–äºŒå‰æ ‘åï¼ŒNodeèŠ‚ç‚¹çš„ å±æ€§ left å’Œ right

1. left æŒ‡å‘çš„æ˜¯å·¦å­æ ‘ï¼Œä¹Ÿå¯èƒ½æ˜¯æŒ‡å‘çš„å‰é©±èŠ‚ç‚¹. æ¯”å¦‚ â‘  èŠ‚ç‚¹ left æŒ‡å‘çš„å·¦å­æ ‘, è€Œ â‘© èŠ‚ç‚¹çš„ left  æŒ‡å‘çš„å°±æ˜¯å‰é©±èŠ‚ç‚¹
2. rightæŒ‡å‘çš„æ˜¯å³å­æ ‘ï¼Œä¹Ÿå¯èƒ½æ˜¯æŒ‡å‘åç»§èŠ‚ç‚¹ï¼Œæ¯”å¦‚ â‘  èŠ‚ç‚¹right æŒ‡å‘çš„æ˜¯å³å­æ ‘ï¼Œè€Œâ‘© èŠ‚ç‚¹çš„ right æŒ‡å‘çš„æ˜¯åç»§èŠ‚ç‚¹



### éå†çº¿ç´¢åŒ–äºŒå‰æ ‘

åˆ†æ

â€‹	å› ä¸ºçº¿ç´¢åŒ–åï¼Œå„ä¸ªç»“ç‚¹æŒ‡å‘æœ‰å˜åŒ–ï¼Œå› æ­¤åŸæ¥çš„éå†æ–¹å¼ä¸èƒ½ä½¿ç”¨ï¼Œ è¿™æ—¶éœ€è¦ä½¿ç”¨æ–°çš„æ–¹å¼éå†çº¿ç´¢åŒ–äºŒå‰æ ‘ï¼Œå„ä¸ªèŠ‚ç‚¹å¯ä»¥é€šè¿‡çº¿å‹æ–¹å¼éå†ï¼Œ å› æ­¤æ— éœ€ä½¿ç”¨é€’å½’æ–¹å¼ï¼Œè¿™æ ·ä¹Ÿæé«˜äº†éå†çš„æ•ˆç‡ã€‚ éå†çš„æ¬¡åºåº”å½“å’Œä¸­åºéå†ä¿æŒä¸€è‡´

```java
package com.tree.threadbinarytree;

/**
 * @author Kcs 2022/9/11
 */
public class ThreadBinaryTreeDemo {
    public static void main(String[] args) {
        HeroNode root = new HeroNode(1, "tom");
        HeroNode node2 = new HeroNode(3, "jack");
        HeroNode node3 = new HeroNode(6, "smith");
        HeroNode node4 = new HeroNode(8, "mary");
        HeroNode node5 = new HeroNode(10, "kong");
        HeroNode node6 = new HeroNode(14, "åäºŒ");

        //æ‰‹åŠ¨åˆ›å»ºäºŒå‰æ ‘
        root.setLeft(node2);
        root.setRight(node3);

        node2.setLeft(node4);
        node2.setRight(node5);

        node3.setLeft(node6);

        ThreadBinaryTree threadBinaryTree = new ThreadBinaryTree();
        threadBinaryTree.setRoot(root);
        threadBinaryTree.infixThreadedNodes();
        
        System.out.println("====================ä¸­åºçº¿ç´¢åŒ–======================");
        //ä¸­åºçº¿ç´¢åŒ–æµ‹è¯•
        //å‰é©±ç»“ç‚¹
        System.out.println("ä¸­åºçº¿ç´¢åŒ–~~~");
        HeroNode infixLeftNode = node5.getLeft();
        System.out.println("10å·çš„å‰é©±ç»“ç‚¹ä¸ºï¼š" + infixLeftNode);
        //åç»§ç»“ç‚¹
        HeroNode infixRightNode = node5.getRight();
        System.out.println("10å·çš„åç»§ç»“ç‚¹ä¸ºï¼š" + infixRightNode);
        //çº¿ç´¢åŒ–äºŒå‰æ ‘éå†
        System.out.println("ä¸­åºçº¿ç´¢åŒ–äºŒå‰æ ‘éå†~~~~");
        threadBinaryTree.infixThreadedList();
    }
}

/**
 * çº¿ç´¢åŒ–äºŒå‰æ ‘
 */
class ThreadBinaryTree {
    private HeroNode root;

    /**
     * çº¿ç´¢åŒ–ï¼Œå½“å‰ç»“ç‚¹çš„æŒ‡é’ˆ, ä¿ç•™å‰ä¸€ä¸ªç»“ç‚¹
     */
    private HeroNode pre = null;

    public void setRoot(HeroNode root) {
        this.root = root;
    }

    /**
     * é‡è½½ä¸­åºçº¿ç´¢åŒ–æ–¹æ³•
     */
    public void infixThreadedNodes() {
        this.infixThreadedNodes(root);
    }

    /**
     * ä¸­åºçº¿ç´¢åŒ–äºŒå‰æ ‘
     * @param node å½“å‰çº¿ç´¢åŒ–ç»“ç‚¹
     */
    public void infixThreadedNodes(HeroNode node) {
        //ç©ºç»“ç‚¹ï¼Œåˆ™ä¸èƒ½çº¿ç´¢åŒ–
        if (node == null) {
            return;
        }
        //1.å·¦å­æ ‘çº¿ç´¢åŒ–
        infixThreadedNodes(node.getLeft());

        //2.çº¿ç´¢åŒ–å½“å‰ç»“ç‚¹
        //å½“å‰ç»“ç‚¹çš„å‰é©±ç»“ç‚¹
        if (node.getLeft() == null) {
            //å·¦æŒ‡é’ˆ æŒ‡å‘å‰é©±ç»“ç‚¹
            node.setLeft(pre);
            //å·¦æŒ‡é’ˆç±»å‹é‡ç½®
            node.setLeftType(1);
        }
        //å½“å‰ç»“ç‚¹çš„åç»§ç»“ç‚¹
        if (pre != null && pre.getRight() == null) {
            //å‰é©±ç»“ç‚¹çš„å³æŒ‡é’ˆæŒ‡å‘å½“å‰æ¥ç»“ç‚¹
            pre.setRight(node);
            //é‡ç½®å³æŒ‡é’ˆç±»å‹
            pre.setRightType(1);
        }
        //ä¸‹ä¸€ä¸ªç»“ç‚¹çš„å‰é©±ç»“ç‚¹
        pre = node;

        //3.çº¿ç´¢åŒ–å³å­æ ‘
        infixThreadedNodes(node.getRight());

    }
    

    /**
     * ä¸­åºéå†çº¿ç´¢åŒ–äºŒå‰æ ‘
     */
    public void infixThreadedList() {
        //å½“å‰éå†ç»“ç‚¹ï¼Œrootå¼€å§‹
        HeroNode node = root;
        while (node != null) {
            //leftType ==1 åˆ™çº¿ç´¢åŒ–å¤„ç†åçš„æœ‰æ•ˆèŠ‚ç‚¹
            while (node.getLeftType() == 0) {
                node = node.getLeft();
            }
            //æ‰“å°å½“å‰ç»“ç‚¹ä¿¡æ¯
            System.out.println(node);

            //å½“å‰ç»“ç‚¹çš„å³æŒ‡é’ˆæŒ‡å‘åç»§ç»“ç‚¹åˆ™è¾“å‡º
            while (node.getRightType() == 1) {
                //è·å–å½“å‰ç»“ç‚¹çš„åç»§ç»“ç‚¹
                node = node.getRight();
                System.out.println(node);
            }
            //æ›¿æ¢å½“å‰çš„éå†ç»“ç‚¹
            node = node.getRight();
        }
    }

}


/**
 * åˆ›å»º HeroNodeèŠ‚ç‚¹ å®ä½“ç±»
 */
class HeroNode {
    /**
     * åºå·
     */
    private int no;
    /**
     * å§“å
     */
    private String name;
    /**
     * å·¦èŠ‚ç‚¹ï¼Œé»˜è®¤null
     */
    private HeroNode left;
    /**
     * å³èŠ‚ç‚¹ï¼Œé»˜è®¤null
     */
    private HeroNode right;

    /**
     * ä¸º0ï¼šæŒ‡å‘å·¦å­æ ‘ï¼›ä¸º1æŒ‡å‘å‰é©±ç»“ç‚¹
     */
    private int leftType;

    /**
     * ä¸º0ï¼šæŒ‡å‘å³å­æ ‘ï¼›ä¸º1æŒ‡å‘åç»§ç»“ç‚¹
     */
    private int rightType;

    /**
     * æ„é€ å™¨
     * @param no ç¼–å·
     * @param name å§“å
     */

    public HeroNode(int no, String name) {
        this.no = no;
        this.name = name;
    }

    public int getNo() {
        return no;
    }

    public void setNo(int no) {
        this.no = no;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public HeroNode getLeft() {
        return left;
    }

    public void setLeft(HeroNode left) {
        this.left = left;
    }

    public HeroNode getRight() {
        return right;
    }

    public void setRight(HeroNode right) {
        this.right = right;
    }

    public int getLeftType() {
        return leftType;
    }

    public void setLeftType(int leftType) {
        this.leftType = leftType;
    }

    public int getRightType() {
        return rightType;
    }

    public void setRightType(int rightType) {
        this.rightType = rightType;
    }

    @Override
    public String toString() {
        return "HeroNode{" +
                "no=" + no +
                ", name='" + name + '\'' +
                '}';
    }
}
```



# æ ‘ç»“æ„å®é™…åº”ç”¨

## å †æ’åº

### åŸºç¡€ä»‹ç»

1. å †æ’åºæ˜¯åˆ©ç”¨å †è¿™ç§æ•°æ®ç»“æ„è€Œè®¾è®¡çš„ä¸€ç§æ’åºç®—æ³•ï¼Œå †æ’åºæ˜¯ä¸€ç§é€‰æ‹©æ’åºï¼Œå®ƒçš„ æœ€åï¼Œæœ€å¥½ï¼Œå¹³å‡æ—¶é—´å¤æ‚åº¦å‡ä¸ºO(nlogn)ï¼Œå®ƒä¹Ÿæ˜¯ä¸ç¨³å®šæ’åº

2. å †æ˜¯å…·æœ‰ä»¥ä¸‹æ€§è´¨çš„å®Œå…¨äºŒå‰æ ‘ï¼šæ¯ä¸ªç»“ç‚¹çš„å€¼éƒ½å¤§äºæˆ–ç­‰äºå…¶å·¦å³å­©å­ç»“ç‚¹çš„å€¼ï¼Œ ç§°ä¸ºå¤§é¡¶å †

   - æ³¨æ„ : æ²¡æœ‰è¦æ±‚ç»“ç‚¹çš„å·¦å­©å­çš„å€¼å’Œå³å­©å­çš„å€¼çš„å¤§å°å…³ç³»

3. æ¯ä¸ªç»“ç‚¹çš„å€¼éƒ½å°äºæˆ–ç­‰äºå…¶å·¦å³å­©å­ç»“ç‚¹çš„å€¼ï¼Œç§°ä¸ºå°é¡¶å †

   ![image-20220911154058077](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220911154058077.png)

   - å°é¡¶å †ï¼šarr[i] <= arr[2 * i+1] && arr[i] <= arr[2 * i+2] // i å¯¹åº”ç¬¬å‡ ä¸ªèŠ‚ç‚¹ï¼Œiä»0å¼€å§‹ç¼–å·

4. æ¯ä¸ªç»“ç‚¹çš„å€¼éƒ½å¤§äºæˆ–ç­‰äºå…¶å·¦å³å­©å­ç»“ç‚¹çš„å€¼ï¼Œç§°ä¸ºå¤§é¡¶å †

   ![image-20220911153603198](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220911153603198.png)

   - å¤§é¡¶å †ç‰¹ç‚¹ï¼šarr[i] >= arr[2 * i+1] && arr[i] >=  arr[2 * i + 2]

   - i å¯¹åº”ç¬¬å‡ ä¸ªèŠ‚ç‚¹ï¼Œiä»0å¼€å§‹ç¼–å·

5. ==å‡åºé‡‡ç”¨å¤§é¡¶å †ï¼Œé™åºé‡‡ç”¨å°é¡¶å †==



### åŸºæœ¬æ€æƒ³

1. å°†å¾…æ’åºåºåˆ—æ„é€ æˆä¸€ä¸ªå¤§é¡¶å †
2. åºåˆ—çš„æœ€å¤§å€¼å°±æ˜¯å †é¡¶çš„æ ¹èŠ‚ç‚¹
3. å°†å…¶ä¸æœ«å°¾å…ƒç´ è¿›è¡Œäº¤æ¢ï¼Œæ­¤æ—¶æœ«å°¾å°±ä¸ºæœ€å¤§å€¼
4. ç„¶åå°†å‰©ä½™n-1ä¸ªå…ƒç´ é‡æ–°æ„é€ æˆä¸€ä¸ªå †ï¼Œä¼šå¾—åˆ°nä¸ªå…ƒç´ çš„æ¬¡å°å€¼ã€‚åå¤æ‰§è¡Œï¼Œä¾¿èƒ½å¾—åˆ°ä¸€ä¸ªæœ‰åºåºåˆ—



### åˆ†æ

1. æ„é€ åˆå§‹å †ã€‚ç»™å®šæ— åºåºåˆ—æ„é€ æˆä¸€ä¸ªå¤§é¡¶å †ã€‚åŸå§‹æ•°ç»„[4ã€6ã€8ã€5ã€9]

2. ç»“æ„ï¼š![image-20220911155140497](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220911155140497.png)

3. ä»æœ€åä¸€ä¸ª==éå¶å­èŠ‚ç‚¹== å¼€å§‹ï¼ˆå¶å­èŠ‚ç‚¹ä¸ç”¨è°ƒæ•´ï¼‰ç¬¬ä¸€ä¸ª==éå¶å­èŠ‚ç‚¹ä½ç½®==ï¼š arr.length / 2-1ã€‚==ä»ä¸Šè‡ªä¸‹ï¼Œä»å·¦è‡³å³== è¿›è¡Œè°ƒæ•´

   ![image-20220911155607764](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220911155607764.png)

4. æ‰¾åˆ°ç¬¬äºŒä¸ªå¶å­èŠ‚ç‚¹ï¼Œç”±äºã€4ï¼Œ9ï¼Œ8ã€‘ä¸­9 æœ€å¤§ï¼Œ4 å’Œ 9 äº¤æ¢ã€‚9ä¸8 æ¯”è¾ƒåï¼Œä¸éœ€äº¤æ¢

   ![image-20220911155808569](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220911155808569.png)

5. è¿™æ—¶ï¼Œäº¤æ¢å¯¼è‡´å­—æ ¹ã€4ï¼Œ5ï¼Œ6ã€‘ç»“æ„æ··ä¹±ï¼Œç»§ç»­è°ƒæ•´ã€4ï¼Œ5ï¼Œ6ã€‘ï¼Œ4å’Œ6äº¤æ¢

   ![image-20220911155952605](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220911155952605.png)

    

   æ­¤æ—¶å¾—åˆ°ä¸€ä¸ªæ— åºçš„å¤§é¡¶å †

6. å°†å †é¡¶å…ƒç´ ä¸æœ«å°¾å…ƒç´ è¿›è¡Œäº¤æ¢ï¼Œä½¿æœ«å°¾å…ƒç´ æœ€å¤§ã€‚ç„¶åè°ƒæ•´ï¼Œå†å°†å †é¡¶å…ƒç´ ä¸æœ«å°¾å…ƒç´ äº¤æ¢ï¼Œå¾—åˆ°ç¬¬äºŒå¤§å…ƒç´ ã€‚åå¤è¿›è¡Œäº¤æ¢ï¼Œè°ƒæ•´ï¼ˆé‡å»ºï¼‰ï¼Œäº¤æ¢ã€‚

   1. å°†å †é¡¶å…ƒç´  9 ä¸æœ«å°¾å…ƒç´  4 äº¤æ¢

      ![image-20220911160451158](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220911160451158.png)

   2. é‡æ–°è°ƒæ•´æ„é€ ï¼Œä½¿å…¶ç»§ç»­æ»¡è¶³å †å®šä¹‰

      ![image-20220911160614245](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220911160614245.png)

   3. å†å°†å †é¡¶å…ƒç´  8 ä¸æœ«å°¾å…ƒç´  5 è¿›è¡Œäº¤æ¢ï¼Œå¾—åˆ°ç¬¬äºŒå¤§å…ƒç´  8 

      ![image-20220911160712757](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220911160712757.png)

   4. ä¸æ–­é‡å¤ ä¸Šé¢ 1 2 3 æ­¥æœ€ç»ˆå¾—åˆ°ä¸€ä¸ªæœ‰åºåºåˆ—

      ![image-20220911160912777](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220911160912777.png)

   

   

   

   ### å †æ’åºçš„åŸºæœ¬æ€è·¯

   1. å°†æ— åºåºåˆ—æ„å»ºæˆä¸€ä¸ªå †ï¼Œæ ¹æ®å‡åºé™åºé€‰æ‹©å¤§å †é¡¶æˆ–è€…å°å †é¡¶
   2. å°†å †é¡¶å…ƒç´ ä¸æœ«å°¾å…ƒç´ äº¤æ¢ï¼Œå°†æœ€å¤§å…ƒç´  "æ²‰" åˆ°æ•°ç»„æœ«ç«¯
   3. é‡æ–°è°ƒæ•´ç»“æ„ï¼Œä½¿å…¶æ»¡è¶³å †å®šä¹‰ï¼Œç„¶åç»§ç»­äº¤æ¢å †é¡¶å…ƒç´ ä¸å½“å‰æœ«å°¾å…ƒç´ ï¼Œåå¤æ‰§è¡Œè°ƒæ•´ + äº¤æ¢æ­¥éª¤ï¼Œç›´åˆ°æ•´ä¸ªåºåˆ—æœ‰åºã€‚



## èµ«å¤«æ›¼æ ‘

- åˆ«åï¼šå“ˆå¤«æ›¼æ ‘ï¼Œéœå¤«æ›¼æ ‘



### åŸºæœ¬ä»‹ç» 

1. ç»™å®šnä¸ªæƒå€¼ä½œä¸ºnä¸ªå¶å­ç»“ç‚¹ï¼Œæ„é€ ä¸€æ£µäºŒå‰æ ‘ï¼Œè‹¥è¯¥æ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦ (wpl)è¾¾åˆ°æœ€å°ï¼Œè¿™æ ·çš„äºŒå‰æ ‘ä¸ºæœ€ä¼˜äºŒå‰æ ‘ï¼Œä¹Ÿæ˜¯èµ«å¤«æ›¼æ ‘
2. èµ«å¤«æ›¼æ ‘æ˜¯å¸¦æƒè·¯å¾„é•¿åº¦æœ€çŸ­çš„æ ‘ï¼Œæƒå€¼è¾ƒå¤§çš„ç»“ç‚¹ç¦»æ ¹è¾ƒè¿‘



### æ¦‚å¿µ

1. è·¯å¾„ï¼šåœ¨ä¸€æ£µæ ‘ä¸­ï¼Œä»ä¸€ä¸ªç»“ç‚¹å¾€ä¸‹å¯ä»¥è¾¾åˆ°çš„å­©å­æˆ–å­™å­ç»“ç‚¹ä¹‹é—´çš„é€šè·¯
2. è·¯å¾„é•¿åº¦ï¼šé€šè·¯ä¸­åˆ†æ”¯çš„æ•°ç›®ç§°ä¸ºè·¯å¾„é•¿åº¦
3. è‹¥è§„å®šæ ¹ç»“ç‚¹çš„å±‚æ•°ä¸º1ï¼Œåˆ™ä»æ ¹ç»“ç‚¹åˆ°ç¬¬Lå±‚ç»“ç‚¹çš„è·¯å¾„é•¿åº¦ä¸ºL-1
4. ç»“ç‚¹çš„æƒï¼šè‹¥å°†æ ‘ä¸­ç»“ç‚¹èµ‹ç»™ä¸€ä¸ªæœ‰ç€æŸç§å«ä¹‰çš„æ•°å€¼ï¼Œ åˆ™è¯¥æ•°å€¼ç§°ä¸ºè¯¥ç»“ç‚¹çš„æƒ
5. ç»“ç‚¹çš„å¸¦æƒè·¯å¾„é•¿åº¦ï¼šä»æ ¹ç»“ç‚¹åˆ°è¯¥ç»“ç‚¹ ä¹‹é—´çš„è·¯å¾„é•¿åº¦ä¸è¯¥ç»“ç‚¹çš„æƒçš„ä¹˜ç§¯
6. æ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦ï¼šæ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦è§„å®šä¸ºæ‰€æœ‰å¶å­ç»“ç‚¹çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¹‹å’Œï¼Œè®° ä¸ºWPL(weighted path length) ,æƒå€¼è¶Šå¤§çš„ç»“ç‚¹ç¦»æ ¹ç»“ç‚¹è¶Šè¿‘çš„äºŒå‰æ ‘æ‰æ˜¯æœ€ä¼˜äºŒå‰æ ‘

WPLä¸¾ä¾‹è¯´æ˜ï¼š

![image-20220912090337839](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220912090337839.png)



### æ€è·¯åˆ†æ

æ•°åˆ—ï¼š{13, 7, 8, 3, 29, 6, 1} æŠŠæ•°åˆ—æ„é€ æˆä¸€é¢—èµ«å¤«æ›¼æ ‘



æ­¥éª¤

1. ä»å°åˆ°å¤§è¿›è¡Œæ’åº, å°†æ¯ä¸€ä¸ªæ•°æ®ï¼Œæ¯ä¸ªæ•°æ®éƒ½æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ ï¼Œ æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥çœ‹æˆæ˜¯ä¸€é¢—æœ€ç®€å•çš„äºŒå‰æ ‘
2. å–å‡ºæ ¹èŠ‚ç‚¹æƒå€¼æœ€å°çš„ä¸¤é¢—äºŒå‰æ ‘
3. ç»„æˆä¸€é¢—æ–°çš„äºŒå‰æ ‘, è¯¥æ–°çš„äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹çš„æƒå€¼æ˜¯å‰é¢ä¸¤é¢—äºŒå‰æ ‘æ ¹èŠ‚ç‚¹æƒå€¼çš„å’Œ
4. å†å°†è¿™é¢—æ–°çš„äºŒå‰æ ‘ï¼Œä»¥æ ¹èŠ‚ç‚¹çš„æƒå€¼å¤§å° å†æ¬¡æ’åºï¼Œ ä¸æ–­é‡å¤ 1-2-3-4 çš„æ­¥éª¤ï¼Œ ç›´åˆ°æ•°åˆ—ä¸­ï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½è¢«å¤„ç†ï¼Œå°±å¾—åˆ°ä¸€é¢—èµ«å¤«æ›¼æ ‘

æœ€ç»ˆå¾—åˆ°çš„èµ«å¤«æ›¼æ ‘ï¼š

![image-20220912094052604](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220912094052604.png)



```java
package com.huffmantree;

import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

/**
 * @author Kcs 2022/9/12
 */
public class HuffmanTree {
    public static void main(String[] args) {
        int[] array = {13, 7, 8, 3, 29, 6, 1};
        Node root = createHuffmanTree(array);

        System.out.println("=====================å‰åºéå†=====================");
        preOrder(root);
        System.out.println("=====================ä¸­åºéå†=====================");
        infixOrder(root);
        System.out.println("=====================ååºéå†=====================");
        postOrder(root);
    }

    /**
     * åˆ›å»ºèµ«å¤«æ›¼æ ‘
     * @param array åˆ›å»ºå¥½ä¹‹åçš„rootç»“ç‚¹
     */
    public static Node createHuffmanTree(int[] array) {
        //å°†Node æ”¾å…¥ArrayList<>
        List<Node> nodes = new ArrayList<Node>();
        //éå†æ•°ç»„
        for (int value : array) {
            //æ•°ç»„å…ƒç´ æ„æˆä¸€ä¸ªNode
            nodes.add(new Node(value));
        }

        while (nodes.size() > 1) {
            //æ’åº
            Collections.sort(nodes);

            //å–å‡ºè·Ÿç»“ç‚¹å…¨èŒæœ€å°çš„ä¸¤é¢—äºŒå‰æ ‘
            //æœ€å°çš„ç»“ç‚¹
            Node leftNode = nodes.get(0);

            //ç¬¬äºŒå°çš„ç»“ç‚¹
            Node rightNode = nodes.get(1);

            //å¤§åˆ°å°æ’åº
            // Node leftNode = nodes.get(nodes.size() - 1);
            // Node rightNode = nodes.get(nodes.size()-2);

            //æ„å»ºä¸€é¢—çˆ¶èŠ‚ç‚¹çš„äºŒå‰æ ‘
            Node parent = new Node(leftNode.value + rightNode.value);
            parent.left = leftNode;
            parent.right = rightNode;

            //åˆ é™¤å¤„ç†éƒ­çš„äºŒå‰æ ‘
            nodes.remove(leftNode);
            nodes.remove(rightNode);

            //å°†parentåŠ å…¥åˆ°nodes
            nodes.add(parent);
        }
        //è¿”å›èµ«å¤«æ›¼æ ‘çš„æ ¹èŠ‚ç‚¹
        return nodes.get(0);
    }

    /**
     * å‰åºéå†æ–¹æ³• è¾“å‡ºé¡ºåºï¼šä¸­ =ã€‹å·¦=ã€‹å³
     */
    public static void preOrder(Node root) {
        if (root != null) {
            root.preOrder();
        } else {
            System.out.println("è¯¥èµ«å¤«æ›¼æ ‘ä¸ºç©ºï¼ï¼ï¼");
        }
    }

    /**
     * ä¸­åºéå†æ–¹æ³•  è¾“å‡ºé¡ºåºï¼šå·¦=ã€‹ä¸­ =ã€‹å³
     */
    public static void infixOrder(Node root) {
        if (root != null) {
            root.infixOrder();
        } else {
            System.out.println("è¯¥èµ«å¤«æ›¼æ ‘ä¸ºç©ºï¼ï¼ï¼");
        }
    }

    /**
     * ååºéå†æ–¹æ³•  è¾“å‡ºé¡ºåºï¼šå·¦=ã€‹å³ =ã€‹ä¸­
     */
    public static void postOrder(Node root) {
        if (root != null) {
            root.postOrder();
        } else {
            System.out.println("è¯¥èµ«å¤«æ›¼æ ‘ä¸ºç©ºï¼ï¼ï¼");
        }
    }

}

/**
 * ç»“ç‚¹ç±»
 * å®ç°Comparableæ¥å£ è¿›æ’åº
 */
class Node implements Comparable<Node> {
    /**
     * èŠ‚ç‚¹å€¼
     */
    int value;
    /**
     * ç»“ç‚¹çš„å·¦å­èŠ‚ç‚¹
     */
    Node left;
    /**
     * ç»“ç‚¹çš„å³å­èŠ‚ç‚¹
     */
    Node right;

    public Node(int value) {
        this.value = value;
    }

    /**
     * å‰åºéå†
     */
    public void preOrder() {
        System.out.println(this);
        if (this.left != null) {
            this.left.preOrder();
        }
        if (this.right != null) {
            this.right.preOrder();
        }
    }


    /**
     * ä¸­åºéå†
     */
    public void infixOrder() {
        if (this.left != null) {
            this.left.infixOrder();
        }
        System.out.println(this);
        if (this.right != null) {
            this.right.infixOrder();
        }
    }

    /**
     * ååºéå†
     */
    public void postOrder() {
        if (this.left != null) {
            this.left.postOrder();
        }
        if (this.right != null) {
            this.right.postOrder();
        }
        System.out.println(this);
    }

    @Override
    public String toString() {
        return "Node{" +
                "value=" + value +
                '}';
    }

    @Override
    public int compareTo(Node o) {
        //ä»å°åˆ°å¤§æ’åº
        return this.value - o.value;
        //å¤§åˆ°å°
        // return o.value - this.value;
    }

}
```



## èµ«å¤«æ›¼ç¼–ç 

- ç®—æ³•
- èµ«å¤«æ›¼ç¼–ç å¹¿æ³›åœ°ç”¨äºæ•°æ®æ–‡ä»¶å‹ç¼©ã€‚å…¶å‹ç¼©ç‡é€šå¸¸åœ¨20%ï½90%ä¹‹é—´
- èµ«å¤«æ›¼ç æ˜¯å¯å˜å­—é•¿ç¼–ç (VLC)ã€‚

### å®šé•¿ç¼–ç 

![image-20220912104912865](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220912104912865.png)

![image-20220912105542227](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220912105542227.png)

### èµ«å¤«æ›¼ç¼–ç 

åŸç†ï¼š

1. i like like like java do you like a java  // å…±40ä¸ªå­—ç¬¦(åŒ…æ‹¬ç©ºæ ¼)
2. d:1 y:1 u:1 j:2 v:2 o:2 l:4 k:4 e:4 i:5 a:5 :9 // å„ä¸ªå­—ç¬¦å¯¹åº”çš„ä¸ªæ•°
3. æŒ‰ç…§ä¸Šé¢å­—ç¬¦å‡ºç°çš„æ¬¡æ•°æ„å»ºä¸€é¢—èµ«å¤«æ›¼æ ‘, æ¬¡æ•°ä½œä¸ºæƒå€¼

æœ€ç»ˆå½¢æˆçš„èµ«å¤«æ›¼æ ‘

![image-20220912111627899](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220912111627899.png)



æ ¹æ®èµ«å¤«æ›¼æ ‘ï¼Œç»™å„ä¸ªå­—ç¬¦è§„å®šç¼–ç  ï¼Œ å‘å·¦çš„è·¯å¾„ä¸º0 å‘å³çš„è·¯å¾„ä¸º1 ï¼Œ ç¼–ç å¦‚ä¸‹

> o: 1000 u: 10010 d: 100110 y: 100111 i: 101 a : 110 k: 1110 e: 1111 j: 0000 v: 0001 l: 001  [ç©ºæ ¼] : 01

"i like like like java  do you like a java" å­—ç¬¦ä¸²å¯¹åº”çš„ç¼–ç ä¸º

> 1010100110111101111010011011110111101001101111011110100001100001110011001111000011001111000100100100110111101111011100100001100001110

é•¿åº¦ä¸º ï¼š 133

åŸæ¥é•¿åº¦æ˜¯ 359 , å‹ç¼©äº† (359-133) / 359 = 62.9% 2) æ­¤ç¼–ç æ»¡è¶³å‰ç¼€ç¼–ç , å³å­—ç¬¦çš„ç¼–ç éƒ½ä¸èƒ½æ˜¯å…¶ä»–å­—ç¬¦ç¼–ç çš„å‰ç¼€ã€‚ä¸ä¼šé€ æˆåŒ¹é…çš„å¤šä¹‰æ€§



èµ«å¤«æ›¼æ ‘æ ¹æ®æ’åºæ–¹æ³•ä¸åŒï¼Œä¹Ÿå¯èƒ½ä¸å¤ªä¸€æ ·ï¼Œè¿™æ ·å¯¹åº”çš„èµ«å¤«æ›¼ç¼–ç ä¹Ÿä¸å®Œå…¨ä¸€æ ·ï¼Œä½†æ˜¯wpl æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯æœ€å°çš„, æ¯”å¦‚: è®©æ¯æ¬¡ç”Ÿæˆæ–°çš„äºŒå‰æ ‘æ€»æ˜¯æ’åœ¨æƒå€¼ç›¸åŒçš„äºŒå‰æ ‘çš„æœ€åä¸€ä¸ªï¼Œåˆ™ç”Ÿæˆçš„äºŒå‰æ ‘ä¸º

![image-20220912113420940](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220912113420940.png)



### æ•°æ®å‹ç¼©

æ ¹æ®èµ«å¤«æ›¼ç¼–ç å‹ç¼©æ•°æ®çš„åŸç†ï¼Œéœ€è¦åˆ›å»º "i like like like java do you  like a java" å¯¹åº”çš„èµ«å¤«æ›¼æ ‘

1. Node{date(å­˜æ”¾æ•°æ®)ï¼Œweight(æƒé‡)ï¼Œleftï¼Œright }
2. å¾—åˆ°å­—ç¬¦ä¸²å¯¹åº”çš„æ•°ç»„
3. å°†æ„å»ºèµ«å¤«æ›¼æ ‘çš„Node èŠ‚ç‚¹æ”¾åˆ°List 
4. é€šè¿‡Liståˆ›å»ºå¯¹åº”çš„èµ«å¤«æ›¼æ ‘

```java
package com.huffmancode;

import java.util.*;

/**
 * @author Kcs 2022/9/12
 */
public class HuffmanCode {
    public static void main(String[] args) {
        String content = "i like you and must love you and only love you";
        byte contentBytes[] = content.getBytes();
        //å­—ç¬¦ä¸²é•¿åº¦
        System.out.println("å­—ç¬¦ä¸²é•¿åº¦ï¼š" + contentBytes.length);

        //æµ‹è¯•
        List<HuffmanNode> nodes = getHuffmanNodes(contentBytes);
        System.out.println("nodes=" + nodes);

        //æµ‹è¯•åˆ›å»ºäºŒå‰æ ‘
        System.out.println("å‰åºéå†å½“å‰çš„èµ«å¤«æ›¼æ ‘~~~");
        HuffmanNode huffmanTreeRoot = creatHuffmanTree(nodes);
        huffmanTreeRoot.preOrder();

        //æµ‹è¯•ä¸€æŠŠæ˜¯å¦èµ«å¤«æ›¼ç¼–ç 
        //getCodes(HuffmanTreeRoot,"",stringBuilder);
        Map<Byte, String> huffmanCodes = getCodes(huffmanTreeRoot);
        System.out.println("~ç”Ÿæˆçš„èµ«å¤«æ›¼ç¼–ç è¡¨~\n" + huffmanCodes);

    }

    /**
     * ç”Ÿæˆèµ«å¤«æ›¼æ ‘å¯¹åº”çš„èµ«å¤«æ›¼ç¼–ç 
     * å°†èµ«å¤«æ›¼ç¼–ç è¡¨æ”¾åœ¨Map<Byte,String>
     * {[key:value] [key:value]}
     */
    static Map<Byte, String> huffmanCodes = new HashMap<Byte, String>();
    /**
     * åœ¨ç”Ÿæˆèµ«å¤«æ›¼ç¼–ç è¡¨æ—¶ï¼Œæ‹¼æ¥è·¯å¾„ï¼Œç”¨StringBuilder å­˜å‚¨æŸä¸ªå¶å­èŠ‚ç‚¹çš„è·¯å¾„
     */
    static StringBuilder stringBuilder = new StringBuilder();

    /**
     * é‡è½½getCodes
     * @param root è·Ÿç»“ç‚¹
     * @return map
     */
    private static Map<Byte, String> getCodes(HuffmanNode root) {
        if (root == null) {
            return null;
        }
        //å¤„ç†rootçš„å·¦å­æ ‘
        getCodes(root.left, "0", stringBuilder);
        //å¤„ç†rootçš„å³å­æ ‘
        getCodes(root.right, "1", stringBuilder);
        return huffmanCodes;
    }

    /**
     * åŠŸèƒ½ï¼šå¾—åˆ°ä¼ å…¥çš„nodeèŠ‚ç‚¹çš„æ‰€æœ‰èµ«å¤«æ›¼ç¼–ç ï¼Œå¹¶å­˜æ”¾åˆ°huffmanCodesé›†åˆä¸­
     * @param node ä¼ å…¥çš„èŠ‚ç‚¹ï¼ˆé»˜è®¤ä»rootï¼‰
     * @param code è¯¥èŠ‚ç‚¹çš„è·¯å¾„ï¼ˆå·¦å­èŠ‚ç‚¹0å’Œå³å­èŠ‚ç‚¹1ï¼‰
     * @param stringBuilder æ‹¼æ¥è·¯å¾„
     */
    private static void getCodes(HuffmanNode node, String code, StringBuilder stringBuilder) {
        StringBuilder stringBuilder2 = new StringBuilder(stringBuilder);
        //å°†ä¼ å…¥çš„codeåŠ å…¥åˆ°stringBuilder2ä¸­
        stringBuilder2.append(code);
        if (node != null) {
            //node==nullä¸å¤„ç†
            //åˆ¤æ–­å½“å‰nodeæ—¶å¶å­èŠ‚ç‚¹è¿˜æ˜¯éå¶å­èŠ‚ç‚¹
            if (node.data == null) {
                //éå¶å­èŠ‚ç‚¹
                //å‘å·¦é€’å½’
                getCodes(node.left, "0", stringBuilder2);
                //å‘å³é€’å½’
                getCodes(node.right, "1", stringBuilder2);
            } else {
                //å¶å­èŠ‚ç‚¹
                huffmanCodes.put(node.data, stringBuilder2.toString());
            }
        }
    }

    /**
     * @param bytes æ¥å—çš„æ•°ç»„
     * @return è¿”å›Listå½¢å¼ï¼š[Node[date=97,weight =5],Node[date=32,weight=9]]
     */
    private static List<HuffmanNode> getHuffmanNodes(byte bytes[]) {
        //åˆ›å»ºArrayList
        ArrayList<HuffmanNode> nodes = new ArrayList<HuffmanNode>();
        //éå†bytesï¼Œç»Ÿè®¡æ¯ä¸ªbyteå‡ºç°çš„æ¬¡æ•°->map
        Map<Byte, Integer> counts = new HashMap<>();
        for (byte b : bytes) {
            Integer count = counts.get(b);
            if (count == null) {
                //é¦–æ¬¡ï¼ŒMapæ²¡æœ‰å­—ç¬¦æ•°æ®
                counts.put(b, 1);
            } else {
                counts.put(b, count + 1);
            }
        }
        //éå†Mapã€‚æŠŠæ¯ä¸ªé”®å€¼å¯¹è½¬æˆHuffmanNodeå¯¹è±¡ï¼Œå¹¶åŠ å…¥nodesä¸­
        for (Map.Entry<Byte, Integer> entry : counts.entrySet()) {
            nodes.add(new HuffmanNode(entry.getKey(), entry.getValue()));
        }
        return nodes;
    }

    /**
     * é€šè¿‡Listï¼Œåˆ›å»ºèµ«å¤«æ›¼æ ‘
     * @param nodes liståˆ—è¡¨
     * @return æ ¹èŠ‚ç‚¹
     */
    private static HuffmanNode creatHuffmanTree(List<HuffmanNode> nodes) {
        while (nodes.size() > 1) {
            Collections.sort(nodes);
            //æ’åºå°åˆ°å¤§
            HuffmanNode leftNode = nodes.get(0);
            HuffmanNode rightNode = nodes.get(1);
            //åˆ›å»ºæ–°çš„äºŒå‰æ ‘ï¼Œæ²¡æœ‰dataåªæœ‰æƒå€¼weight
            HuffmanNode parent = new HuffmanNode(null, leftNode.weight + rightNode.weight);
            parent.left = leftNode;
            parent.right = rightNode;
            //ç§»é™¤æ—§çš„ç»“ç‚¹
            nodes.remove(leftNode);
            nodes.remove(rightNode);
            //æ·»åŠ æ–°çš„äºŒå‰æ ‘
            nodes.add(parent);
        }
        return nodes.get(0);
    }

    /**
     * å‰åºéå†
     * @param root
     */
    private static void preOrder(HuffmanNode root) {
        if (root != null) {
            root.preOrder();
        } else {
            System.out.println("ç©ºæ ‘");
        }
    }
}


/**
 * åˆ›å»ºNode
 */
class HuffmanNode implements Comparable<HuffmanNode> {
    /**
     * å­˜æ”¾æ•°æ®æœ¬èº«'a'->97 ' '->32
     */
    Byte data;
    /**
     * æƒå€¼,å­—ç¬¦å‡ºç°çš„æ¬¡æ•°
     */
    int weight;
    HuffmanNode left;
    HuffmanNode right;

    public HuffmanNode(Byte data, int weight) {
        this.data = data;
        this.weight = weight;
    }

    @Override
    public int compareTo(HuffmanNode huffmanNode) {
        //è¡¨ç¤ºä»å°åˆ°è¾¾æ’åº
        return this.weight - huffmanNode.weight;
    }

    @Override
    public String toString() {
        return "HuffmanNode{" + "data=" + data + ", weight=" + weight + '}';
    }

    /**
     * å‰åºéå†
     */
    public void preOrder() {
        System.out.println(this);
        if (this.left != null) {
            this.left.preOrder();
        }
        if (this.right != null) {
            this.right.preOrder();
        }
    }
}
```



## äºŒå‰æ’åºæ ‘

å¯¹æ•°åˆ— (7, 3, 10, 12, 5, 1, 9)æ“ä½œï¼Œé«˜æ•ˆçš„å®Œæˆå¯¹æ•°æ®çš„æŸ¥è¯¢å’Œæ·»åŠ 

### åˆ†æï¼š

**ä½¿ç”¨æ•°ç»„**ï¼š

1. æ•°ç»„æœªæ’åº
   - ä¼˜ç‚¹ï¼šç›´æ¥åœ¨æ•°ç»„å°¾æ·»åŠ ï¼Œé€Ÿåº¦å¿«
   -  ç¼ºç‚¹ï¼šæŸ¥æ‰¾é€Ÿåº¦æ…¢
2. æ•°ç»„æ’åº
   - ä¼˜ç‚¹ï¼šå¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼ŒæŸ¥æ‰¾é€Ÿåº¦å¿«
   - ç¼ºç‚¹ï¼šä¸ºäº†ä¿è¯æ•°ç»„æœ‰åºï¼Œ åœ¨æ·»åŠ æ–°æ•°æ®æ—¶ï¼Œæ‰¾åˆ°æ’å…¥ä½ç½®åï¼Œåé¢çš„æ•°æ®éœ€æ•´ä½“ç§»åŠ¨ï¼Œé€Ÿåº¦æ…¢

**ä½¿ç”¨é“¾è¡¨**ï¼š

- ä¸ç®¡é“¾è¡¨æ˜¯å¦æœ‰åºï¼ŒæŸ¥æ‰¾é€Ÿåº¦éƒ½æ…¢ï¼Œæ·»åŠ æ•°æ®é€Ÿåº¦æ¯”æ•°ç»„å¿«ï¼Œä¸éœ€è¦æ•°æ®æ•´ä½“ ç§»åŠ¨

**ä½¿ç”¨äºŒå‰æ’åºæ ‘**ï¼š



### åŸºæœ¬ä»‹ç»

- äºŒå‰æ’åºæ ‘ï¼šBST: (Binary Sort(Search) Tree), å¯¹äºäºŒå‰æ’åºæ ‘çš„ä»»ä½•ä¸€ä¸ªéå¶å­èŠ‚ç‚¹ï¼Œè¦æ±‚==å·¦å­èŠ‚ç‚¹çš„å€¼æ¯”å½“å‰èŠ‚ç‚¹çš„å€¼å°ï¼Œå³å­èŠ‚ç‚¹çš„å€¼æ¯”å½“å‰èŠ‚ç‚¹çš„å€¼å¤§==ã€‚

- å¦‚æœæœ‰ç›¸åŒçš„å€¼ï¼Œå¯ä»¥å°†è¯¥èŠ‚ç‚¹æ”¾åœ¨å·¦å­èŠ‚ç‚¹æˆ–å³å­èŠ‚ç‚¹

- å¯¹æ•°æ®(7, 3, 10, 12, 5, 1, 9)è¿›è¡ŒäºŒå‰æ’åºæ ‘

  ![image-20220914222821047](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220914222821047.png)

### äºŒå‰æ’åºæ ‘åˆ›å»ºä¸éå†

æ•°ç»„åˆ›å»ºæˆä¸€ä¸ªäºŒå‰æ’åºæ ‘ï¼Œä½¿ç”¨ä¸­åºéå†äºŒå‰æ’åºæ ‘ã€‚Array(7, 3, 10, 12, 5, 1, 9) å¯¹æ­¤æ•°ç»„è¿›è¡Œä¸­åºéå†äºŒå‰æ’åºæ ‘





### äºŒå‰æ’åºæ ‘çš„åˆ é™¤



åˆ†æ

1. åˆ é™¤å¶å­èŠ‚ç‚¹ (æ¯”å¦‚ï¼š2, 5, 9, 12)
   - å³è¯¥èŠ‚ç‚¹ä¸‹==æ²¡æœ‰==å·¦å³å­èŠ‚ç‚¹
   
   1. æ‰¾åˆ°è¦åˆ é™¤çš„ç»“ç‚¹ï¼ŒtargetNode
   2. æ‰¾åˆ° targetNode çš„çˆ¶èŠ‚ç‚¹ parent 
   3. ç¡®å®š targetNode æ˜¯parent çš„å·¦å­ç»“ç‚¹ï¼Œè¿˜æ˜¯å³å­ç»“ç‚¹
   4. æ›´æƒ…å†µæ¥å¯¹åº”åˆ é™¤
      - å·¦å­ç»“ç‚¹ï¼šparent . left = null
      - å³å­ç»“ç‚¹ï¼šparent . right = null
   
2. åˆ é™¤åªæœ‰ä¸€é¢—å­æ ‘çš„èŠ‚ç‚¹ (æ¯”å¦‚ï¼š1ï¼‰
   - å³è¯¥èŠ‚ç‚¹æœ‰å·¦å­èŠ‚ç‚¹==æˆ–==è€…å³å­èŠ‚ç‚¹
   
   1. æ‰¾åˆ°è¦åˆ é™¤çš„ç»“ç‚¹ï¼ŒtargetNode
   2. æ‰¾åˆ° targetNode çš„çˆ¶èŠ‚ç‚¹ parent
   3. ç¡®å®š targetNode çš„å­èŠ‚ç‚¹æ˜¯å·¦å­ç»“ç‚¹è¿˜æ˜¯å³å­ç»“ç‚¹
   4. targetNode æ˜¯ parent çš„å·¦å­ç»“ç‚¹è¿˜æ˜¯å³å­ç»“ç‚¹
   5. è‹¥targetNode æœ‰å·¦å­ç»“ç‚¹
      - targetNode æ˜¯ parent çš„å·¦å­ç»“ç‚¹
      - parent.left = targetNode.left
      - targetNode æ˜¯ parent çš„å³å­ç»“ç‚¹
      - parent.right= targetNode.left
   6. è‹¥targetNode æœ‰å³å­ç»“ç‚¹
      - targetNode æ˜¯ parent çš„å·¦å­ç»“ç‚¹
      - parent.left = targetNode.right
      - targetNode æ˜¯ parent çš„å³å­ç»“ç‚¹
      - parent.right= targetNode.right
   
3. åˆ é™¤æœ‰ä¸¤é¢—å­æ ‘çš„èŠ‚ç‚¹. (æ¯”å¦‚ï¼šåˆ é™¤10 )
   - å³è¯¥èŠ‚ç‚¹æœ‰å·¦å­èŠ‚ç‚¹==å’Œ==è€…å³å­èŠ‚ç‚¹
   
   1. æ‰¾åˆ°è¦åˆ é™¤çš„ç»“ç‚¹ï¼ŒtargetNode
   2. æ‰¾åˆ° targetNode çš„çˆ¶èŠ‚ç‚¹ parent
   3. ä» targetNode çš„å³å­æ ‘æ‰¾åˆ°æœ€å°çš„ç»“ç‚¹ï¼Œä¿å­˜åœ¨ä¸€ä¸ªå˜é‡ä¸­ temp
   4. åˆ é™¤æœ€å°ç»“ç‚¹
   5. targetNode.value = temp
   
   

![image-20220914223559216](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220914223559216.png)

```java
package com.binarysorttree;

/**
 * @author Kcs 2022/9/15
 */
public class BinarySortTreeDemo {
    public static void main(String[] args) {
        int[] arr = {7, 3, 10, 12, 5, 1, 9, 2};
        BinarySortTree binarySortTree = new BinarySortTree();

        //æ·»åŠ ç»“ç‚¹è¿›äºŒå‰æ’åºæ ‘
        for (int i = 0; i < arr.length; i++) {
            binarySortTree.add(new Node(arr[i]));
        }

        //éå†äºŒå‰æ’åºæ ‘
        System.out.println("================å‰åºéå†=================");
        binarySortTree.preOrder();
        System.out.println("================ä¸­åºéå†=================");
        binarySortTree.infixOrder();
        System.out.println("================ååºéå†=================");
        binarySortTree.postOrder();

        //åˆ é™¤å¶å­ç»“ç‚¹
        binarySortTree.deleteNode(2);
        System.out.println("================åˆ é™¤å¶å­ç»“ç‚¹åï¼šä¸­åºéå†äºŒå‰æ’åºæ ‘=================");
        binarySortTree.infixOrder();


        //åˆ é™¤ä¸€æ£µå­æ ‘ç»“ç‚¹
        binarySortTree.deleteNode(1);
        System.out.println("================åˆ é™¤å­˜åœ¨ä¸€æ£µå­æ ‘çš„ç»“ç‚¹åï¼šä¸­åºéå†äºŒå‰æ’åºæ ‘=================");
        binarySortTree.infixOrder();

        //åˆ é™¤ä¸¤æ£µå­æ ‘ç»“ç‚¹
        binarySortTree.deleteNode(10);
        System.out.println("================åˆ é™¤å³ä¸¤é¢—å­æ ‘çš„ç»“ç‚¹åï¼šä¸­åºéå†äºŒå‰æ’åºæ ‘=================");
        binarySortTree.infixOrder();

        binarySortTree.deleteNode(3);
        binarySortTree.deleteNode(5);
        binarySortTree.deleteNode(7);
        binarySortTree.deleteNode(9);
        binarySortTree.deleteNode(12);

        System.out.println("åˆ é™¤å®Œä¹‹å");
        binarySortTree.infixOrder();

    }
}

/**
 * äºŒå‰æ’åºæ ‘
 */
class BinarySortTree {
    private Node root;

    /**
     * æ·»åŠ ç»“ç‚¹
     * @param node ç»“ç‚¹
     */
    public void add(Node node) {
        if (root == null) {
            root = node;
        } else {
            root.add(node);
        }
    }

    /**
     * å‰åºéå†
     */
    public void preOrder() {
        if (root != null) {
            root.preOrder();
        } else {
            System.out.println("äºŒå‰æ’åºæ ‘ä¸ºç©ºï¼ï¼");
        }
    }

    /**
     * ä¸­åºéå†
     */
    public void infixOrder() {
        if (root != null) {
            root.infixOrder();
        } else {
            System.out.println("äºŒå‰æ’åºæ ‘ä¸ºç©ºï¼ï¼");
        }
    }

    /**
     * ååºéå†
     */
    public void postOrder() {
        if (root != null) {
            root.postOrder();
        } else {
            System.out.println("äºŒå‰æ’åºæ ‘ä¸ºç©ºï¼ï¼");
        }
    }

    /**
     * æŸ¥æ‰¾è¦åˆ é™¤çš„ç»“ç‚¹
     * @param value
     * @return
     */
    public Node search(int value) {
        if (root == null) {
            return null;
        } else {
            return root.search(value);
        }
    }

    /**
     * æŸ¥æ‰¾çˆ¶ç»“ç‚¹
     * @param value åˆ é™¤çš„ç»“ç‚¹
     * @return ç»“ç‚¹ä¿¡æ¯
     */
    public Node searchParent(int value) {
        if (root == null) {
            return null;
        } else {
            return root.searchParent(value);
        }
    }

    /**
     * @param node ä¼ å…¥çš„ç»“ç‚¹ äºŒå‰æ’åºæ ‘çš„æ ¹èŠ‚ç‚¹
     * @return è¿”å›nodeä¸ºè·Ÿç»“ç‚¹çš„äºŒå‰æ’åºæ ‘çš„æœ€å°ç»“ç‚¹å€¼
     */
    public int deleteRightTreeMin(Node node) {
        Node target = node;
        //æŸ¥æ‰¾å·¦èŠ‚ç‚¹,æ‰¾åˆ°æœ€å°èŠ‚ç‚¹
        while (target.left != null) {
            target = target.left;
        }
        //åˆ é™¤æœ€å°ç»“ç‚¹
        deleteNode(target.value);
        return target.value;
    }

    /**
     * åˆ é™¤å¶å­ç»“ç‚¹
     * @param value åˆ é™¤çš„ç»“ç‚¹çš„å€¼
     */
    public void deleteNode(int value) {
        if (root == null) {
            return;
        } else {
            //æ‰¾åˆ°è¦åˆ é™¤çš„ç»“ç‚¹ targetNode
            Node targetNode = search(value);
            //æ²¡æœ‰æ‰¾åˆ°åˆ é™¤çš„ç»“ç‚¹
            if (targetNode == null) {
                return;
            }
            //å½“å‰çš„äºŒå‰æ’åºæ ‘åªæœ‰ä¸€ä¸ªç»“ç‚¹
            if (root.left == null && root.right == null) {
                root = null;
                return;
            }
            //targetNodeçš„çˆ¶èŠ‚ç‚¹
            Node parent = searchParent(value);

            //åˆ é™¤çš„ç»“ç‚¹ä¸ºå¶å­ç»“ç‚¹
            if (targetNode.left == null && targetNode.right == null) {
                // åˆ¤æ–­ targetNodeæ˜¯çˆ¶èŠ‚ç‚¹çš„å·¦å­ç»“ç‚¹
                if (parent.left != null && parent.left.value == value) {
                    parent.left = null;
                } else if (parent.right != null && parent.right.value == value) {
                    // targetNodeæ˜¯çˆ¶èŠ‚ç‚¹çš„å·¦å­ç»“ç‚¹
                    parent.right = null;
                }
            } else if (targetNode.left != null && targetNode.right != null) {
                //åˆ é™¤ä¸¤é¢—å­æ ‘çš„ç»“ç‚¹
                int minValue = deleteRightTreeMin(targetNode.right);
                targetNode.value = minValue;
            } else {
                //åˆ é™¤ä¸€ä¸ªå­æ ‘çš„ç»“ç‚¹

                //åˆ é™¤çš„ç»“ç‚¹å­˜åœ¨å·¦å­ç»“ç‚¹
                if (targetNode.left != null) {
                    if (parent != null) {
                        // targetNode ä¸º parent çš„å·¦å­ç»“ç‚¹
                        if (parent.left.value == value) {
                            parent.left = targetNode.left;
                        } else {
                            //targetNode ä¸ºçˆ¶parentçš„å³å­ç»“ç‚¹
                            parent.right = targetNode.left;
                        }
                    } else {
                        root = targetNode.left;
                    }
                } else {
                    if (parent != null) {
                        //åˆ é™¤çš„ç»“ç‚¹å­˜åœ¨å³å­ç»“ç‚¹
                        // targetNode ä¸º parent çš„å·¦å­ç»“ç‚¹
                        if (parent.left.value == value) {
                            parent.left = targetNode.right;
                        } else {
                            //targetNode ä¸ºçˆ¶parentçš„å³å­ç»“ç‚¹
                            parent.right = targetNode.right;
                        }
                    } else {
                        root = targetNode.right;
                    }
                }
            }

        }

    }


}

/**
 * ç»“ç‚¹
 */
class Node {
    /**
     * å€¼
     */
    int value;
    /**
     * å·¦å³ç»“ç‚¹
     */
    Node left;
    Node right;

    public Node(int value) {
        this.value = value;
    }

    @Override
    public String toString() {
        return "Node{" + "value=" + value + '}';
    }

    /**
     * æŸ¥æ‰¾è¦åˆ é™¤çš„ç»“ç‚¹
     * @param value åˆ é™¤çš„ç»“ç‚¹çš„å€¼
     * @return è¿”å›æ”¹ç»“ç‚¹
     */
    public Node search(int value) {
        if (value == this.value) {
            //æ‰¾åˆ°æ”¹ç»“ç‚¹
            return this;
        } else if (value < this.value) {
            //æŸ¥æ‰¾çš„å€¼å°äºå½“å‰ç»“ç‚¹çš„å€¼ï¼Œå‘å·¦é€’å½’æ‰¾
            if (this.left == null) {
                return null;
            }
            return this.left.search(value);
        } else {
            //å¤§äºæˆ–ç­‰äºæ”¹ç»“ç‚¹
            if (this.right == null) {
                return null;
            }
            return this.right.search(value);
        }
    }

    /**
     * æŸ¥æ‰¾åˆ é™¤ç»“ç‚¹çš„çˆ¶èŠ‚ç‚¹
     * @param value ç›®æ ‡æŸ¥æ‰¾çš„ç»“ç‚¹
     * @return çˆ¶èŠ‚ç‚¹
     */
    public Node searchParent(int value) {
        //æ‰¾åˆ°ç›®æ ‡åˆ é™¤çš„ç»“ç‚¹çš„çˆ¶èŠ‚ç‚¹
        if ((this.left != null && this.left.value == value) || (this.right != null && this.right.value == value)) {
            return this;
        } else {
            //æŸ¥æ‰¾çš„å€¼å°äºå½“å‰çš„å€¼ã€‚å½“å‰ç»“ç‚¹çš„å·¦å­ç»“ç‚¹ä¸ä¸ºç©º
            if (value < this.value && this.left != null) {
                return this.left.searchParent(value);
            } else if (value >= this.value && this.right != null) {
                //æŸ¥æ‰¾çš„å€¼å°äºå½“å‰çš„å€¼ã€‚å½“å‰ç»“ç‚¹çš„å·¦å­ç»“ç‚¹ä¸ä¸ºç©º
                //å‘å³é€’å½’
                return this.right.searchParent(value);
            } else {
                //æ‰¾åˆ°ä¸åˆ°çˆ¶èŠ‚ç‚¹
                return null;
            }
        }

    }

    /**
     * æ·»åŠ ç»“ç‚¹
     * é€’å½’æ·»åŠ ç»“ç‚¹ï¼Œæ»¡è¶³äºŒå‰æ’åºæ ‘
     * @param node ç»“ç‚¹ä¿¡æ¯
     */
    public void add(Node node) {
        //ç»“ç‚¹ä¸ºç©º
        if (node == null) {
            return;
        }

        if (node.value < this.value) {
            //å½“å‰ç»“ç‚¹å·¦å­ç»“ç‚¹ä¸ºç©º
            if (this.left == null) {
                this.left = node;
            } else {
                //é€’å½’å·¦å­ç»“ç‚¹æ·»åŠ 
                this.left.add(node);
            }
        } else {
            //æ·»åŠ çš„ç»“ç‚¹å¤§äºå¤§äºå½“å‰ç»“ç‚¹çš„å€¼
            if (this.right == null) {
                //å³å­æ ‘ä¸ºç©ºï¼Œåˆ™æ·»åŠ åœ¨å³ç»“ç‚¹
                this.right = node;
            } else {
                //é€’å½’å‘å³æ·»åŠ 
                this.right.add(node);
            }
        }
    }


    /**
     * å‰åºéå†
     */
    public void preOrder() {
        System.out.println(this);
        if (this.left != null) {
            this.left.preOrder();
        }
        if (this.right != null) {
            this.right.preOrder();
        }
    }

    /**
     * ä¸­åºéå†
     */
    public void infixOrder() {
        if (this.left != null) {
            this.left.infixOrder();
        }
        System.out.println(this);
        if (this.right != null) {
            this.right.infixOrder();
        }
    }

    /**
     * ååºéå†
     */
    public void postOrder() {
        if (this.left != null) {
            this.left.postOrder();
        }
        if (this.right != null) {
            this.right.postOrder();
        }
        System.out.println(this);
    }

}
```





## å¹³è¡¡äºŒå‰æ ‘



æ ¹æ®æ•°åˆ—  {1,2,3,4,5,6}ï¼Œåˆ›å»ºä¸€ä¸ªäºŒå‰æ’åºæ ‘ï¼ˆBSLï¼‰

![image-20220918151718383](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220918151718383.png)

å·¦è¾¹ï¼ˆBSLï¼‰==å­˜åœ¨é—®é¢˜==åˆ†æ

1. å·¦å­æ ‘å…¨éƒ¨ä¸ºç©ºï¼Œä»å½¢å¼ä¸Šçœ‹ï¼Œæ›´åƒä¸€ä¸ªå•é“¾è¡¨
2. æ’å…¥é€Ÿåº¦æ²¡æœ‰å½±å“
3. æŸ¥è¯¢é€Ÿåº¦æ˜æ˜¾é™ä½(å› ä¸ºéœ€è¦ä¾æ¬¡æ¯”è¾ƒ), ä¸èƒ½å‘æŒ¥BST çš„ä¼˜åŠ¿ï¼Œå› ä¸ºæ¯æ¬¡è¿˜éœ€è¦æ¯”è¾ƒå·¦å­æ ‘ï¼Œå…¶æŸ¥è¯¢é€Ÿåº¦æ¯” å•é“¾è¡¨è¿˜æ…¢
4. å¹³è¡¡äºŒå‰æ ‘ï¼ˆAVLï¼‰



### åŸºæœ¬ä»‹ç»

åˆ«åï¼šå¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼ˆSelf-balancing binary search treeï¼‰ï¼ŒAVLæ ‘

==ä¿è¯æŸ¥è¯¢æ•ˆç‡è¾ƒé«˜==

**æ»¡è¶³äºŒå‰æ’åºæ ‘**





### ç‰¹ç‚¹

- AVLæ˜¯ä¸€ æ£µç©ºæ ‘æˆ–å·¦å³ä¸¤ä¸ªå­æ ‘çš„==é«˜åº¦å·®çš„====ç»å¯¹å€¼ä¸è¶…è¿‡1==ï¼Œä¸”å·¦å³ä¸¤ä¸ªå­æ ‘éƒ½æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘
- å¸¸ç”¨å®ç°æ–¹æ³•
  1. çº¢é»‘æ ‘
  2. AVL
  3. æ›¿ç½ªç¾Šæ ‘
  4. Treap ï¼ˆæ¨ªäºŒå‰æ ‘ï¼‰
  5. ä¼¸å±•æ ‘



### å¹³è¡¡äºŒå‰æ ‘ - å•æ—‹è½¬ï¼ˆå·¦æ—‹è½¬ï¼‰

æ ¹æ®æ•°åˆ— {4,3,6,5,7,8}ï¼Œåˆ›å»ºå‡ºå¯¹åº”çš„å¹³è¡¡äºŒå‰æ ‘

ç»“ç‚¹çš„å·¦æ—‹è½¬

1. å°† A èŠ‚ç‚¹çš„ å³èŠ‚ç‚¹ çš„ å·¦èŠ‚ç‚¹ ï¼ŒæŒ‡å‘ AèŠ‚ç‚¹
2. å°† A èŠ‚ç‚¹çš„å³èŠ‚ç‚¹ï¼ŒæŒ‡å‘ A èŠ‚ç‚¹çš„å³èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹

**å·¦æ—‹è½¬åŸå› **

- å³å­æ ‘é«˜åº¦æ¯”å·¦å­æ ‘é«˜åº¦ é«˜ å¹¶ä¸”é«˜åº¦å·®ç»å¯¹å€¼å¤§äº1

**å·¦æ—‹è½¬ç›®çš„**

- é™ä½å³å­æ ‘é«˜åº¦



**AVLæ ‘é«˜åº¦æ±‚è§£**

- æ€»çš„é«˜åº¦
- å³å­æ ‘é«˜åº¦
- å·¦å­æ ‘é«˜åº¦

**ä»£ç åˆ†æ**

1. åˆ›å»ºä¸€ä¸ªæ–°ç»“ç‚¹newNodeï¼Œå€¼ä¸ºå½“å‰æ ¹èŠ‚ç‚¹å€¼

2. å°†æ–°èŠ‚ç‚¹çš„å·¦å­æ ‘è®¾ç½®ä¸ºå½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘

   newNode.left = left

3. å°†æ–°èŠ‚ç‚¹çš„å³å­æ ‘è®¾ç½®ä¸ºå½“å‰èŠ‚ç‚¹çš„å³å­æ ‘çš„å·¦å­æ ‘

   newNode.right= right.left

4. å°†å½“å‰èŠ‚ç‚¹çš„å€¼ä¸ºå³å­èŠ‚ç‚¹çš„å€¼

   value = right.value

5. å°†å½“å‰èŠ‚ç‚¹çš„å³å­æ ‘è®¾ç½®ä¸ºå³å­æ ‘çš„å³å­æ ‘

   right = right .right

6. å°†å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘è®¾ç½®ä¸ºæ–°èŠ‚ç‚¹

   left = newNode



### å¹³è¡¡äºŒå‰æ ‘ - å•æ—‹è½¬ï¼ˆå³æ—‹è½¬ï¼‰

æ ¹æ®æ•°åˆ— {10,12, 8, 9, 7, 6}ï¼Œåˆ›å»ºå‡ºå¯¹åº”çš„å¹³è¡¡äºŒå‰æ ‘

ç»“ç‚¹çš„å³æ—‹è½¬

1. å°† A èŠ‚ç‚¹çš„ å·¦èŠ‚ç‚¹ çš„å·¦èŠ‚ç‚¹ ï¼ŒæŒ‡å‘ AèŠ‚ç‚¹
2. å°† AèŠ‚ç‚¹çš„ å·¦èŠ‚ç‚¹ï¼ŒæŒ‡å‘ A èŠ‚ç‚¹çš„å³èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹

**å·¦æ—‹è½¬åŸå› **

- å·¦å­æ ‘é«˜åº¦ æ¯” å³å­æ ‘é«˜åº¦ é«˜ ï¼Œå¹¶ä¸”é«˜åº¦å·®ç»å¯¹å€¼å¤§äº1

**å·¦æ—‹è½¬ç›®çš„**

- é™ä½å·¦å­æ ‘é«˜åº¦

**AVLæ ‘é«˜åº¦æ±‚è§£**

- æ€»çš„é«˜åº¦
- å³å­æ ‘é«˜åº¦
- å·¦å­æ ‘é«˜åº¦



**ä»£ç åˆ†æ**

1. åˆ›å»ºä¸€ä¸ªæ–°ç»“ç‚¹newNodeï¼Œå€¼ä¸ºå½“å‰æ ¹èŠ‚ç‚¹å€¼

2. å°†æ–°èŠ‚ç‚¹çš„å³å­æ ‘è®¾ç½®ä¸ºå½“å‰èŠ‚ç‚¹çš„å³å­æ ‘

   newNode.right= right

3. å°†æ–°èŠ‚ç‚¹çš„å·¦å­æ ‘è®¾ç½®ä¸ºå½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘çš„å³å­æ ‘

   newNode.left= left.right

4. å°†å½“å‰èŠ‚ç‚¹çš„å€¼ä¸ºå³å­èŠ‚ç‚¹çš„å€¼

   value = left.value

5. å°†å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘è®¾ç½®ä¸ºå·¦å­æ ‘çš„å·¦å­æ ‘

   left= left.left

6. å°†å½“å‰èŠ‚ç‚¹çš„å³å­æ ‘è®¾ç½®ä¸ºæ–°èŠ‚ç‚¹

   right= newNode



### å¹³è¡¡äºŒå‰æ ‘ - åŒæ—‹è½¬ï¼ˆå·¦å³æ—‹è½¬ï¼‰

è¿›è¡Œå•æ—‹è½¬(å³ä¸€æ¬¡æ—‹è½¬)å°±å¯ä»¥å°†éå¹³è¡¡äºŒå‰æ ‘è½¬æˆå¹³è¡¡äºŒå‰æ ‘, ä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå•æ—‹è½¬ä¸èƒ½å®Œæˆå¹³è¡¡äºŒ

å‰æ ‘çš„è½¬æ¢

![image-20220918162829954](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220918162829954.png)

**åŒæ—‹è½¬åŸå› åˆ†æ**

1. ç¬¦åˆå³æ—‹è½¬çš„æ¡ä»¶
2. å®ƒçš„å·¦å­æ ‘çš„å³å­æ ‘çš„é«˜åº¦å¤§äºå®ƒçš„å·¦å­æ ‘çš„é«˜åº¦
3. å¯¹å½“å‰è¿™ä¸ªç»“ç‚¹çš„å·¦èŠ‚ç‚¹è¿›è¡Œå·¦æ—‹è½¬
4. å†å¯¹å½“å‰ç»“ç‚¹è¿›è¡Œå³æ—‹è½¬

![image-20220918214116829](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220918214116829.png)

```java
package com.avl;

/**
 * @author Kcs 2022/9/18
 */
public class AvlTreeDemo {
    public static void main(String[] args) {
        //å·¦æ—‹è½¬æ•°ç»„
        int[] arrLeft = {4, 3, 6, 5, 7, 8};
        //å³æ—‹è½¬æ•°ç»„
        int[] arrRight = {10,12, 8, 9, 7, 6};
        //åŒæ—‹è½¬æ•°ç»„
        int[] arrDouble = {10,11, 7, 6, 8, 9};


        AvlTree avlTree = new AvlTree();

        for (int i = 0; i < arrDouble.length; i++) {
            avlTree.add(new Node(arrDouble[i]));
        }
        avlTree.infixOrder();

        System.out.println("å¹³è¡¡å¤„ç†å~~~");
        System.out.println("å½“å‰æ ¹èŠ‚ç‚¹æ ‘çš„é«˜åº¦=" + avlTree.getRoot().height());
        System.out.println("æ ‘çš„å·¦å­æ ‘çš„é«˜åº¦=" + avlTree.getRoot().leftHeight());
        System.out.println("æ ‘çš„å³å­æ ‘çš„é«˜åº¦=" + avlTree.getRoot().rightHeight());
        System.out.println("å½“å‰æ ¹èŠ‚ç‚¹= "+avlTree.getRoot());
        System.out.println("å½“å‰æ ¹èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹= "+avlTree.getRoot().left);
        System.out.println("å½“å‰æ ¹èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹= "+avlTree.getRoot().right);
    }
}

/**
 * AVLæ ‘
 */
class AvlTree {
    private Node root;

    public Node getRoot() {
        return root;
    }

    /**
     * æ·»åŠ ç»“ç‚¹
     * @param node ç»“ç‚¹
     */
    public void add(Node node) {
        if (root == null) {
            root = node;
        } else {
            root.add(node);
        }
    }

    /**
     * ä¸­åºéå†
     */
    public void infixOrder() {
        if (root != null) {
            root.infixOrder();
        } else {
            System.out.println("äºŒå‰æ’åºæ ‘ä¸ºç©ºï¼ï¼");
        }
    }

}

/**
 * ç»“ç‚¹
 */
class Node {
    /**
     * å€¼
     */
    int value;
    /**
     * å·¦å³ç»“ç‚¹
     */
    Node left;
    Node right;

    public Node(int value) {
        this.value = value;
    }

    @Override
    public String toString() {
        return "Node{" + "value=" + value + '}';
    }

    /**
     * è¿”å›å½“å‰èŠ‚ç‚¹çš„é«˜åº¦ï¼Œä»¥è¯¥èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹çš„æ ‘çš„é«˜åº¦
     * @return èŠ‚ç‚¹çš„é«˜åº¦
     */
    public int height() {
        return Math.max(left == null ? 0 : left.height(), right == null ? 0 : right.height()) + 1;
    }

    /**
     * è¿”å›å·¦å­æ ‘çš„é«˜åº¦
     * @return å·¦å­æ ‘é«˜åº¦
     */
    public int leftHeight() {
        if (left == null) {
            return 0;
        }
        return left.height();
    }

    /**
     * è¿”å›å³å­æ ‘çš„é«˜åº¦
     * @return å³å­æ ‘é«˜åº¦
     */
    public int rightHeight() {
        if (right == null) {
            return 0;
        }
        return right.height();
    }

    /**
     * å·¦æ—‹è½¬
     */
    private void leftRotate() {
        //1.åˆ›å»ºä¸€ä¸ªæ–°ç»“ç‚¹newNodeï¼Œå€¼ä¸ºå½“å‰æ ¹èŠ‚ç‚¹å€¼
        Node newNode = new Node(value);
        //2.å°†æ–°èŠ‚ç‚¹çš„å·¦å­æ ‘è®¾ç½®ä¸ºå½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘
        newNode.left = left;
        //3.å°†æ–°èŠ‚ç‚¹çš„å³å­æ ‘è®¾ç½®ä¸ºå½“å‰èŠ‚ç‚¹çš„å³å­æ ‘çš„å·¦å­æ ‘
        newNode.right = right.left;
        //4.å°†å½“å‰èŠ‚ç‚¹çš„å€¼æ¢ä¸ºå³å­èŠ‚ç‚¹çš„å€¼
        value = right.value;
        //5.å°†å½“å‰èŠ‚ç‚¹çš„å³å­æ ‘è®¾ç½®ä¸ºå³å­æ ‘çš„å³å­æ ‘
        right = right.right;
        //6.å°†å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘è®¾ç½®ä¸ºæ–°èŠ‚ç‚¹
        left = newNode;
    }

    /**
     * å³æ—‹è½¬
     */
    private void rightRotate() {
        // 1. åˆ›å»ºä¸€ä¸ªæ–°ç»“ç‚¹newNodeï¼Œå€¼ä¸ºå½“å‰æ ¹èŠ‚ç‚¹å€¼
        Node newNode = new Node(value);
        // 2. å°†æ–°èŠ‚ç‚¹çš„å³å­æ ‘è®¾ç½®ä¸ºå½“å‰èŠ‚ç‚¹çš„å³å­æ ‘
        newNode.right = right;
        // 3. å°†æ–°èŠ‚ç‚¹çš„å·¦å­æ ‘è®¾ç½®ä¸ºå½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘çš„å³å­æ ‘
        newNode.left = left.right;
        // 4. å°†å½“å‰èŠ‚ç‚¹çš„å€¼ä¸ºå³å­èŠ‚ç‚¹çš„å€¼
        value = left.value;
        // 5. å°†å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘è®¾ç½®ä¸ºå·¦å­æ ‘çš„å·¦å­æ ‘
        left = left.left;
        // 6. å°†å½“å‰èŠ‚ç‚¹çš„å³å­æ ‘è®¾ç½®ä¸ºæ–°èŠ‚ç‚¹
        right = newNode;
    }

    /**
     * æ·»åŠ ç»“ç‚¹
     * é€’å½’æ·»åŠ ç»“ç‚¹ï¼Œæ»¡è¶³äºŒå‰æ’åºæ ‘
     * @param node ç»“ç‚¹ä¿¡æ¯
     */
    public void add(Node node) {
        //ç»“ç‚¹ä¸ºç©º
        if (node == null) {
            return;
        }

        if (node.value < this.value) {
            //å½“å‰ç»“ç‚¹å·¦å­ç»“ç‚¹ä¸ºç©º
            if (this.left == null) {
                this.left = node;
            } else {
                //é€’å½’å·¦å­ç»“ç‚¹æ·»åŠ 
                this.left.add(node);
            }
        } else {
            //æ·»åŠ çš„ç»“ç‚¹å¤§äºå¤§äºå½“å‰ç»“ç‚¹çš„å€¼
            if (this.right == null) {
                //å³å­æ ‘ä¸ºç©ºï¼Œåˆ™æ·»åŠ åœ¨å³ç»“ç‚¹
                this.right = node;
            } else {
                //é€’å½’å‘å³æ·»åŠ 
                this.right.add(node);
            }
        }

        //å³å­æ ‘çš„é«˜åº¦ - å·¦å­æ ‘çš„é«˜åº¦ > 1ï¼Œåˆ™è¿›è¡Œå·¦æ—‹è½¬
        if (rightHeight() - leftHeight() > 1) {
            //å®ƒçš„å³å­æ ‘çš„ å·¦å­æ ‘çš„é«˜åº¦ å¤§äº å®ƒçš„å³å­æ ‘çš„ å³å­æ ‘çš„é«˜åº¦
            if (right != null && right.leftHeight() > right.rightHeight()) {
                //å…ˆå³å­æ ‘å³æ—‹è½¬
                right.rightRotate();
                //å†å¯¹å½“å‰ç»“ç‚¹è¿›è¡Œå·¦æ—‹è½¬
                leftRotate();
            }else {
                //ä¸æ»¡è¶³ï¼Œç›´æ¥è¿›è¡Œå·¦æ—‹è½¬
                leftRotate();
            }
            return;
        }

        //å·¦å­æ ‘çš„é«˜åº¦ - å³å­æ ‘çš„é«˜åº¦ > 1ï¼Œåˆ™è¿›è¡Œå³æ—‹è½¬
        if (leftHeight() - rightHeight() > 1) {
            //å®ƒçš„å·¦å­æ ‘çš„å³å­æ ‘çš„é«˜åº¦å¤§äºå®ƒçš„å·¦å­æ ‘çš„é«˜åº¦
            if (left != null && left.rightHeight() > left.leftHeight()) {
                //å½“å‰ç»“ç‚¹çš„å·¦å­æ ‘ï¼Œè¿›è¡Œå·¦æ—‹è½¬
                left.leftRotate();
                //å½“å‰ç»“ç‚¹è¿›è¡Œå³æ—‹è½¬
                rightRotate();
            }else {
                //ç›´æ¥è¿›è¡Œå³æ—‹è½¬
                rightRotate();
            }
        }
    }

    /**
     * ä¸­åºéå†
     */
    public void infixOrder() {
        if (this.left != null) {
            this.left.infixOrder();
        }
        System.out.println(this);
        if (this.right != null) {
            this.right.infixOrder();
        }
    }

}
```

# å¤šè·¯æŸ¥æ‰¾æ ‘

![image-20220918215002972](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220918215002972.png)



## å¤šå‰æ ‘

![image-20220918215105024](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220918215105024.png)

## Bæ ‘

 ![image-20220918215806241](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220918215806241.png)



ç»“ç‚¹çš„åº¦ï¼šé“¾æ¥æœ‰å¤šå°‘ä¸ªå­ç»“ç‚¹

æ ‘çš„åº¦ï¼šæ‰€æœ‰ç»“ç‚¹çš„åº¦ä¸­æœ€å¤§çš„åº¦



### Bæ ‘

B-treeæ ‘ ï¼šbæ ‘



![image-20220918222031151](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220918222031151.png)



1. Bæ ‘çš„é˜¶ï¼šèŠ‚ç‚¹çš„æœ€å¤šå­èŠ‚ç‚¹ä¸ªæ•°ã€‚æ¯”å¦‚2- 3æ ‘çš„é˜¶æ˜¯3ï¼Œ2-3-4æ ‘çš„é˜¶æ˜¯4 
2. B-æ ‘çš„æœç´¢ï¼Œä»æ ¹ç»“ç‚¹å¼€å§‹ï¼Œå¯¹ç»“ç‚¹å†…çš„ å…³é”®å­—ï¼ˆæœ‰åºï¼‰åºåˆ—è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œå¦‚æœ å‘½ä¸­åˆ™ç»“æŸï¼Œå¦åˆ™è¿›å…¥æŸ¥è¯¢å…³é”®å­—æ‰€å±èŒƒ å›´çš„å„¿å­ç»“ç‚¹ï¼›é‡å¤ï¼Œç›´åˆ°æ‰€å¯¹åº”çš„å„¿å­ æŒ‡é’ˆä¸ºç©ºï¼Œæˆ–å·²ç»æ˜¯å¶å­ç»“ç‚¹ 
3. å…³é”®å­—é›†åˆåˆ†å¸ƒåœ¨æ•´é¢—æ ‘ä¸­, å³å¶å­èŠ‚ç‚¹ å’Œéå¶å­èŠ‚ç‚¹éƒ½å­˜æ”¾æ•°æ®. 
4. æœç´¢æœ‰å¯èƒ½åœ¨éå¶å­ç»“ç‚¹ç»“æŸ 
5. å…¶æœç´¢æ€§èƒ½ç­‰ä»·äºåœ¨å…³é”®å­—å…¨é›†å†…åšä¸€æ¬¡ äºŒåˆ†æŸ¥æ‰¾



### B+æ ‘

Bæ ‘çš„å˜ä½“ï¼Œä¹Ÿæ˜¯ä¸€ç§å¤šè·¯æœç´¢æ ‘

![image-20220918222243157](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220918222243157.png)

1. B+æ ‘çš„æœç´¢ä¸Bæ ‘ä¹ŸåŸºæœ¬ç›¸åŒï¼ŒåŒºåˆ«æ˜¯B+æ ‘åªæœ‰è¾¾åˆ°å¶ å­ç»“ç‚¹æ‰å‘½ä¸­ï¼ˆBæ ‘å¯ä»¥åœ¨éå¶å­ç»“ç‚¹å‘½ä¸­ï¼‰ï¼Œå…¶æ€§èƒ½ ä¹Ÿç­‰ä»·äºåœ¨å…³é”®å­—å…¨é›†åšä¸€æ¬¡äºŒåˆ†æŸ¥æ‰¾ 
2. æ‰€æœ‰å…³é”®å­—éƒ½å‡ºç°åœ¨å¶å­ç»“ç‚¹çš„é“¾è¡¨ä¸­ï¼ˆå³æ•°æ®åª èƒ½åœ¨å¶å­èŠ‚ç‚¹ã€ä¹Ÿå«ç¨ å¯†ç´¢å¼•ã€‘ï¼‰ï¼Œä¸”é“¾è¡¨ä¸­çš„å…³ é”®å­—(æ•°æ®)æ°å¥½æ˜¯æœ‰åºçš„ã€‚ 
3. ä¸å¯èƒ½åœ¨éå¶å­ç»“ç‚¹å‘½ä¸­ 
4. éå¶å­ç»“ç‚¹ç›¸å½“äºæ˜¯å¶å­ç»“ç‚¹çš„ç´¢å¼•ï¼ˆç¨€ç–ç´¢å¼•ï¼‰ï¼Œ å¶å­ç»“ç‚¹ç›¸å½“äºæ˜¯å­˜å‚¨ï¼ˆå…³é”®å­—ï¼‰æ•°æ®çš„æ•°æ®å±‚ 
5. æ›´é€‚åˆæ–‡ä»¶ç´¢å¼•ç³»ç»Ÿ 
6. Bæ ‘å’ŒB+æ ‘å„æœ‰è‡ªå·±çš„åº”ç”¨åœºæ™¯ï¼Œä¸èƒ½è¯´B+æ ‘å®Œå…¨ æ¯”Bæ ‘å¥½ï¼Œåä¹‹äº¦ç„¶.

### B*æ ‘

B*æ ‘æ˜¯B+æ ‘çš„å˜ä½“ï¼Œåœ¨B+æ ‘çš„éæ ¹å’Œéå¶å­ç»“ç‚¹å†å¢åŠ æŒ‡å‘å…„å¼Ÿçš„æŒ‡é’ˆ

![image-20220918222506625](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220918222506625.png)

1. B*æ ‘å®šä¹‰äº†éå¶å­ç»“ç‚¹å…³é”®å­—ä¸ªæ•°è‡³å°‘ä¸º (2/3)*Mï¼Œå³å—çš„æœ€ä½ä½¿ç”¨ç‡ä¸º2/3ï¼Œè€ŒB+æ ‘ çš„å—çš„æœ€ä½ä½¿ç”¨ç‡ä¸ºB+æ ‘çš„1/2ã€‚ 
2. ä»ç¬¬1ä¸ªç‰¹ç‚¹æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼ŒB*æ ‘åˆ†é…æ–°ç»“ç‚¹ çš„æ¦‚ç‡æ¯”B+æ ‘è¦ä½ï¼Œç©ºé—´ä½¿ç”¨ç‡æ›´é«˜



## 2-3 æ ‘ 

æœ€ç®€å•çš„Bæ ‘ç»“æ„



### ç‰¹ç‚¹

1. 2-3æ ‘çš„æ‰€æœ‰å¶å­èŠ‚ç‚¹éƒ½åœ¨åŒä¸€å±‚.(åªè¦æ˜¯Bæ ‘éƒ½æ»¡è¶³è¿™ä¸ªæ¡ä»¶)
2. æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹çš„èŠ‚ç‚¹å«äºŒèŠ‚ç‚¹ï¼ŒäºŒèŠ‚ç‚¹è¦ä¹ˆæ²¡æœ‰å­èŠ‚ç‚¹ï¼Œè¦ä¹ˆæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹.
3. æœ‰ä¸‰ä¸ªå­èŠ‚ç‚¹çš„èŠ‚ç‚¹å«ä¸‰èŠ‚ç‚¹ï¼Œä¸‰èŠ‚ç‚¹è¦ä¹ˆæ²¡æœ‰å­èŠ‚ç‚¹ï¼Œè¦ä¹ˆæœ‰ä¸‰ä¸ªå­èŠ‚ç‚¹.
4. 2-3æ ‘æ˜¯ç”±äºŒèŠ‚ç‚¹å’Œä¸‰èŠ‚ç‚¹æ„æˆçš„æ ‘ã€‚



### åˆ†æ

å°†æ•°åˆ—{16, 24, 12, 32, 14, 26, 34, 10, 8, 28, 38, 20} æ„å»ºæˆ2-3æ ‘ï¼Œå¹¶ä¿è¯æ•°æ®æ’å…¥çš„ å¤§å°é¡ºåº



1. 2-3æ ‘çš„æ‰€æœ‰å¶å­èŠ‚ç‚¹éƒ½åœ¨åŒä¸€å±‚.(åªè¦ æ˜¯Bæ ‘éƒ½æ»¡è¶³è¿™ä¸ªæ¡ä»¶)
2. æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹çš„èŠ‚ç‚¹å«äºŒèŠ‚ç‚¹ï¼ŒäºŒèŠ‚ç‚¹ è¦ä¹ˆæ²¡æœ‰å­èŠ‚ç‚¹ï¼Œè¦ä¹ˆæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹.
3. æœ‰ä¸‰ä¸ªå­èŠ‚ç‚¹çš„èŠ‚ç‚¹å«ä¸‰èŠ‚ç‚¹ï¼Œä¸‰èŠ‚ç‚¹ è¦ä¹ˆæ²¡æœ‰å­èŠ‚ç‚¹ï¼Œè¦ä¹ˆæœ‰ä¸‰ä¸ªå­èŠ‚ç‚¹
4. å½“æŒ‰ç…§è§„åˆ™æ’å…¥ä¸€ä¸ªæ•°åˆ°æŸä¸ªèŠ‚ç‚¹æ—¶ï¼Œ ä¸èƒ½æ»¡è¶³ä¸Šé¢ä¸‰ä¸ªè¦æ±‚ï¼Œå°±éœ€è¦æ‹†ï¼Œå…ˆ å‘ä¸Šæ‹†ï¼Œå¦‚æœä¸Šå±‚æ»¡ï¼Œåˆ™æ‹†æœ¬å±‚ï¼Œæ‹†å ä»ç„¶éœ€è¦æ»¡è¶³ä¸Šé¢3ä¸ªæ¡ä»¶ã€‚
5. å¯¹äºä¸‰èŠ‚ç‚¹çš„å­æ ‘çš„å€¼å¤§å°ä»ç„¶éµå®ˆ (BST äºŒå‰æ’åºæ ‘)çš„è§„åˆ™

# å›¾

è¡¨ç¤ºå¤šå¯¹å¤šçš„å…³ç³»

å›¾æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå…¶ä¸­ç»“ç‚¹å¯ä»¥å…·æœ‰é›¶ä¸ªæˆ–å¤šä¸ªç›¸é‚»å…ƒç´ ã€‚

- è¾¹ï¼ˆedgeï¼‰ï¼šä¸¤ä¸ªç»“ç‚¹ä¹‹é—´çš„è¿æ¥
- é¡¶ç‚¹ï¼ˆvertexï¼‰ï¼šç»“ç‚¹
- è·¯å¾„ï¼š
- æ— å‘å›¾ï¼š

![image-20220919200615388](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220919200615388.png)

- æœ‰å‘å›¾

- å¸¦æƒå›¾

  ![image-20220919200731543](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220919200731543.png)

## å›¾çš„è¡¨ç¤ºæ–¹å¼



### ä¸€ã€é‚»æ¥çŸ©é˜µï¼ˆäºŒç»´æ•°ç»„ï¼‰

- è¡¨ç¤ºå›¾å½¢ä¸­é¡¶ç‚¹ä¹‹é—´ç›¸é‚»å…³ç³»çš„çŸ©é˜µï¼Œå¯¹äºnä¸ªé¡¶ç‚¹çš„å›¾è€Œè¨€ï¼ŒçŸ©é˜µæ˜¯ çš„rowå’Œcolè¡¨ç¤ºçš„æ˜¯1....nä¸ªç‚¹

  ![image-20220919201027586](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220919201027586.png)



- 0ï¼šæ²¡æœ‰ç›´æ¥é“¾æ¥
- 1ï¼šæœ‰ç›´æ¥é“¾æ¥



### äºŒã€é‚»æ¥è¡¨ï¼ˆé“¾è¡¨ï¼‰

1. **é‚»æ¥çŸ©é˜µ**éœ€è¦ä¸ºæ¯ä¸ªé¡¶ç‚¹éƒ½åˆ†é…nä¸ªè¾¹çš„ç©ºé—´ï¼Œå…¶å®æœ‰å¾ˆå¤šè¾¹éƒ½æ˜¯ä¸å­˜åœ¨,ä¼šé€  æˆç©ºé—´çš„ä¸€å®šæŸå¤±
2. é‚»æ¥è¡¨çš„å®ç°åªå…³å¿ƒå­˜åœ¨çš„è¾¹ï¼Œä¸å…³å¿ƒä¸å­˜åœ¨çš„è¾¹ã€‚å› æ­¤æ²¡æœ‰ç©ºé—´æµªè´¹ï¼Œé‚»æ¥ è¡¨ç”±æ•°ç»„+é“¾è¡¨ç»„æˆ

![image-20220919201256912](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220919201256912.png)



## å›¾çš„åˆ›å»º



### åˆ†æ

1. å­˜å‚¨é¡¶ç‚¹String ä½¿ç”¨ArraList
2. ä¿å­˜çŸ©é˜µ int [ ] [ ] edges



## å›¾çš„éå†



### æ·±åº¦ä¼˜å…ˆéå†ï¼ˆDFSï¼‰

1. æ·±åº¦ä¼˜å…ˆéå†ï¼Œä»åˆå§‹è®¿é—®ç»“ç‚¹å‡ºå‘ï¼Œåˆå§‹è®¿é—®ç»“ç‚¹å¯èƒ½æœ‰å¤šä¸ªé‚»æ¥ç»“ç‚¹ï¼Œæ·±åº¦ä¼˜å…ˆéå†çš„ç­–ç•¥å°±æ˜¯é¦–å…ˆè®¿é—®ç¬¬ä¸€ä¸ªé‚»æ¥ç»“ç‚¹ï¼Œç„¶åå†ä»¥è¿™ä¸ªè¢«è®¿é—®çš„é‚»æ¥ ç»“ç‚¹ä½œä¸ºåˆå§‹ç»“ç‚¹ï¼Œè®¿é—®å®ƒçš„ç¬¬ä¸€ä¸ªé‚»æ¥ç»“ç‚¹ï¼Œï¼ˆæ¯æ¬¡éƒ½åœ¨è®¿é—®å®Œå½“å‰ç»“ç‚¹åé¦–å…ˆè®¿é—®å½“å‰ç»“ç‚¹çš„ç¬¬ä¸€ä¸ªé‚»æ¥ç»“ç‚¹ï¼‰
2. ä¼˜å…ˆå¾€çºµå‘æŒ–æ˜æ·±å…¥ï¼Œè€Œä¸æ˜¯å¯¹ä¸€ä¸ªç»“ç‚¹çš„ æ‰€æœ‰é‚»æ¥ç»“ç‚¹è¿›è¡Œæ¨ªå‘è®¿é—®
3. æ·±åº¦ä¼˜å…ˆæœç´¢æ˜¯ä¸€ä¸ªé€’å½’è¿‡ç¨‹



**DFSç®—æ³•éå†æ­¥éª¤**

1. è®¿é—®åˆå§‹ç»“ç‚¹vï¼Œå¹¶æ ‡è®°ç»“ç‚¹vä¸ºå·²è®¿é—®
2. æŸ¥æ‰¾ç»“ç‚¹vçš„ç¬¬ä¸€ä¸ªé‚»æ¥ç»“ç‚¹w
3. è‹¥wå­˜åœ¨ï¼Œåˆ™ç»§ç»­æ‰§è¡Œ4ï¼Œå¦‚æœwä¸å­˜åœ¨ï¼Œåˆ™å›åˆ°ç¬¬1æ­¥ï¼Œå°†ä»vçš„ä¸‹ä¸€ä¸ªç»“ç‚¹ç»§ç»­
4. è‹¥wæœªè¢«è®¿é—®ï¼Œå¯¹wè¿›è¡Œæ·±åº¦ä¼˜å…ˆéå†é€’å½’ï¼ˆå³æŠŠwå½“åšå¦ä¸€ä¸ªvï¼Œç„¶åè¿›è¡Œæ­¥éª¤123ï¼‰
5. æŸ¥æ‰¾ç»“ç‚¹vçš„wé‚»æ¥ç»“ç‚¹çš„ä¸‹ä¸€ä¸ªé‚»æ¥ç»“ç‚¹ï¼Œè½¬åˆ°æ­¥éª¤3

![image-20220919213943423](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220919213943423.png)



### å¹¿åº¦ä¼˜å…ˆéå†ï¼ˆBFSï¼‰

åˆ†å±‚æœç´¢çš„è¿‡ç¨‹ï¼Œå¹¿åº¦ä¼˜å…ˆéå†éœ€è¦ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—ä»¥ä¿æŒè®¿é—®è¿‡çš„ç»“ç‚¹çš„é¡ºåºï¼Œ ä»¥ä¾¿æŒ‰è¿™ä¸ªé¡ºåºæ¥è®¿é—®è¿™äº›ç»“ç‚¹çš„é‚»æ¥ç»“ç‚¹ã€‚



**BFSç®—æ³•éå†æ­¥éª¤**

1. è®¿é—®åˆå§‹ç»“ç‚¹vå¹¶æ ‡è®°ç»“ç‚¹vä¸ºå·²è®¿é—®
2. ç»“ç‚¹vå…¥é˜Ÿåˆ—
3. å½“é˜Ÿåˆ—éç©ºæ—¶ï¼Œç»§ç»­æ‰§è¡Œï¼Œå¦åˆ™ç®—æ³•ç»“æŸ
4. å‡ºé˜Ÿåˆ—ï¼Œå–å¾—é˜Ÿå¤´ç»“ç‚¹u
5. æŸ¥æ‰¾ç»“ç‚¹uçš„ç¬¬ä¸€ä¸ªé‚»æ¥ç»“ç‚¹w
6. è‹¥ç»“ç‚¹uçš„é‚»æ¥ç»“ç‚¹wä¸å­˜åœ¨ï¼Œåˆ™è½¬åˆ°æ­¥éª¤3ï¼›å¦åˆ™å¾ªç¯æ‰§è¡Œä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤æŸ¥æ‰¾ç»“ç‚¹uçš„ç¬¬ä¸€ä¸ªé‚»æ¥ç»“ç‚¹w
   1. è‹¥ç»“ç‚¹wå°šæœªè¢«è®¿é—®ï¼Œåˆ™è®¿é—®ç»“ç‚¹wå¹¶æ ‡è®°ä¸ºå·²è®¿é—®
   2. ç»“ç‚¹wå…¥é˜Ÿåˆ—
   3. æŸ¥æ‰¾ç»“ç‚¹uçš„ç»§wé‚»æ¥ç»“ç‚¹åçš„ä¸‹ä¸€ä¸ªé‚»æ¥ç»“ç‚¹wï¼Œè½¬åˆ°æ­¥éª¤6

![image-20220919213930379](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220919213930379.png)



### DFSä¸BFSæ¯”è¾ƒ

![image-20220919221339514](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220919221339514.png)



å›¾çš„å®ç°ä»£ç ï¼š

```java
package com.graph;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.LinkedList;

/**
 * @author Kcs 2022/9/19
 */
public class Graph {

    /**
     * å­˜å‚¨é¡¶ç‚¹
     */
    private ArrayList<String> vertexList;

    /**
     * å­˜å‚¨å›¾å¯¹åº”çš„é‚»æ¥çŸ©é˜µ
     */
    private int[][] edges;

    /**
     * è¾¹æ•°ç›®
     */
    private int numOfEdges;

    /**
     * è®°å½•ç»“ç‚¹æ˜¯å¦è¢«è®¿é—®åˆ°
     */
    private boolean[] isVisited;

    public static void main(String[] args) {

        //ç»“ç‚¹ä¸ªæ•°
        int n = 9;
        //é¡¶ç‚¹
        String[] vertexs = {"A", "B", "C", "D", "E"};
        //dfsä¸bfsæ¯”è¾ƒ
        // String[] vertexs = {"1", "2", "3", "4", "5","6", "7", "8"};
        //å›¾å¯¹è±¡
        Graph graph = new Graph(n);

        //æ·»åŠ é¡¶ç‚¹
        for (String value : vertexs) {
            graph.insertVertex(value);
        }
        //æ·»åŠ è¾¹
        graph.insertEdge(0, 1, 1);
        graph.insertEdge(0, 2, 1);
        graph.insertEdge(1, 2, 1);
        graph.insertEdge(1, 3, 1);
        graph.insertEdge(1, 4, 1);

        //dfsä¸bfsæ¯”è¾ƒ
        // graph.insertEdge(0, 1, 1);
        // graph.insertEdge(0, 2, 1);
        // graph.insertEdge(1, 3, 1);
        // graph.insertEdge(1, 4, 1);
        // graph.insertEdge(3, 7, 1);
        // graph.insertEdge(4, 7, 1);
        // graph.insertEdge(2, 5, 1);
        // graph.insertEdge(2, 6, 1);
        // graph.insertEdge(5, 6, 1);
        
        //æ˜¾ç¤ºå›¾
        graph.showGraph();

        //dfséå†
        System.out.println("================æ·±åº¦ä¼˜å…ˆéå†================");
        graph.dfs();
        System.out.println();

        //bfséå†
        System.out.println("================å¹¿åº¦ä¼˜å…ˆéå†================");
        graph.bfs();
    }

    /**
     * æ„é€ å™¨
     * @param n
     */
    public Graph(int n) {
        //åˆå§‹åŒ–çŸ©é˜µ
        edges = new int[n][n];
        //åˆå§‹åŒ–å­˜å‚¨é¡¶ç‚¹
        vertexList = new ArrayList<String>(n);

        numOfEdges = 0;


    }

    /**
     * ç¬¬ä¸€ä¸ªé‚»æ¥ç»“ç‚¹çš„ä¸‹æ ‡ w
     * @param index
     * @return è¿”å›å¯¹åº”çš„ä¸‹æ ‡
     */
    public int getFirstNeighbor(int index) {
        for (int j = 0; j < vertexList.size(); j++) {
            if (edges[index][j] > 0) {
                return j;
            }
        }
        return -1;
    }

    /**
     * æ ¹æ®å‰ä¸€é‚»æ¥ç»“ç‚¹çš„ä¸‹æ ‡è·å–ä¸‹ä¸€ä¸ªé‚»æ¥ç»“ç‚¹
     * @param v1
     * @param v2
     * @return ä¸‹ä¸€ä¸ªç»“ç‚¹çš„ä¸‹æ ‡
     */
    public int getNextNeighbor(int v1, int v2) {
        for (int j = v2 + 1; j < vertexList.size(); j++) {
            if (edges[v1][j] > 0) {
                return j;
            }
        }
        return -1;
    }

    /**
     * æ·±åº¦ä¼˜å…ˆéå†ç®—æ³•
     * @param isVisited è®¿é—®çš„ç»“ç‚¹
     * @param i é¦–æ¬¡ä¸º0
     */
    private void dfs(boolean[] isVisited, int i) {
        //è®¿é—®ç»“ç‚¹
        System.out.print(getValueByIndex(i) + "â€”>");

        //è®¾ç½®ç»“ç‚¹ä¸ºå·²ç»è®¿é—®çš„ç»“ç‚¹
        isVisited[i] = true;
        //æŸ¥æ‰¾ç»“ç‚¹ i çš„ç¬¬ä¸€ä¸ªé‚»æ¥ç»“ç‚¹
        int w = getFirstNeighbor(i);
        while (w != -1) {
            //å­˜åœ¨ä½†è¿˜æ²¡æœ‰è®¿é—®
            if (!isVisited[w]) {
                dfs(isVisited, w);
            }
            //wç»“ç‚¹è¢«è®¿é—®è¿‡
            w = getNextNeighbor(i, w);
        }
    }

    /**
     * é‡è½½dfs,éå†æ‰€æœ‰çš„ç»“ç‚¹ï¼Œè¿›è¡Œdfs
     */
    public void dfs() {
        //è®¿é—®çš„ç»“ç‚¹
        isVisited = new boolean[vertexList.size()];
        //éå†æ‰€æœ‰çš„ç»“ç‚¹ï¼Œå›æº¯
        for (int i = 0; i < getNumOfVertex(); i++) {
            if (!isVisited[i]) {
                dfs(isVisited, i);
            }
        }
    }

    /**
     * å¯¹ç»“ç‚¹è¿›è¡Œå¹¿åº¦ä¼˜å…ˆéå†
     */
    private void bfs(boolean[] isVisited, int i) {
        //é˜Ÿåˆ—å¤´èŠ‚ç‚¹å¯¹åº”çš„ä¸‹æ ‡
        int u;
        //é‚»æ¥ç»“ç‚¹çš„ä¸‹æ ‡
        int w;
        //é˜Ÿåˆ—ï¼Œç»“ç‚¹è®¿é—®çš„é¡ºåº
        LinkedList queue = new LinkedList();
        //è®¿é—®ç»“ç‚¹
        System.out.print(getValueByIndex(i) + "=>");
        //æ ‡è®°isVisited
        isVisited[i] = true;

        //ç»“ç‚¹å…¥é˜Ÿåˆ—
        queue.addLast(i);

        //é˜Ÿåˆ—ä¸ä¸ºç©º
        while (!queue.isEmpty()) {
            //å–å‡ºå¤´ç»“ç‚¹
            u = (Integer) queue.removeFirst();
            //å¾—åˆ°ç¬¬ä¸€é‚»æ¥ç»“ç‚¹çš„ä¸‹æ ‡ w
            w = getFirstNeighbor(u);
            //w å­˜åœ¨
            while (w != -1) {
                //å­˜åœ¨ä½†è¿˜æ²¡æœ‰è®¿é—®
                if (!isVisited[w]) {
                    System.out.print(getValueByIndex(w) + "=>");
                    isVisited[w] = true;
                    //å…¥é˜Ÿ
                    queue.addLast(w);
                }
                //ä»¥uä¸ºå‰é©±ï¼ˆæˆ–è€…éç›´æ¥å‰é©±ï¼‰ç»“ç‚¹ï¼Œæ‰¾wåé¢çš„ä¸‹ä¸€ä¸ªç»“ç‚¹
                w = getNextNeighbor(u, w);
            }
        }
    }

    /**
     * é‡è½½bfsï¼Œéå†æ‰€æœ‰ç»“ç‚¹ï¼Œè¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢
     */
    public void bfs() {
        //è®¿é—®çš„ç»“ç‚¹
        isVisited = new boolean[vertexList.size()];
        for (int i = 0; i < getNumOfVertex(); i++) {
            if (!isVisited[i]) {
                bfs(isVisited, i);
            }
        }
    }

    /**
     * æ’å…¥é¡¶ç‚¹
     * @param vertex é¡¶ç‚¹å€¼
     */
    public void insertVertex(String vertex) {
        vertexList.add(vertex);
    }

    /**
     * æ·»åŠ è¾¹
     * @param v1 ç¬¬ä¸€ä¸ªé¡¶ç‚¹çš„ä¸‹æ ‡ï¼š0å¼€å§‹
     * @param v2 ç¬¬äºŒä¸ªé¡¶ç‚¹çš„ä¸‹æ ‡ï¼š0å¼€å§‹
     * @param weight æƒå€¼
     */
    public void insertEdge(int v1, int v2, int weight) {
        edges[v1][v2] = weight;
        edges[v2][v1] = weight;
    }

    /**
     * è¿”å›ç»“ç‚¹çš„ä¸ªæ•°
     */
    public int getNumOfVertex() {
        return vertexList.size();
    }

    /**
     * è¿”å›è¾¹çš„æ•°ç›®
     */
    public int getNumOfEdges() {
        return numOfEdges;
    }

    /**
     * è¿”å›ç»“ç‚¹çš„ä¸‹æ ‡
     */
    public String getValueByIndex(int i) {
        return vertexList.get(i);
    }

    /**
     * è¿”å›v1 ã€v2çš„æƒå€¼
     */
    public int getWeight(int v1, int v2) {
        return edges[v1][v2];
    }

    /**
     * æ˜¾ç¤ºå›¾
     */
    public void showGraph() {
        for (int[] link : edges) {
            System.err.println(Arrays.toString(link));
        }
    }

}
```





# åå¤§ç®—æ³•

1. äºŒåˆ†æŸ¥æ‰¾ç®—æ³•
2. åˆ†æ²»ç®—æ³•
3. åŠ¨æ€è§„åˆ’ç®—æ³•
4. KMPç®—æ³•
5. è´ªå¿ƒç®—æ³•
6. æ™®åˆ©å§†ç®—æ³•
7. å…‹é²æ–¯å¡å°”ç®—æ³•
8. è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•
9. å¼—æ´›ä¼Šå¾·ç®—æ³•
10. é©¬è¸æ£‹ç›˜ç®—æ³•



# äºŒåˆ†æŸ¥æ‰¾ç®—æ³•

éé€’å½’æ–¹å¼

- äºŒåˆ†æŸ¥æ‰¾æ³•åªé€‚ç”¨äºä»æœ‰åºçš„æ•°åˆ—ä¸­è¿›è¡ŒæŸ¥æ‰¾(æ¯”å¦‚æ•°å­—å’Œå­—æ¯ç­‰)ï¼Œå°†æ•°åˆ—æ’ åºåå†è¿›è¡ŒæŸ¥æ‰¾
- äºŒåˆ†æŸ¥æ‰¾æ³•çš„è¿è¡Œæ—¶é—´ä¸ºå¯¹æ•°æ—¶é—´O(ã’â‚‚^n^) ï¼Œå³æŸ¥æ‰¾åˆ°éœ€è¦çš„ç›®æ ‡ä½ç½®æœ€å¤šåªéœ€ è¦ã’â‚‚^n^æ­¥ï¼Œå‡è®¾ä»[0,99]çš„é˜Ÿåˆ—(100ä¸ªæ•°ï¼Œå³n=100)ä¸­å¯»åˆ°ç›®æ ‡æ•°30ï¼Œåˆ™éœ€è¦æŸ¥ æ‰¾æ­¥æ•°ä¸ºã’â‚‚^100^ , å³æœ€å¤šéœ€è¦æŸ¥æ‰¾7æ¬¡( 2^6^ < 100 < 2^7^)



## éé€’å½’å®ç°äºŒåˆ†æŸ¥æ‰¾ç®—æ³•

æ•°ç»„{1ï¼Œ3ï¼Œ8ï¼Œ10ï¼Œ11ï¼Œ67ï¼Œ100}

```java
package com.kcs.binarysearchnoresursion;

/**
 * @author Kcs 2022/9/21
 */
public class BinarySearchNoRecur {
    public static void main(String[] args) {
        int[] arr = {1, 3, 8, 10, 11, 67, 100};
        int index = binarySearch(arr, 20);
        System.out.println("index = " + index);
    }


    /**
     * äºŒåˆ†æŸ¥æ‰¾ç®—æ³•éé€’å½’
     * @param arr æŸ¥æ‰¾çš„æ•°ç»„
     * @param target æŸ¥æ‰¾çš„ç›®æ ‡
     * @return index
     */
    public static int binarySearch(int[] arr, int target) {
        int left = 0;
        int right = arr.length - 1;
        while (left <= right) {
            //ä¸­é—´å€¼
            int mid = (left + right) / 2;
            //ä¸­é—´å°±æ˜¯æŸ¥æ‰¾çš„å€¼
            if (arr[mid] == target) {
                return mid;
            } else if (arr[mid] > target) {
                //å‘å·¦æŸ¥æ‰¾
                right = mid - 1;
            } else {
                //å‘å³æŸ¥æ‰¾
                left = mid + 1;
            }
        }
        return -1;
    }
}
```

# åˆ†æ²»ç®—æ³•ï¼ˆDACï¼‰



## ä»‹ç»

- åˆ†è€Œæ²»ä¹‹
- æŠŠä¸€ä¸ªå¤æ‚çš„é—®é¢˜åˆ† æˆä¸¤ä¸ªæˆ–æ›´å¤šçš„ç›¸åŒæˆ–ç›¸ä¼¼çš„å­é—®é¢˜ï¼Œå†æŠŠå­é—®é¢˜åˆ†æˆæ›´å°çš„å­é—®é¢˜â€¦â€¦ç›´åˆ°æœ€åå­é—®é¢˜ å¯ä»¥ç®€å•çš„ç›´æ¥æ±‚è§£ï¼ŒåŸé—®é¢˜çš„è§£å³å­é—®é¢˜çš„è§£çš„åˆå¹¶

### æ±‚è§£ç»å…¸é—®é¢˜

1. äºŒåˆ†æœç´¢
2. å¤§æ•´æ•°ä¹˜æ³•
3. æ£‹ç›˜è¦†ç›–
4. åˆå¹¶æ’åº
5. å¿«é€Ÿæ’åº
6. çº¿æ€§æ—¶é—´é€‰æ‹©
7. æœ€æ¥è¿‘ç‚¹é—®é¢˜
8. å¾ªç¯èµ›æ—¥ç¨‹è¡¨
9. æ±‰è¯ºå¡”



## æ­¥éª¤

åˆ†æ²»æ³•æ¯ä¸€å±‚é€’å½’éƒ½æœ‰ä¸‰ä¸ªæ­¥éª¤

1. åˆ†è§£ï¼šå°†åŸé—®é¢˜åˆ†è§£ä¸ºè‹¥å¹²ä¸ªè§„æ¨¡è¾ƒå°ï¼Œç›¸äº’ç‹¬ç«‹ï¼Œä¸åŸé—®é¢˜å½¢å¼ç›¸åŒçš„å­é—®é¢˜
2. è§£å†³ï¼šè‹¥å­é—®é¢˜è§„æ¨¡è¾ƒå°è€Œå®¹æ˜“è¢«è§£å†³åˆ™ç›´æ¥è§£ï¼Œå¦åˆ™é€’å½’åœ°è§£å„ä¸ªå­é—®é¢˜
3. åˆå¹¶ï¼šå°†å„ä¸ªå­é—®é¢˜çš„è§£åˆå¹¶ä¸ºåŸé—®é¢˜çš„è§£

![image-20220919224538606](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220919224538606.png)



![image-20220919225902477](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220919225902477.png)



## æ±‰è¯ºå¡”åˆ†æ

![image-20220919230241177](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220919230241177.png)

1. å¦‚æœæ˜¯æœ‰ä¸€ä¸ªç›˜ï¼Œ A->C
   - å¦‚æœæˆ‘ä»¬æœ‰ n >= 2 æƒ…å†µï¼Œæˆ‘ä»¬æ€»æ˜¯å¯ä»¥çœ‹åšæ˜¯ä¸¤ä¸ªç›˜ 1.æœ€ä¸‹è¾¹çš„ç›˜ 2. ä¸Šé¢çš„ç›˜
2. å…ˆæŠŠ æœ€ä¸Šé¢çš„ç›˜ A->B
3. æŠŠæœ€ä¸‹è¾¹çš„ç›˜ A->C
4. æŠŠBå¡”çš„æ‰€æœ‰ç›˜ä» B->C

```java
package com.kcs.dac;

/**
 * @author Kcs 2022/9/21
 */
public class HanoiTower {

    private static int count = 0;

    public static void main(String[] args) {
        hanoiTower(5, 'A', 'B', 'C');
        System.out.println("ç§»åŠ¨æ­¥æ•°ï¼š"+count);
    }
    
    /**
     * åˆ†æ²»ç®—æ³•
     * ç§»åŠ¨æ±‰è¯ºå¡”
     * @param num æ€»å…±å‡ ä¸ªç›˜
     * @param a a ã€bã€cæŸ±å­
     * @param b
     * @param c
     */
    public static void hanoiTower(int num, char a, char b, char c) {
        count++;
        //åªæœ‰ä¸€ä¸ªç›˜
        if (num == 1) {
            System.out.println("ç¬¬1ä¸ªç›˜ä» " + a + "->" + c);
        } else {
            //num >2æ—¶
            //A->B,æœ€ä¸Šé¢çš„ç›˜
            hanoiTower(num - 1, a, c, b);
            //A->C æœ€ä¸‹é¢çš„ç›˜
            System.out.println("ç¬¬" + num + "ä¸ªç›˜ä» " + a + "->" + c);
            //B->C Bå¡”çš„ç›˜
            hanoiTower(num - 1, b, a, c);
        }
    }
}
```

# åŠ¨æ€è§„åˆ’ç®—æ³•ï¼ˆDPï¼‰

ï¼ˆDynamic Programmingï¼‰

## ä»‹ç»

1. å°†å¤§é—®é¢˜åˆ’åˆ†ä¸ºå°é—®é¢˜è¿› è¡Œè§£å†³ï¼Œä»è€Œä¸€æ­¥æ­¥è·å–æœ€ä¼˜è§£çš„å¤„ç†ç®—æ³•
2. å°†å¾…æ±‚è§£é—®é¢˜åˆ†è§£æˆè‹¥å¹²ä¸ªå­ é—®é¢˜ï¼Œå…ˆæ±‚è§£å­é—®é¢˜ï¼Œç„¶åä»è¿™äº›å­é—®é¢˜çš„è§£å¾—åˆ°åŸé—®é¢˜çš„è§£
3. ä¸åˆ†æ²»æ³•ä¸åŒçš„æ˜¯ï¼Œé€‚åˆäºç”¨åŠ¨æ€è§„åˆ’æ±‚è§£çš„é—®é¢˜ï¼Œç»åˆ†è§£å¾—åˆ°å­é—®é¢˜å¾€å¾€ä¸ æ˜¯äº’ç›¸ç‹¬ç«‹çš„ã€‚ ( å³ä¸‹ä¸€ä¸ªå­é˜¶æ®µçš„æ±‚è§£æ˜¯å»ºç«‹åœ¨ä¸Šä¸€ä¸ªå­é˜¶æ®µçš„è§£çš„åŸºç¡€ä¸Šï¼Œ è¿›è¡Œè¿›ä¸€æ­¥çš„æ±‚è§£ )
4. åŠ¨æ€è§„åˆ’å¯ä»¥é€šè¿‡å¡«è¡¨çš„æ–¹å¼æ¥é€æ­¥æ¨è¿›ï¼Œå¾—åˆ°æœ€ä¼˜è§£ã€‘

## åŠ¨æ€è§„åˆ’--èƒŒåŒ…é—®é¢˜

![image-20220919230600384](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220919230600384.png)

### åˆ†æ

1. èƒŒåŒ…é—®é¢˜ä¸»è¦æ˜¯æŒ‡ä¸€ä¸ªç»™å®šå®¹é‡çš„èƒŒåŒ…ã€è‹¥å¹²å…·æœ‰ä¸€å®šä»·å€¼å’Œé‡é‡çš„ç‰©å“ï¼Œå¦‚ä½•é€‰ æ‹©ç‰©å“æ”¾å…¥èƒŒåŒ…ä½¿ç‰©å“çš„ä»·å€¼æœ€å¤§ã€‚å…¶ä¸­åˆåˆ†01èƒŒåŒ…å’Œå®Œå…¨èƒŒåŒ…(å®Œå…¨èƒŒåŒ…æŒ‡çš„æ˜¯ï¼š æ¯ç§ç‰©å“éƒ½æœ‰æ— é™ä»¶å¯ç”¨)
2. ==è¿™é‡Œçš„é—®é¢˜å±äº01èƒŒåŒ…ï¼Œå³æ¯ä¸ªç‰©å“æœ€å¤šæ”¾ä¸€ä¸ªã€‚è€Œæ— é™èƒŒåŒ…å¯ä»¥è½¬åŒ–ä¸º01èƒŒåŒ…==ã€‚
3. ç®—æ³•çš„ä¸»è¦æ€æƒ³ï¼Œåˆ©ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³ã€‚æ¯æ¬¡éå†åˆ°çš„ç¬¬iä¸ªç‰©å“ï¼Œæ ¹æ® w[i] å’Œ v[i] æ¥ç¡®å®šæ˜¯å¦éœ€è¦å°†è¯¥ç‰©å“æ”¾å…¥èƒŒåŒ…ä¸­ã€‚å³å¯¹äºç»™å®šçš„nä¸ªç‰©å“ï¼Œè®¾v[i]ã€w[i]åˆ†åˆ«ä¸ºç¬¬ i ä¸ªç‰©å“çš„ä»·å€¼å’Œé‡é‡ï¼ŒCä¸ºèƒŒåŒ…çš„å®¹é‡ã€‚
   1. v[ i ] [ 0 ]=v[ 0 ] [ j ]=0; //è¡¨ç¤ºå¡«å…¥è¡¨ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—æ˜¯0
   2. å½“w[i]> j æ—¶ï¼šv[ i ] [ j ]=v[i-1] [ j ] // å½“å‡†å¤‡åŠ å…¥æ–°å¢çš„å•†å“çš„å®¹é‡å¤§äº å½“å‰èƒŒåŒ…çš„å®¹é‡æ—¶ï¼Œå°±ç›´æ¥ä½¿ç”¨ä¸Šä¸€ä¸ªå•å…ƒæ ¼çš„è£…å…¥ç­–ç•¥
   3. å½“j>=w[i]æ—¶ï¼š v[ i ] [ j ]=max{v[ i-1] [ j ], v [ i ]+ v[ i-1] [ j - w[ i ] ]} 
4. å½“å‡†å¤‡åŠ å…¥çš„æ–°å¢çš„å•†å“çš„å®¹é‡å°äºç­‰äºå½“å‰èƒŒåŒ…çš„å®¹é‡
   - è£…å…¥çš„æ–¹å¼: v[i-1] [ j ]ï¼š å°±æ˜¯ä¸Šä¸€ä¸ªå•å…ƒæ ¼çš„è£…å…¥çš„æœ€å¤§å€¼ 
   - v[ i ]ï¼šè¡¨ç¤ºå½“å‰å•†å“çš„ä»·å€¼
   - w[ j ]ï¼šè¡¨ç¤ºå½“å‰å•†å“çš„é‡é‡
   - v[i-1] [ j-w [ i ] ] ï¼š è£…å…¥i-1å•†å“ï¼Œåˆ°å‰©ä½™ç©ºé—´ j - w[ i ] çš„æœ€å¤§å€¼ 
   - å½“ j >=w[ i ]æ—¶ï¼š v[ i ] [ j ]=max{v[i-1] [ j ], v[i]+v[i-1] [j-w[ i ] ] } 


```java
package com.kcs.dynamic;

/**
 * @author Kcs 2022/9/21
 */
public class KnapsackProblem {
    public static void main(String[] args) {
        //ç‰©å“é‡é‡
        int[] weight = {1, 4, 3, 2};
        //ç‰©å“ä»·å€¼
        int[] value = {1500, 3000, 2000, 2100};
        //èƒŒåŒ…å®¹é‡
        int m = 10;
        //ç‰©å“ä¸ªæ•°
        int n = value.length;

        //è®°å½•æ”¾å…¥çš„å•†å“
        int[][] path = new int[n + 1][m + 1];

        //äºŒç»´æ•°ç»„å­˜æ”¾ç¬¬iä¸ªç‰©å“ä¸­èƒ½å¤Ÿè£…å…¥å®¹é‡ä¸ºjçš„èƒŒåŒ…ä¸­çš„æœ€å¤§ä»·å€¼
        int[][] v = new int[n + 1][m + 1];

        //åˆå§‹åŒ–ç¬¬ä¸€è¡Œã€ç¬¬ä¸€åˆ—ï¼Œé»˜è®¤ä¸º0
        for (int i = 0; i < v.length; i++) {
            for (int j = 0; j < v[0].length; j++) {
                v[0][j] = 0;
                v[i][0] = 0;
            }
        }

        //åŠ¨æ€è§„åˆ’å¤„ç†
        //ä¸å¤„ç†ç¬¬ä¸€è¡Œï¼Œiä»1å¼€å§‹
        for (int i = 1; i < v.length; i++) {
            //ä¸å¤„ç†ç¬¬ä¸€åˆ— ï¼Œjä»1å¼€å§‹
            for (int j = 1; j < v[0].length; j++) {
                // æ­¤å¤„ä¸º i - 1
                if (weight[i - 1] > j) {
                    //å½“å‡†å¤‡åŠ å…¥æ–°å¢çš„å•†å“çš„å®¹é‡å¤§äºå½“å‰èƒŒåŒ…çš„å®¹é‡æ—¶ï¼Œå°±ç›´æ¥ä½¿ç”¨ä¸Šä¸€ä¸ªå•å…ƒæ ¼çš„è£…å…¥ç­–ç•¥
                    v[i][j] = v[i - 1][j];
                } else {
                    //iä»1å¼€å§‹ ä¿®æ”¹æˆvalue[i-1] + v[i - 1][j - weight[i-1]]
                    // v[i][j] = Math.max(v[i - 1][j], value[i - 1] + v[i - 1][j - weight[i - 1]]);

                    //æ›¿ä»£ä¸Šé¢çš„å…¬å¼
                    if (v[i - 1][j] < value[i - 1] + v[i - 1][j - weight[i - 1]]) {
                        v[i][j] = value[i - 1] + v[i - 1][j - weight[i - 1]];
                        //è·å¾—å½“å‰çš„è·¯å¾„
                        path[i][j] = 1;
                    } else {
                        v[i][j] = v[i - 1][j];
                    }

                }
            }
        }


        //éå†äºŒç»´æ•°ç»„
        for (int i = 0; i < v.length; i++) {
            for (int j = 0; j < v[i].length; j++) {
                System.out.print(v[i][j] + "\t");
            }
            System.out.println();
        }

        System.out.println("================æ”¾å…¥èƒŒåŒ…æ–¹æ¡ˆ=====================");
        //è¾“å‡ºæœ€åˆç†çš„å•†å“æ”¾å…¥èƒŒåŒ…æ–¹æ¡ˆ

        //è¡Œçš„æœ€å¤§ä¸‹æ ‡
        int i = path.length - 1;
        //åˆ—çš„æœ€å¤§ä¸‹æ ‡
        int j = path[0].length - 1;
        //é€†å‘éå†
        while (i > 0 && j > 0) {
            if (path[i][j] == 1) {
                System.out.printf("ç¬¬%då•†å“æ”¾å…¥èƒŒåŒ…ã€‚\n", i);
                j -= weight[i - 1];
            }
            i--;
        }
    }
}
```

# KMPç®—æ³•

## åº”ç”¨åœºæ™¯-å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜

å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜ï¼š

1. æœ‰ä¸€ä¸ªå­—ç¬¦ï¼šstr1 = "hello world Java æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸–ç•Œ æˆ‘çš„ä¸–ç•Œ çš„ä¸–ç•Œ"
2. å­å­—ç¬¦ä¸²ï¼šstr2 = "æˆ‘çš„ä¸–ç•Œ"
3. ç°åœ¨è¦åˆ¤æ–­ str1 æ˜¯å¦å«æœ‰ str2, å¦‚æœå­˜åœ¨ï¼Œå°±è¿”å›ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®, å¦‚æœæ²¡æœ‰ï¼Œ åˆ™è¿”å›-1

## è§£å†³æ–¹æ¡ˆ

### 1.æš´åŠ›ç ´è§£

![image-20220921213721777](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220921213721777.png)

```java
package com.kcs.kmp;

import sun.security.timestamp.TSRequest;

/**
 * @author Kcs 2022/9/21
 */
public class ViolenceMatch {
    public static void main(String[] args) {
        String str1 = "hello world Java æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸–ç•Œ æˆ‘çš„ä¸–ç•Œ çš„ä¸–ç•Œ";
        String str2 = "æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸–ç•Œ";
        int index = violenceMatch(str1, str2);
        System.out.println(index);
    }

    public static int violenceMatch(String str1, String st2) {
        char[] s1 = str1.toCharArray();
        char[] s2 = st2.toCharArray();

        int s1len = s1.length;
        int s2len = s2.length;

        // s1ç´¢å¼•
        int i = 0;
        // s2ç´¢å¼•
        int j = 0;
        while (i < s1len && j < s2len) {
            if (s1[i] == s2[j]) {
                i++;
                j++;
            } else {
                i = i - (j - 1);
                j = 0;
            }
        }
        if (j == s2len) {
            return i - j;
        }
        return -1;
    }
}
```

### 2.KMPç®—æ³•



## KMPä»‹ç»

- KMPæ˜¯ä¸€ä¸ªè§£å†³æ¨¡å¼ä¸²åœ¨æ–‡æœ¬ä¸²æ˜¯å¦å‡ºç°è¿‡ï¼Œå¦‚æœå‡ºç°è¿‡ï¼Œæ‰¾å‡ºæœ€æ—©å‡ºç°çš„ä½ç½®çš„ç»å…¸ç®—æ³•
- KMPæ–¹æ³•ç®—æ³•å°±åˆ©ç”¨ä¹‹å‰åˆ¤æ–­è¿‡ä¿¡æ¯ï¼Œé€šè¿‡ä¸€ä¸ªnextæ•°ç»„ï¼Œä¿å­˜æ¨¡å¼ä¸²ä¸­å‰å æœ€é•¿å…¬å…±å­åºåˆ—çš„é•¿åº¦ï¼Œæ¯æ¬¡å›æº¯æ—¶ï¼Œé€šè¿‡nextæ•°ç»„æ‰¾åˆ°ï¼Œå‰é¢åŒ¹é…è¿‡çš„ä½ç½®ï¼Œ çœå»äº†å¤§é‡çš„è®¡ç®—æ—¶é—´
- [KMPä»‹ç»](https://www.cnblogs.com/zzuuoo666/p/9028287.html)
- ä¸è¦æŠŠ æœç´¢ä½ç½®ç§»å›å·²ç»æ¯”è¾ƒè¿‡çš„ä½ç½®ï¼Œç»§ç»­æŠŠå®ƒå‘åç§»
- åç§»ä½æ•°å…¬å¼ï¼š==ç§»åŠ¨ä½æ•° = å·²åŒ¹é…çš„å­—ç¬¦æ•° - å¯¹åº”çš„éƒ¨åˆ†åŒ¹é…å€¼==



## æœ€ä½³åº”ç”¨-åŒ¹é…å­—ç¬¦ä¸²

1. æœ‰ä¸€ä¸ªå­—ç¬¦ä¸² str1= "BBC ABCDAB ABCDABCDABDE"ï¼Œå’Œä¸€ä¸ªå­ä¸² str2="ABCDABD"
2. ç°åœ¨è¦åˆ¤æ–­ str1 æ˜¯å¦å«æœ‰ str2, å¦‚æœå­˜åœ¨ï¼Œå°±è¿”å›ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®, å¦‚æœæ²¡æœ‰ï¼Œ åˆ™è¿”å›-1
   1.  å…ˆå¾—åˆ°å­—ä¸²çš„éƒ¨åˆ†åŒ¹é…è¡¨
   2. ä½¿ç”¨éƒ¨åˆ†åŒ¹é…è¡¨å®ŒæˆKMPåŒ¹é…

```java
package com.kcs.kmp;

import java.util.Arrays;

/**
 * @author Kcs 2022/9/21
 */
public class KmpAlgorithmDemo {
    /**
     * æœç´¢æ€è·¯åˆ†æï¼š
     * é‡åˆ°ä¸åŒ¹é…çš„å­—ç¬¦,ä¸»ä¸²çš„æŒ‡é’ˆä¸å¿…ç§»åŠ¨,æ¨¡å¼ä¸²çš„æŒ‡é’ˆç§»åŠ¨åˆ° å¯¹åº”æ¨¡å¼ä¸²ä¸åŒ¹é…å­—ç¬¦ä¸‹æ ‡nextæ•°ç»„ä¸­å¯¹åº”çš„æ•°å€¼
     * ç›¸å½“äºåç¼€ä¸å‰ç¼€ä¸­é—´çš„å­—ä¸²å·²ç»åŒ¹é…è¿‡äº†,ä¸å¿…å†åŒ¹é…
     * ä¸”nextæ•°ç»„ä¸­è®°å½•çš„æ˜¯å‰åç¼€æœ€é•¿å…¬å…±é•¿åº¦ã€‚
     * æ‰€ä»¥å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦(å³å‰ç¼€çš„ç¬¬ä¸€ä¸ªå­—ç¬¦)è·³è½¬åˆ°åç¼€çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä½ç½®
     * ä½†æ˜¯æ¨¡å¼ä¸²å¹¶ä¸é‡æ–°å†æ‰«æå‰ç¼€,å› ä¸ºå‰åç¼€å­—ç¬¦ä¸²ä¸€æ ·,è€Œæ˜¯ä»å‰ç¼€çš„ä¸‹ä¸€ä¸ªå­—ç¬¦å¼€å§‹è¿›è¡ŒåŒ¹é…
     */
    public static void main(String[] args) {

        String str1 = "BBC ABCDAB ABCDABCDABDE";
        String str2 = "ABCDABD";

        int[] next = kmpNext(str2);
        System.out.println("next = " + Arrays.toString(next));

        int index = kmpSearch(str1, str2, next);
        System.out.println("index=" + index);

    }

    /**
     * kmpæœç´¢ç®—æ³•
     * @param str1 æºå­—ç¬¦ä¸²
     * @param str2 å­ä¸²
     * @param next éƒ¨åˆ†åŒ¹é…è¡¨, æ˜¯å­ä¸²å¯¹åº”çš„éƒ¨åˆ†åŒ¹é…è¡¨
     * @return -1æ²¡æœ‰åŒ¹é…åˆ°ï¼Œå¦åˆ™è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„ä½ç½®
     */
    public static int kmpSearch(String str1, String str2, int[] next) {

        for (int i = 0, j = 0; i < str1.length(); i++) {
            //ä¸ç›¸ç­‰
            while (j > 0 && str1.charAt(i) != str2.charAt(j)) {
                j = next[j - 1];
            }
            if (str1.charAt(i) == str2.charAt(j)) {
                j++;
            }
            if (j == str2.length()) {
                return i - j + 1;
            }
        }
        return -1;
    }

    //destæ˜¯å­ä¸²
    public static int[] kmpNext(String dest) {

        int[] next = new int[dest.length()];
        // å¦‚æœå­—ç¬¦ä¸²æ˜¯é•¿åº¦ä¸º1 éƒ¨åˆ†åŒ¹é…å€¼å°±æ˜¯0
        next[0] = 0;
        for (int i = 1, j = 0; i < dest.length(); i++) {
            while (j > 0 && dest.charAt(i) != dest.charAt(j)) {
                //ä¸åŒ¹é…çš„å‰ä¸€ä½
                j = next[j - 1];
            }
            if (dest.charAt(i) == dest.charAt(j)) {
                j++;
            }
            next[i] = j;
        }
        return next;
    }
}
```



# è´ªå¿ƒç®—æ³•

## ä»‹ç»

1. è´ªå©ªç®—æ³•(è´ªå¿ƒç®—æ³•)æ˜¯æŒ‡åœ¨å¯¹é—®é¢˜è¿›è¡Œæ±‚è§£æ—¶ï¼Œåœ¨æ¯ä¸€æ­¥é€‰æ‹©ä¸­éƒ½é‡‡å–æœ€å¥½æˆ– è€…æœ€ä¼˜(å³æœ€æœ‰åˆ©)çš„é€‰æ‹©ï¼Œä»è€Œå¸Œæœ›èƒ½å¤Ÿå¯¼è‡´ç»“æœæ˜¯æœ€å¥½æˆ–è€…æœ€ä¼˜çš„ç®—æ³•
2. ==è´ªå©ªç®—æ³•æ‰€å¾—åˆ°çš„ç»“æœä¸ä¸€å®šæ˜¯æœ€ä¼˜çš„ç»“æœ(æœ‰æ—¶å€™ä¼šæ˜¯æœ€ä¼˜è§£)ï¼Œä½†æ˜¯éƒ½æ˜¯ç›¸ å¯¹è¿‘ä¼¼(æ¥è¿‘)æœ€ä¼˜è§£çš„ç»“æœ==



## æœ€ä½³åº”ç”¨-é›†åˆè¦†ç›–

1. å‡è®¾å­˜åœ¨å¦‚ä¸‹è¡¨çš„éœ€è¦ä»˜è´¹çš„å¹¿æ’­å°ï¼Œä»¥åŠå¹¿æ’­å°ä¿¡å·å¯ä»¥è¦†ç›–çš„åœ°åŒºã€‚ å¦‚ä½• é€‰æ‹©æœ€å°‘çš„å¹¿æ’­å°ï¼Œè®©æ‰€æœ‰çš„åœ°åŒºéƒ½å¯ä»¥æ¥æ”¶åˆ°ä¿¡å·

   ![image-20220921223603439](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220921223603439.png)

2. ä½¿ç”¨ç©·ä¸¾æ³•å®ç°,åˆ—å‡ºæ¯ä¸ªå¯èƒ½çš„å¹¿ æ’­å°çš„é›†åˆï¼Œè¿™è¢«ç§°ä¸ºå¹‚é›†ã€‚å‡è®¾æ€»çš„æœ‰nä¸ªå¹¿æ’­å°ï¼Œåˆ™å¹¿æ’­å°çš„ç»„åˆæ€»å…±æœ‰ 2â¿ -1 ä¸ª,å‡è®¾æ¯ç§’å¯ä»¥è®¡ç®—10ä¸ªå­é›†

   ![image-20220921223650172](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220921223650172.png)

3. å› ä¸ºéœ€è¦è¦†ç›–å…¨éƒ¨åœ°åŒºçš„æœ€å°é›†åˆ

   1. éå†æ‰€æœ‰çš„å¹¿æ’­ç”µå°, æ‰¾åˆ°ä¸€ä¸ªè¦†ç›–äº†æœ€å¤šæœªè¦†ç›–çš„åœ°åŒºçš„ç”µå°(æ­¤ç”µå°å¯èƒ½åŒ… å«ä¸€äº›å·²è¦†ç›–çš„åœ°åŒºï¼Œä½†æ²¡æœ‰å…³ç³»ï¼‰
   2. å°†è¿™ä¸ªç”µå°åŠ å…¥åˆ°ä¸€ä¸ªé›†åˆä¸­(æ¯”å¦‚ArrayList), æƒ³åŠæ³•æŠŠè¯¥ç”µå°è¦†ç›–çš„åœ°åŒºåœ¨ä¸‹ æ¬¡æ¯”è¾ƒæ—¶å»æ‰
   3. é‡å¤ç¬¬1æ­¥ç›´åˆ°è¦†ç›–äº†å…¨éƒ¨çš„åœ°åŒº



# æ™®åˆ©å§†ç®—æ³•

## åº”ç”¨åœºæ™¯

![image-20220921224056588](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220921224056588.png)

## æœ€å°ç”Ÿæˆæ ‘ï¼ˆMSTï¼‰

1. æœ€å°ç”Ÿæˆæ ‘ï¼šç»™å®šä¸€ä¸ªå¸¦æƒçš„æ— å‘è¿é€šå›¾,å¦‚ä½•é€‰å–ä¸€æ£µç”Ÿæˆæ ‘,ä½¿æ ‘ä¸Šæ‰€æœ‰è¾¹ä¸Šæƒçš„æ€»å’Œä¸ºæœ€å°
2. Nä¸ªé¡¶ç‚¹ï¼Œä¸€å®šæœ‰N-1æ¡è¾¹
3. åŒ…å«å…¨éƒ¨é¡¶ç‚¹
4. N-1æ¡è¾¹éƒ½åœ¨å›¾ä¸­

![image-20220921224222530](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220921224222530.png)

## æ™®åˆ©å§†ç®—æ³•ä»‹ç»

![image-20220921224253451](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220921224253451.png)



## åº”ç”¨å®ä¾‹

![image-20220921224347266](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220921224347266.png)



### å›¾è§£

1. å‡å¦‚ä»Aé¡¶ç‚¹å¼€å§‹å¤„ç†ï¼Œå°†Aæ”¾å…¥é›†åˆä¸­ï¼Œå¹¶å¯è¿æ¥åˆ°å…¶ä»–é¡¶ç‚¹æœ‰Cã€Gã€B

   ![image-20220922220814966](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220922220814966.png)

2. æ­¤æ—¶è¿™ä¸‰æ¡è¾¹çš„æœ€å°æƒé‡å€¼æ˜¯A-G ä¸º2ï¼Œäºæ˜¯æˆ‘ä»¬Gæ”¾å…¥é›†åˆä¸­ï¼Œã€ŠAï¼ŒGã€‹

   ![image-20220922220849361](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220922220849361.png)

3. æ­¤æ—¶è¿™äº”æ¡è¾¹çš„æœ€å°æƒé‡å€¼æ˜¯B-B ä¸º3ï¼Œäºæ˜¯æˆ‘ä»¬Bæ”¾å…¥é›†åˆä¸­ï¼Œã€ŠAï¼ŒGï¼ŒBã€‹

   ![image-20220922220907688](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220922220907688.png)

4. æ­¤æ—¶è¿™å››æ¡è¾¹çš„æœ€å°æƒé‡å€¼æ˜¯G-E ä¸º4ï¼Œäºæ˜¯æˆ‘ä»¬Eæ”¾å…¥é›†åˆä¸­ï¼Œã€ŠAï¼ŒGï¼ŒBï¼ŒEã€‹

   ![image-20220922220929034](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220922220929034.png)

5. æ­¤æ—¶è¿™äº”æ¡è¾¹çš„æœ€å°æƒé‡å€¼æ˜¯E-F ä¸º5ï¼Œä»¥æ­¤ç±»æ¨åŠ å…¥åˆ°é›†åˆä¸­

   æœ€åçš„é›†åˆç»“æœåº”è¯¥æ˜¯<Aï¼ŒGï¼ŒBï¼ŒEï¼ŒFï¼ŒDï¼ŒC>

   ![image-20220922220952663](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220922220952663.png)

#### æ™®é‡Œå§†ä»£ç æ€è·¯åˆ†æ

1. éœ€è¦ä¸€ä¸ªå­˜æ”¾é¡¶ç‚¹çš„charæ•°ç»„ï¼Œä»¥åŠé¡¶ç‚¹çš„è¾¹æ•°
2. éœ€è¦ä½¿ç”¨é‚»æ¥çŸ©é˜µæ¥è¡¨ç¤ºé¡¶ç‚¹ä¹‹é—´çš„è¿æ¥æƒ…å†µä¸æƒé‡å€¼
3. éœ€è¦ç”ŸæˆminTreeæ ‘
4. éœ€è¦åˆ›å»ºå›¾

```java
package com.kcs.prim;

import java.util.Arrays;

/**
 * @author Kcs 2022/9/22
 */
public class PrimAlgorithm {
    public static void main(String[] args) {

        char[] data = {'A', 'B', 'C', 'D', 'E', 'F', 'G'};
        //é¡¶ç‚¹çš„ä¸ªæ•°å°±æ˜¯dataçš„é•¿åº¦
        int verxs = data.length;
        //é‚»æ¥çŸ©é˜µçš„å…³ç³»ä½¿ç”¨äºŒç»´æ•°ç»„è¡¨ç¤º,10000ï¼šè¡¨ç¤ºä¸¤ä¸ªç‚¹ä¸è”é€š
        int[][] weight = {
                {10000, 5, 7, 10000, 10000, 10000, 2},
                {5, 10000, 10000, 9, 10000, 10000, 3},
                {7, 10000, 10000, 10000, 8, 10000, 10000},
                {10000, 9, 10000, 10000, 10000, 4, 10000},
                {10000, 10000, 8, 10000, 10000, 5, 4},
                {10000, 10000, 10000, 4, 5, 10000, 6},
                {2, 3, 10000, 10000, 4, 6, 10000},};
        Graph graph = new Graph(verxs);
        Tree tree = new Tree();
        tree.createGraph(graph, verxs, data, weight);
        Tree.prim(graph, 0);

    }
}

/**
 * åˆ›å»ºæ ‘
 */
class Tree {
    /**
     * åˆ›å»ºå›¾çš„é‚»æ¥çŸ©é˜µ
     * @param graph å›¾
     * @param vertexes é¡¶ç‚¹
     * @param data å›¾å„ä¸ªé¡¶ç‚¹çš„å€¼
     * @param weight å›¾çš„é‚»æ¥çŸ©é˜µ
     */
    public void createGraph(Graph graph, int vertexes, char[] data, int[][] weight) {

        //é¡¶ç‚¹
        for (int i = 0; i < vertexes; i++) {
            //é¡¶ç‚¹çš„å€¼èµ‹å€¼ç»™å›¾
            graph.data[i] = data[i];
            for (int j = 0; j < vertexes; j++) {
                //é‚»æ¥çŸ©é˜µèµ‹ç»™å›¾
                graph.weight[i][j] = weight[i][j];
            }
        }
    }

    /**
     * æ˜¾ç¤ºå›¾çš„é‚»æ¥çŸ©é˜µ
     * @param graph å›¾
     */
    public void showGraph(Graph graph) {
        //æŠŠäºŒç»´æ•°ç»„ï¼ˆé‚»æ¥çŸ©é˜µï¼‰çš„æ¯ä¸€è¡Œè¾“å‡ºæ¥
        for (int[] link : graph.weight) {
            System.out.println(Arrays.toString(link));
        }

    }

    /**
     * æ™®åˆ©å§†ç®—æ³•
     * æŠŠå›¾ è½¬æˆ æœ€å°ç”Ÿæˆæ ‘
     * @param graph å›¾
     * @param v å›¾ä»ç»“ç‚¹ç”Ÿæˆçš„æœ€å°ç”Ÿæˆæ ‘
     */
    public static void prim(Graph graph, int v) {

        //æœ€å°ç”Ÿæˆæ ‘çš„æ€»æœ€å°æƒå€¼
        int totalWeight = 0;
        //isVisitedï¼šè¡¨ç¤ºé¡¶ç‚¹æ˜¯å¦è¢«è®¿é—®è¿‡ï¼Œ1ï¼šå·²è®¿é—®è¿‡  0ï¼šæ²¡æœ‰è¢«è®¿é—®è¿‡
        int[] isVisited = new int[graph.vertexes];
        //ç¬¬ä¸€ä¸ªé¡¶ç‚¹è®¾ç½®ä¸ºå·²è®¿é—®
        isVisited[v] = 1;
        //å¾ªç¯ä¸­çš„ä¸¤ä¸ªé¡¶ç‚¹çš„ä¸‹æ ‡
        int h1 = -1;
        int h2 = -1;
        //æœ€å°å€¼10000ï¼šä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´æ²¡æœ‰è¾¹
        int minWeight = 10000;
        //nä¸ªé¡¶ç‚¹çš„å›¾ä¼šç”Ÿæˆn-1 æ¡è¾¹çš„æœ€å°ç”Ÿæˆæ ‘ ï¼Œæ‰€ä»¥éå†å›¾çš„é¡¶ç‚¹çš„æ—¶å€™è¦ä»1å¼€å§‹
        for (int k = 1; k < graph.vertexes; k++) {
            //å¯¹å·²è®¿é—®çš„é¡¶ç‚¹å’Œæœªè¢«è®¿é—®çš„é¡¶ç‚¹å¼€å§‹forå¾ªç¯éå†
            for (int i = 0; i < graph.vertexes; i++) {
                //è®¾iä¸ºå·²è®¿é—®è¿‡çš„é¡¶ç‚¹
                for (int j = 0; j < graph.vertexes; j++) {
                    //è®¾jä¸ºæœªè¢«è®¿é—®è¿‡çš„é¡¶ç‚¹
                    //graph.weight[i][j] < minWeight ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´çš„è¾¹
                    //ä¸¤ä¸ªé¡¶ç‚¹åªè¦æœ‰è¾¹ï¼Œå…¶å€¼graph.weight[i][j]è‚¯å®šå°äºminWeightï¼Œåˆå§‹åŒ–çš„minWeightä¸º10000
                    if (isVisited[i] == 1 && isVisited[j] == 0
                            && graph.weight[i][j] < minWeight) {
                        //forå¾ªç¯åˆšå¼€å§‹äºŒè€…æœ‰è¾¹
                        minWeight = graph.weight[i][j];
                        //ä¿å­˜äºŒè€…çš„ä¸‹æ ‡
                        h1 = i;
                        h2 = j;
                    }
                }
            }
            //æ¯é€€å‡ºå‰é¢ä¸¤ä¸ªforå¾ªç¯å°±æŠŠminWeightä¿å­˜
            totalWeight += minWeight;
            System.out.println("è¾¹< " + graph.data[h1] + "," + graph.data[h2] + " > æƒå€¼ä¸ºï¼š " + minWeight);
            //é€€å‡ºå‰é¢ä¸¤ä¸ªforå¾ªç¯ä¹‹åï¼Œæ‰¾åˆ°å·²è¢«è®¿é—®é¡¶ç‚¹å’Œå…¶å‘¨è¾¹æœªè¢«è®¿é—®çš„é¡¶ç‚¹çš„ æœ€å°æƒå€¼çš„è¾¹
            //æŠŠæœªè¢«è®¿é—®çš„é¡¶ç‚¹è®¾ç½®ä¸ºå·²è¢«è®¿é—®
            isVisited[h2] = 1;
            //å°†æœ€å°å€¼è®¾é‡æ–°ç½®ä¸º10000ï¼Œæ–¹ä¾¿ç¬¬ä¸€ä¸ªforå¾ªç¯é‡æ–°æ„æˆæœ€å°ç”Ÿæˆæ ‘
            minWeight = 10000;
        }
        System.out.println("è¯¥æœ€å°ç”Ÿæˆæ ‘çš„è·¯å¾„ä¸º " + totalWeight);
    }

}

class Graph {
    /**
     * å­˜æ”¾è¾¹
     */
    int vertexes;
    /**
     * å­˜æ”¾ç»“ç‚¹æ•°æ®
     */
    char[] data;
    /**
     * å­˜æ”¾è¾¹ï¼Œå°±æ˜¯é‚»æ¥çŸ©é˜µ
     */
    int[][] weight;

    public Graph(int vertexes) {
        this.vertexes = vertexes;
        data = new char[vertexes];
        weight = new int[vertexes][vertexes];
    }
}
```





# å…‹é²æ–¯å¡å°”ç®—æ³•

## ä»‹ç»

1. å…‹é²æ–¯å¡å°”(Kruskal)ç®—æ³•ï¼Œæ˜¯ç”¨æ¥æ±‚åŠ æƒè¿é€šå›¾çš„æœ€å°ç”Ÿæˆæ ‘çš„ç®—æ³•
2. åŸºæœ¬æ€æƒ³ï¼šæŒ‰ç…§æƒå€¼ä»å°åˆ°å¤§çš„é¡ºåºé€‰æ‹©n-1æ¡è¾¹ï¼Œå¹¶ä¿è¯è¿™n-1æ¡è¾¹ä¸æ„æˆå›è·¯
3. å…·ä½“åšæ³•ï¼šé¦–å…ˆæ„é€ ä¸€ä¸ªåªå«nä¸ªé¡¶ç‚¹çš„æ£®æ—ï¼Œç„¶åä¾æƒå€¼ä»å°åˆ°å¤§ä»è¿é€šç½‘ä¸­é€‰æ‹©è¾¹åŠ å…¥åˆ°æ£®æ—ä¸­ï¼Œå¹¶ä½¿æ£®æ—ä¸­ä¸äº§ç”Ÿå›è·¯ï¼Œç›´è‡³æ£®æ—å˜æˆä¸€æ£µæ ‘ä¸ºæ­¢



## åº”ç”¨å®ä¾‹

![image-20220921224559954](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220921224559954.png)

## åˆ†æ

1. å…ˆæ„é€ ä¸€ä¸ªå«æœ‰Nä¸ªé¡¶ç‚¹çš„æ£®æ—ï¼Œç„¶åä¾ç…§æƒå€¼ä»å°åˆ°å¤§ä»è¿é€šç½‘ä¸­é€‰æ‹©è¾¹åŠ å…¥åˆ°æ£®æ—ä¸­ï¼Œå¹¶ä½¿æ£®æ—ä¸­ä¸äº§ç”Ÿå›è·¯ï¼Œç›´è‡³æ£®æ—å˜æˆä¸€æ£µæ ‘ä¸ºæ­¢ã€‚
2. ä»æ’åºå¥½çš„è¾¹çš„åˆå§‹é¡¶ç‚¹å¼€å§‹éå†ï¼Œé€šè¿‡getPositionè·å–å¼€å§‹é¡¶ç‚¹å’Œè¯¥è¾¹å¦ä¸€æ¡ç»“ç‚¹çš„ä½ç½®ï¼Œåˆ†åˆ«è·å–å®ƒä»¬çš„ç»ˆç‚¹ï¼ˆgetEndï¼‰ï¼Œå†æ¯”è¾ƒäºŒè€…çš„å€¼ï¼Œå¦‚æœä¸ç›¸ç­‰åˆ™è¯´æ˜æ²¡æœ‰æ„æˆå›è·¯ï¼Œå°±å°†å…¶èµ·ç‚¹çš„ç»ˆç‚¹æ ‡è®°ä¸ºè¾¹çš„å¦ä¸€ä¸ªé¡¶ç‚¹ï¼Œå¹¶å°†è¯¥è¾¹åŠ å…¥åˆ°retsé›†åˆä¸­

### å›¾è§£ï¼ˆç”¨æ•°ç»„ R ä¿å­˜æœ€å°ç”Ÿæˆæ ‘ï¼‰

![image-20220923191433380](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220923191433380.png)

![image-20220923191517015](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220923191517015.png)

![image-20220923191528801](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220923191528801.png)

![image-20220923191540188](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220923191540188.png)

ç¬¬1æ­¥ï¼šå°†è¾¹<E,F>åŠ å…¥ R ä¸­ã€‚

è¾¹<E,F>çš„æƒå€¼æœ€å°ï¼Œå› æ­¤å°†å®ƒåŠ å…¥åˆ°æœ€å°ç”Ÿæˆæ ‘ç»“æœ R ä¸­ã€‚

ç¬¬2æ­¥ï¼šå°†è¾¹<C,D>åŠ å…¥ R ä¸­ã€‚

ä¸Šä¸€æ­¥æ“ä½œä¹‹åï¼Œè¾¹<C,D>çš„æƒå€¼æœ€å°ï¼Œå› æ­¤å°†å®ƒåŠ å…¥åˆ°æœ€å°ç”Ÿæˆæ ‘ç»“æœ R ä¸­ã€‚

ç¬¬3æ­¥ï¼šå°†è¾¹<D,E>åŠ å…¥ R ä¸­ã€‚

ä¸Šä¸€æ­¥æ“ä½œä¹‹åï¼Œè¾¹<D,E>çš„æƒå€¼æœ€å°ï¼Œå› æ­¤å°†å®ƒåŠ å…¥åˆ°æœ€å°ç”Ÿæˆæ ‘ç»“æœ R ä¸­ã€‚

ç¬¬4æ­¥ï¼šå°†è¾¹<B,F>åŠ å…¥ R ä¸­ã€‚

ä¸Šä¸€æ­¥æ“ä½œä¹‹åï¼Œè¾¹<C,E>çš„æƒå€¼æœ€å°ï¼Œä½†<C,E>ä¼šå’Œå·²æœ‰çš„è¾¹æ„æˆå›è·¯ï¼›å› æ­¤ï¼Œè·³è¿‡è¾¹<C,E>ã€‚åŒç†ï¼Œè·³è¿‡è¾¹<C,F>ã€‚å°†è¾¹<B,F>åŠ å…¥åˆ°æœ€å°ç”Ÿæˆæ ‘ç»“æœ R ä¸­ã€‚

ç¬¬5æ­¥ï¼šå°†è¾¹<E,G>åŠ å…¥ R ä¸­ã€‚

ä¸Šä¸€æ­¥æ“ä½œä¹‹åï¼Œè¾¹<E,G>çš„æƒå€¼æœ€å°ï¼Œå› æ­¤å°†å®ƒåŠ å…¥åˆ°æœ€å°ç”Ÿæˆæ ‘ç»“æœ R ä¸­ã€‚

ç¬¬6æ­¥ï¼šå°†è¾¹<A,B>åŠ å…¥ R ä¸­ã€‚
ä¸Šä¸€æ­¥æ“ä½œä¹‹åï¼Œè¾¹<F,G>çš„æƒå€¼æœ€å°ï¼Œä½†<F,G>ä¼šå’Œå·²æœ‰çš„è¾¹æ„æˆå›è·¯ï¼›å› æ­¤ï¼Œè·³è¿‡è¾¹<F,G>ã€‚åŒç†ï¼Œè·³è¿‡è¾¹<B,C>ã€‚å°†è¾¹<A,B>åŠ å…¥åˆ°æœ€å°ç”Ÿæˆæ ‘ç»“æœ R ä¸­ã€‚

æ­¤æ—¶ï¼Œæœ€å°ç”Ÿæˆæ ‘æ„é€ å®Œæˆï¼å®ƒåŒ…æ‹¬çš„è¾¹ä¾æ¬¡æ˜¯ï¼š***<E,F> <C,D> <D,E> <B,F> <E,G> <A,B>***



```java
package com.kcs.kruskal;

import java.util.Arrays;

/**
 * @author Kcs 2022/9/23
 */

public class KruskalCase {

    /**
     * è¾¹çš„ä¸ªæ•°
     */
    private int edgeNum;
    /**
     * é¡¶ç‚¹æ•°ç»„
     */
    private char[] vertexs;
    /**
     * é‚»æ¥çŸ©é˜µ
     */
    private int[][] matrix;
    //ä½¿ç”¨ INF è¡¨ç¤ºä¸¤ä¸ªé¡¶ç‚¹ä¸èƒ½è¿é€š
    private static final int INF = Integer.MAX_VALUE;

    public static void main(String[] args) {
        char[] vertexs = {'A', 'B', 'C', 'D', 'E', 'F', 'G'};
        //å…‹é²æ–¯å¡å°”ç®—æ³•çš„é‚»æ¥çŸ©é˜µ
        int matrix[][] = {
                /*A*//*B*//*C*//*D*//*E*//*F*//*G*/
                /*A*/ {   0,  12, INF, INF, INF,  16,  14},
                /*B*/ {  12,   0,  10, INF, INF,   7, INF},
                /*C*/ { INF,  10,   0,   3,   5,   6, INF},
                /*D*/ { INF, INF,   3,   0,   4, INF, INF},
                /*E*/ { INF, INF,   5,   4,   0,   2,   8},
                /*F*/ {  16,   7,   6, INF,   2,   0,   9},
                /*G*/ {  14, INF, INF, INF,   8,   9,   0}};
        //åˆ›å»ºKruskalCase å¯¹è±¡å®ä¾‹
        KruskalCase kruskalCase = new KruskalCase(vertexs, matrix);
        //è¾“å‡ºæ„å»ºçš„
        kruskalCase.print();
        kruskalCase.kruskal();

    }

    //æ„é€ å™¨
    public KruskalCase(char[] vertexs, int[][] matrix) {
        //åˆå§‹åŒ–é¡¶ç‚¹æ•°å’Œè¾¹çš„ä¸ªæ•°
        int vlen = vertexs.length;

        //åˆå§‹åŒ–é¡¶ç‚¹, å¤åˆ¶æ‹·è´çš„æ–¹å¼
        this.vertexs = new char[vlen];
        for(int i = 0; i < vertexs.length; i++) {
            this.vertexs[i] = vertexs[i];
        }

        //åˆå§‹åŒ–è¾¹, ä½¿ç”¨çš„æ˜¯å¤åˆ¶æ‹·è´çš„æ–¹å¼
        this.matrix = new int[vlen][vlen];
        for(int i = 0; i < vlen; i++) {
            for(int j= 0; j < vlen; j++) {
                this.matrix[i][j] = matrix[i][j];
            }
        }
        //ç»Ÿè®¡è¾¹çš„æ¡æ•°
        for(int i =0; i < vlen; i++) {
            for(int j = i+1; j < vlen; j++) {
                if(this.matrix[i][j] != INF) {
                    edgeNum++;
                }
            }
        }

    }
    public void kruskal() {
        int index = 0; //è¡¨ç¤ºæœ€åç»“æœæ•°ç»„çš„ç´¢å¼•
        int[] ends = new int[edgeNum]; //ç”¨äºä¿å­˜"å·²æœ‰æœ€å°ç”Ÿæˆæ ‘" ä¸­çš„æ¯ä¸ªé¡¶ç‚¹åœ¨æœ€å°ç”Ÿæˆæ ‘ä¸­çš„ç»ˆç‚¹
        //åˆ›å»ºç»“æœæ•°ç»„, ä¿å­˜æœ€åçš„æœ€å°ç”Ÿæˆæ ‘
        EData[] rets = new EData[edgeNum];

        //è·å–å›¾ä¸­ æ‰€æœ‰çš„è¾¹çš„é›†åˆ ï¼Œ ä¸€å…±æœ‰12è¾¹
        EData[] edges = getEdges();
        System.out.println("å›¾çš„è¾¹çš„é›†åˆ=" + Arrays.toString(edges) + " å…±"+ edges.length); //12

        //æŒ‰ç…§è¾¹çš„æƒå€¼å¤§å°è¿›è¡Œæ’åº(ä»å°åˆ°å¤§)
        sortEdges(edges);

        //éå†edges æ•°ç»„ï¼Œå°†è¾¹æ·»åŠ åˆ°æœ€å°ç”Ÿæˆæ ‘ä¸­æ—¶ï¼Œåˆ¤æ–­æ˜¯å‡†å¤‡åŠ å…¥çš„è¾¹å¦å½¢æˆäº†å›è·¯ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±åŠ å…¥ rets, å¦åˆ™ä¸èƒ½åŠ å…¥
        for(int i=0; i < edgeNum; i++) {
            //è·å–åˆ°ç¬¬iæ¡è¾¹çš„ç¬¬ä¸€ä¸ªé¡¶ç‚¹(èµ·ç‚¹)
            int p1 = getPosition(edges[i].start); //p1=4
            //è·å–åˆ°ç¬¬iæ¡è¾¹çš„ç¬¬2ä¸ªé¡¶ç‚¹
            int p2 = getPosition(edges[i].end); //p2 = 5

            //è·å–p1è¿™ä¸ªé¡¶ç‚¹åœ¨å·²æœ‰æœ€å°ç”Ÿæˆæ ‘ä¸­çš„ç»ˆç‚¹
            int m = getEnd(ends, p1); //m = 4
            //è·å–p2è¿™ä¸ªé¡¶ç‚¹åœ¨å·²æœ‰æœ€å°ç”Ÿæˆæ ‘ä¸­çš„ç»ˆç‚¹
            int n = getEnd(ends, p2); // n = 5
            //æ˜¯å¦æ„æˆå›è·¯
            if(m != n) { //æ²¡æœ‰æ„æˆå›è·¯
                ends[m] = n; // è®¾ç½®m åœ¨"å·²æœ‰æœ€å°ç”Ÿæˆæ ‘"ä¸­çš„ç»ˆç‚¹ <E,F> [0,0,0,0,5,0,0,0,0,0,0,0]
                rets[index++] = edges[i]; //æœ‰ä¸€æ¡è¾¹åŠ å…¥åˆ°retsæ•°ç»„
            }
        }
        //<E,F> <C,D> <D,E> <B,F> <E,G> <A,B>ã€‚
        //ç»Ÿè®¡å¹¶æ‰“å° "æœ€å°ç”Ÿæˆæ ‘", è¾“å‡º  rets
        System.out.println("æœ€å°ç”Ÿæˆæ ‘ä¸º");
        for(int i = 0; i < index; i++) {
            System.out.println(rets[i]);
        }


    }

    //æ‰“å°é‚»æ¥çŸ©é˜µ
    public void print() {
        System.out.println("é‚»æ¥çŸ©é˜µä¸º: \n");
        for(int i = 0; i < vertexs.length; i++) {
            for(int j=0; j < vertexs.length; j++) {
                System.out.printf("%12d", matrix[i][j]);
            }
            System.out.println();//æ¢è¡Œ
        }
    }

    /**
     * åŠŸèƒ½ï¼šå¯¹è¾¹è¿›è¡Œæ’åºå¤„ç†, å†’æ³¡æ’åº
     * @param edges è¾¹çš„é›†åˆ
     */
    private void sortEdges(EData[] edges) {
        for(int i = 0; i < edges.length - 1; i++) {
            for(int j = 0; j < edges.length - 1 - i; j++) {
                if(edges[j].weight > edges[j+1].weight) {
                    //äº¤æ¢
                    EData tmp = edges[j];
                    edges[j] = edges[j+1];
                    edges[j+1] = tmp;
                }
            }
        }
    }
    /**
     *
     * @param ch é¡¶ç‚¹çš„å€¼ï¼Œæ¯”å¦‚'A','B'
     * @return è¿”å›ché¡¶ç‚¹å¯¹åº”çš„ä¸‹æ ‡ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œè¿”å›-1
     */
    private int getPosition(char ch) {
        for(int i = 0; i < vertexs.length; i++) {
            if(vertexs[i] == ch) {
                //æ‰¾åˆ°
                return i;
            }
        }
        //æ‰¾ä¸åˆ°,è¿”å›-1
        return -1;
    }
    /**
     * åŠŸèƒ½: è·å–å›¾ä¸­è¾¹ï¼Œæ”¾åˆ°EData[] æ•°ç»„ä¸­ï¼Œåé¢æˆ‘ä»¬éœ€è¦éå†è¯¥æ•°ç»„
     * æ˜¯é€šè¿‡matrix é‚»æ¥çŸ©é˜µæ¥è·å–
     * EData[] å½¢å¼ [['A','B', 12], ['B','F',7], .....]
     * @return
     */
    private EData[] getEdges() {
        int index = 0;
        EData[] edges = new EData[edgeNum];
        for(int i = 0; i < vertexs.length; i++) {
            for(int j=i+1; j <vertexs.length; j++) {
                if(matrix[i][j] != INF) {
                    edges[index++] = new EData(vertexs[i], vertexs[j], matrix[i][j]);
                }
            }
        }
        return edges;
    }
    /**
     * åŠŸèƒ½: è·å–ä¸‹æ ‡ä¸ºiçš„é¡¶ç‚¹çš„ç»ˆç‚¹(), ç”¨äºåé¢åˆ¤æ–­ä¸¤ä¸ªé¡¶ç‚¹çš„ç»ˆç‚¹æ˜¯å¦ç›¸åŒ
     * @param ends ï¼š æ•°ç»„å°±æ˜¯è®°å½•äº†å„ä¸ªé¡¶ç‚¹å¯¹åº”çš„ç»ˆç‚¹æ˜¯å“ªä¸ª,ends æ•°ç»„æ˜¯åœ¨éå†è¿‡ç¨‹ä¸­ï¼Œé€æ­¥å½¢æˆ
     * @param i : è¡¨ç¤ºä¼ å…¥çš„é¡¶ç‚¹å¯¹åº”çš„ä¸‹æ ‡
     * @return è¿”å›çš„å°±æ˜¯ ä¸‹æ ‡ä¸ºiçš„è¿™ä¸ªé¡¶ç‚¹å¯¹åº”çš„ç»ˆç‚¹çš„ä¸‹æ ‡, ä¸€ä¼šå›å¤´è¿˜æœ‰æ¥ç†è§£
     */
    private int getEnd(int[] ends, int i) { // i = 4 [0,0,0,0,5,0,0,0,0,0,0,0]
        while(ends[i] != 0) {
            i = ends[i];
        }
        return i;
    }

}

/**
 * åˆ›å»ºä¸€ä¸ªç±»EData ï¼Œå®ƒçš„å¯¹è±¡å®ä¾‹å°±è¡¨ç¤ºä¸€æ¡è¾¹
 */
class EData {
    /**
     * è¾¹çš„ä¸€ä¸ªç‚¹
     */
    char start;
    /**
     * è¾¹çš„å¦å¤–ä¸€ä¸ªç‚¹
     */
    char end;
    /**
     * è¾¹çš„æƒå€¼
     */
    int weight;
    public EData(char start, char end, int weight) {
        this.start = start;
        this.end = end;
        this.weight = weight;
    }
    @Override
    public String toString() {
        return "EData [<" + start + ", " + end + ">= " + weight + "]";
    }
}
```

# è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•

## ä»‹ç»

- è¿ªæ°æ–¯ç‰¹æ‹‰(Dijkstra)ç®—æ³•æ˜¯å…¸å‹æœ€çŸ­è·¯å¾„ç®—æ³•ï¼Œç”¨äºè®¡ç®—ä¸€ä¸ªç»“ç‚¹åˆ°å…¶ä»–ç»“ç‚¹çš„æœ€ çŸ­è·¯å¾„ã€‚ 
- ä¸»è¦ç‰¹ç‚¹æ˜¯ä»¥èµ·å§‹ç‚¹ä¸ºä¸­å¿ƒå‘å¤–å±‚å±‚æ‰©å±•(å¹¿åº¦ä¼˜å…ˆæœç´¢æ€æƒ³)ï¼Œç›´åˆ°æ‰©å±•åˆ°ç»ˆç‚¹ä¸ºæ­¢

![image-20220921224654261](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220921224654261.png)

![image-20220923192312587](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220923192312587.png)



## åº”ç”¨å®ä¾‹

![image-20220921224744201](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220921224744201.png)



```java
package com.kcs.dijkstra;

import java.util.Arrays;

/**
 * @author Kcs 2022/9/23
 */
public class DijkstraAlgorithm {
    // ä¸è¿é€š
    public static final int INF = 65535;
    public static void main(String[] args) {
        char[] vertexs = {'A','B','C','D','E','F','G'};
        int[][] matrix = new int[vertexs.length][vertexs.length];
        matrix[0]= new int[]{INF, 5, 7, INF, INF, INF, 2};
        matrix[1]= new int[]{5, INF, INF, 9, INF, INF, 3};
        matrix[2]= new int[]{7, INF, INF, INF, 8, INF, INF};
        matrix[3]= new int[]{INF, 9, INF, INF, INF, 4, INF};
        matrix[4]= new int[]{INF, INF, 8, INF, INF, 5, 4};
        matrix[5]= new int[]{INF, INF, INF, 4, 5, INF, 6};
        matrix[6]= new int[]{2, 3, INF, INF, 4, 6, INF};

        // åˆ›å»ºGraphå¯¹è±¡
        Graph graph = new Graph(vertexs, matrix);
        graph.showGraph();
        //è¦å¼€å§‹å¯»æ‰¾çš„é¡¶ç‚¹ä¸‹æ ‡
        int index = 6;
        graph.dijkstra(index);
        graph.showDijkstra(index);
    }
}

class Graph {
    /**
     * é¡¶ç‚¹æ•°ç»„
     */
    private final char[] vertex;
    /**
     * é‚»æ¥çŸ©é˜µ
     */
    private final int[][] matrix;
    /**
     * å·²è®¿é—®é¡¶ç‚¹é›†åˆ
     */
    private VistedVertex vv; 

    // æ„é€ å™¨
    public Graph(char[] vertex, int[][] matrix) {
        this.vertex = vertex;
        this.matrix = matrix;
    }

    // æ˜¾ç¤ºç»“æœ
    public void showDijkstra(int index) {
        vv.print(index);
    }

    // æ˜¾ç¤ºå›¾
    public void showGraph() {
        for (int[] link : this.matrix) {
            System.out.println(Arrays.toString(link));
        }
    }

    /**
     * dijkstra ç®—æ³•
     * @param index index
     */
    public void dijkstra(int index) {
        vv = new VistedVertex(vertex.length, index);
        // æ›´æ–° index ä¸‹æ ‡é¡¶ç‚¹åˆ°å‘¨å›´é¡¶ç‚¹çš„è·ç¦»å’Œå‘¨å›´é¡¶ç‚¹çš„å‰é©±é¡¶ç‚¹
        update(index);
        for (int j = 1; j < vertex.length; j++) {
            // é€‰æ‹©å¹¶è¿”å›æ–°çš„è®¿é—®é¡¶ç‚¹
            index = vv.updateArr();
            // æ›´æ–° index ä¸‹æ ‡é¡¶ç‚¹åˆ°å‘¨å›´é¡¶ç‚¹çš„è·ç¦»å’Œå‘¨å›´é¡¶ç‚¹çš„å‰é©±é¡¶ç‚¹
            update(index);
        }
    }

    /**
     * æ›´æ–° index ä¸‹æ ‡é¡¶ç‚¹åˆ°å‘¨å›´é¡¶ç‚¹çš„è·ç¦»å’Œå‘¨å›´é¡¶ç‚¹çš„å‰é©±é¡¶ç‚¹
     * @param index
     */
    public void update(int index) {
        int len;
        for (int i = 0; i < matrix[index].length; i++) {
            // len å«ä¹‰æ˜¯ : å‡ºå‘é¡¶ç‚¹åˆ° index é¡¶ç‚¹çš„è·ç¦» + ä» index é¡¶ç‚¹åˆ° i é¡¶ç‚¹çš„è·ç¦»çš„å’Œ
            len = vv.getDis(index) + matrix[index][i];
            // å¦‚æœ i é¡¶ç‚¹æ²¡æœ‰è¢«è®¿é—®è¿‡ï¼Œå¹¶ä¸” len å°äºå‡ºå‘é¡¶ç‚¹åˆ° i é¡¶ç‚¹çš„è·ç¦»ï¼Œå°±éœ€è¦æ›´æ–°
            if (!vv.in(i) && len < vv.getDis(i)) {
                //æ›´æ–° i é¡¶ç‚¹çš„å‰é©±ä¸º index é¡¶ç‚¹
                vv.updatePre(i, index);
                //æ›´æ–°å‡ºå‘é¡¶ç‚¹åˆ° i é¡¶ç‚¹çš„è·ç¦»
                vv.updateDis(i, len);
            }
        }
    }
}

// å·²è®¿é—®é¡¶ç‚¹é›†åˆ
class VistedVertex {
    // è®°å½•å„ä¸ªé¡¶ç‚¹æ˜¯å¦è¢«è®¿é—®è¿‡ (1 è¡¨ç¤ºè®¿é—®è¿‡,0 æœªè®¿é—®)ä¼šåŠ¨æ€æ›´æ–°
    public int[] already_arr;
    // æ¯ä¸ªä¸‹æ ‡å¯¹åº”çš„å€¼ä¸ºå‰ä¸€ä¸ªé¡¶ç‚¹ä¸‹æ ‡, ä¼šåŠ¨æ€æ›´æ–°
    public int[] pre_visited;
    // è®°å½•å‡ºå‘é¡¶ç‚¹åˆ°å…¶ä»–æ‰€æœ‰é¡¶ç‚¹çš„è·ç¦»,æ¯”å¦‚ G ä¸ºå‡ºå‘é¡¶ç‚¹ï¼Œå°±ä¼šè®°å½• G åˆ°å…¶å®ƒé¡¶ç‚¹çš„è·ç¦»
    // ä¼šåŠ¨æ€æ›´æ–°ï¼Œæ±‚çš„æœ€çŸ­è·ç¦»å°±ä¼šå­˜æ”¾åˆ° dis
    public int[] dis;

    /**
     * æ„é€ å™¨
     * @param length é¡¶ç‚¹çš„ä¸ªæ•°
     * @param index å‡ºå‘é¡¶ç‚¹å¯¹åº”çš„ä¸‹æ ‡ eg: G -> 6
     */
    public VistedVertex(int length, int index) {
        this.already_arr = new int[length];
        this.pre_visited = new int[length];
        this.dis = new int[length];
        // åˆå§‹åŒ– dis æ•°ç»„
        Arrays.fill(dis, DijkstraAlgorithm.INF);
        // è®¾ç½®å‡ºå‘é¡¶ç‚¹å·²è¢«è®¿é—®è¿‡
        this.already_arr[index] = 1;
        // è®¾ç½®å‡ºå‘é¡¶ç‚¹çš„è®¿é—®è·ç¦»ä¸º 0
        this.dis[index] = 0;
    }

    /**
     *  åˆ¤æ–­ index é¡¶ç‚¹æ˜¯å¦è¢«è®¿é—®è¿‡
     * @param index é¡¶ç‚¹å¯¹åº”çš„ä¸‹æ ‡
     * @return è‹¥è®¿é—®è¿‡å°±è¿”å›trueï¼Œå¦åˆ™è¿”å›false
     */
    public boolean in(int index) {
        return already_arr[index] == 1;
    }

    /**
     * æ›´æ–°å‡ºå‘é¡¶ç‚¹åˆ° index é¡¶ç‚¹ä¹‹é—´çš„è·ç¦»
     * @param index é¡¶ç‚¹å¯¹åº”çš„ä¸‹æ ‡
     * @param len è·ç¦»
     */
    public void updateDis(int index, int len) {
        this.dis[index] = len;
    }

    /**
     * æ›´æ–° pre é¡¶ç‚¹çš„å‰é©±ä¸º index é¡¶ç‚¹
     * @param pre å½“å‰å‰é©±é¡¶ç‚¹å¯¹åº”çš„ä¸‹æ ‡
     * @param index è¦æ›´æ–°çš„å‰é©±é¡¶ç‚¹å¯¹åº”çš„ä¸‹æ ‡
     */
    public void updatePre(int pre, int index) {
        this.pre_visited[pre] = index;
    }

    // è¿”å›å‡ºå‘é¡¶ç‚¹åˆ° index é¡¶ç‚¹ä¹‹é—´çš„è·ç¦»
    public int getDis(int index) {
        return this.dis[index];
    }

    // ç»§ç»­é€‰æ‹©å¹¶è¿”å›æ–°çš„è®¿é—®é¡¶ç‚¹
    // æ¯”å¦‚è¿™é‡Œçš„ G å®Œåï¼Œå°±æ˜¯ A ç‚¹ä½œä¸ºæ–°çš„è®¿é—®é¡¶ç‚¹(æ³¨æ„ä¸æ˜¯å‡ºå‘é¡¶ç‚¹)
    public int updateArr() {
        int min = DijkstraAlgorithm.INF;
        int index = 0;
        for (int i = 0; i < already_arr.length; i++) {
            if (already_arr[i] == 0 && dis[i] < min) {
                min = dis[i];
                index = i;
            }
        }
        // æ›´æ–° index é¡¶ç‚¹å·²è¢«è®¿é—®è¿‡
        already_arr[index] = 1;
        return index;
    }

    // æ‰“å°æœ€åçš„ç»“æœ
    public void print(int index) {
        System.out.println("\nalready_arr==========================");
        for (int i : already_arr) {
            System.out.print(i + " ");
        }
        System.out.println("\npre_visited==========================");
        for (int i : pre_visited) {
            System.out.print(i + " ");
        }
        System.out.println("\ndis==================================");
        for (int i : dis) {
            System.out.print(i + " ");
        }
        System.out.println();
        char[] vertexs = {'A','B','C','D','E','F','G'};
        int count = 0;
        for (int i : dis) {
            if (i != DijkstraAlgorithm.INF) {
                System.out.print(vertexs[index] + "->" + vertexs[count] + "çš„è·ç¦»ï¼š" + i + "\t");
            } else {
                System.out.println("INF");
            }
            count++;
        }
    }
}
```



# å¼—æ´›ä¼Šå¾·ç®—æ³•

## ä»‹ç»

- å¼—æ´›ä¼Šå¾·ç®—æ³•ä¸­æ¯ä¸€ä¸ªé¡¶ç‚¹éƒ½æ˜¯ å‡ºå‘è®¿é—®ç‚¹ï¼Œæ‰€ä»¥éœ€è¦å°†æ¯ä¸€ä¸ªé¡¶ç‚¹çœ‹åšè¢«è®¿é—®é¡¶ç‚¹ï¼Œ æ±‚å‡ºä»æ¯ä¸€ä¸ªé¡¶ç‚¹åˆ°å…¶ä»–é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„



## åˆ†æ

![image-20220921224903523](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220921224903523.png)



## åº”ç”¨å®ä¾‹

![image-20220921224937299](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220921224937299.png)

## å›¾è§£

![image-20220923192415291](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220923192415291.png)

![image-20220923192443380](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220923192443380.png)

![image-20220923192459657](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220923192459657.png)

5. æ›´æ¢ä¸­é—´é¡¶ç‚¹ï¼Œå¾ªç¯æ‰§è¡Œæ“ä½œï¼Œç›´åˆ°æ‰€æœ‰é¡¶ç‚¹éƒ½ä½œä¸ºä¸­é—´é¡¶ç‚¹æ›´æ–°åï¼Œè®¡ç®—ç»“æŸ

è§„å¾‹ï¼š

- è‹¥ä»¥Dä¸ºä¸­é—´é¡¶ç‚¹ï¼Œåˆ™å¾ªç¯ä¼šä»disçŸ©é˜µä¸­æ‰¾ (A,B,C,E,F,G)-Dçš„è·ç¦» + D-(B,C,E,F,G)çš„è·ç¦»æ¥æ›´æ–°(A,B,C,E,F,G)-(A,B,C,E,F,G)çš„è·ç¦»



```java
package com.kcs.floyd;

import java.util.Arrays;

/**
 * @author Kcs 2022/9/23
 */
public class FloydAlgorithm {
    // ä¸è¿é€š
    public static final int INF = 65535;

    public static void main(String[] args) {
        char[] vertexs = {'A', 'B', 'C', 'D', 'E', 'F', 'G'};
        int[][] matrix = new int[vertexs.length][vertexs.length];
        matrix[0] = new int[]{0, 5, 7, INF, INF, INF, 2};
        matrix[1] = new int[]{5, 0, INF, 9, INF, INF, 3};
        matrix[2] = new int[]{7, INF, 0, INF, 8, INF, INF};
        matrix[3] = new int[]{INF, 9, INF, 0, INF, 4, INF};
        matrix[4] = new int[]{INF, INF, 8, INF, 0, 5, 4};
        matrix[5] = new int[]{INF, INF, INF, 4, 5, 0, 6};
        matrix[6] = new int[]{2, 3, INF, INF, 4, 6, 0};

        FGraph graph = new FGraph(matrix, vertexs);
        graph.floyd();
        graph.show();
    }
}

/**
 * åˆ›å»ºå›¾
 */
class FGraph {
    /**
     * é¡¶ç‚¹æ•°ç»„
     */
    private char[] vertex;
    /**
     * ä¿å­˜å„ä¸ªé¡¶ç‚¹åˆ°å…¶ä»–é¡¶ç‚¹ä¹‹é—´çš„è·ç¦»ï¼ˆæœ€åçš„ç»“æœä¹Ÿä¼šä¿å­˜åœ¨è¯¥æ•°ç»„ä¸­ï¼‰
     */
    private int[][] dis;
    /**
     * ä¿å­˜åˆ°è¾¾ç›®æ ‡é¡¶ç‚¹çš„å‰é©±é¡¶ç‚¹
     */
    private int[][] pre;

    /**
     * æ„é€ å™¨
     * @param matrix é‚»è¿‘çŸ©é˜µ
     * @param vertex é¡¶ç‚¹æ•°ç»„
     */
    public FGraph(int[][] matrix, char[] vertex) {
        this.vertex = vertex;
        this.dis = matrix;
        this.pre = new int[vertex.length][vertex.length];
        // å¯¹preæ•°ç»„åˆå§‹åŒ–ï¼Œå­˜æ”¾çš„æ˜¯å‰é©±é¡¶ç‚¹ä¸‹æ ‡
        for (int i = 0; i < vertex.length; i++) {
            // åˆšå¼€å§‹çš„å‰é©±é¡¶ç‚¹æ˜¯å®ƒè‡ªå·±
            Arrays.fill(pre[i], i);
        }
    }

    /**
     * å¼—æ´›ä¼Šå¾·ç®—æ³•
     */
    public void floyd() {
        // ä¿å­˜é¡¶ç‚¹ä¹‹é—´çš„è·ç¦»
        int len = 0;
        // ä»ä¸­é—´é¡¶ç‚¹éå†ï¼Œkè¡¨ç¤ºä¸­é—´é¡¶ç‚¹çš„ä¸‹æ ‡ [A, B, C, D, E, F, G]
        for (int k = 0; k < dis.length; k++) {
            // ä»é¡¶ç‚¹iå¼€å§‹å‡ºå‘ï¼Œiè¡¨ç¤ºèµ·ç‚¹ [A, B, C, D, E, F, G]
            for (int i = 0; i < dis.length; i++) {
                // jè¡¨ç¤ºç»ˆç‚¹ [A, B, C, D, E, F, G]
                for (int j = 0; j < dis.length; j++) {
                    // lenè¡¨ç¤ºä» i é¡¶ç‚¹å‡ºå‘ï¼Œç»è¿‡ k ä¸­é—´é¡¶ç‚¹ï¼Œåˆ°è¾¾ j ç»ˆç‚¹
                    // å³ i--k--j çš„è·ç¦»
                    len = dis[i][k] + dis[k][j];
                    // i--k--j çš„è·ç¦» < i--j çš„è·ç¦»
                    if (len < dis[i][j]) {
                        // æ›´æ–°æœ€çŸ­è·¯å¾„
                        dis[i][j] = len;
                        // æ›´æ–°å‰é©±é¡¶ç‚¹
                        pre[i][j] = pre[k][j];
                    }
                }
            }
        }
    }

    /**
     * æ˜¾ç¤ºpreæ•°ç»„å’Œdisæ•°ç»„
     */
    public void show() {
        System.out.println("pre================================");
        for (int[] link : this.pre) {
            for (int v : link) {
                System.out.print(this.vertex[v] + "\t");
            }
            System.out.println();
        }
        System.out.println("dis================================");
        for (int i = 0; i < this.vertex.length; i++) {
            for (int j = 0; j < this.vertex.length; j++) {
                System.out.print(this.vertex[i] + "->" + this.vertex[j] + " = " + dis[i][j] + "\t");
            }
            System.out.println();
        }
    }
}
```



# é©¬è¸æ£‹ç›˜ç®—æ³•

- å°†é©¬éšæœºæ”¾åœ¨å›½é™…è±¡æ£‹çš„8Ã—8æ£‹ç›˜ Board[0ï½7][0ï½7]çš„æŸä¸ªæ–¹æ ¼ä¸­ï¼Œé©¬æŒ‰èµ°æ£‹ è§„åˆ™(é©¬èµ°æ—¥å­—)è¿›è¡Œç§»åŠ¨ã€‚è¦æ±‚æ¯ä¸ªæ–¹æ ¼åª è¿›å…¥ä¸€æ¬¡ï¼Œèµ°éæ£‹ç›˜ä¸Šå…¨éƒ¨64ä¸ªæ–¹æ ¼

![image-20220921225030399](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2767/image-20220921225030399.png)





```java
package com.kcs.horsestepboard;

import java.awt.*;
import java.util.ArrayList;
import java.util.Comparator;

/**
 * @author Kcs 2022/9/23
 */
class HorseChessBoard {

    /**
     * åˆ—
     */
    private static int X;
    /**
     * è¡Œ
     */
    private static int Y;

    /**
     * æ•°ç»„æ¥è¡¨ç¤ºæ£‹ç›˜çš„ä½ç½®æ˜¯å¦è¢«è®¿é—®è¿‡
     */
    private static boolean visited[];
    /**
     * ä½¿ç”¨ä¸€ä¸ªå±æ€§æ¥è¡¨ç¤ºæ£‹ç›˜æ˜¯å¦æ‰€æœ‰çš„ä½ç½®éƒ½è¢«è®¿é—®,é»˜è®¤false
     */
    private static boolean finished;
    /**ç”¨æ¥ç»Ÿè®¡æ¬¡æ•°çš„
     * 
     */
    static int count = 0;

    public static void main(String[] args) {

        X = 6;
        Y = 6;
        //é©¬ä»1å¼€å§‹
        int row = 1;
        //é©¬ä»1å¼€å§‹ç¼–å·
        int column = 1;
        //åˆå§‹å€¼éƒ½ä¸ºfalse
        visited = new boolean[X * Y];
        int[][] chessborad = new int[X][Y];
        //      æµ‹è¯•ä¸€ä¸‹è€—æ—¶
        long start = System.currentTimeMillis();
        travelChessBorad(chessborad, 1, 2, 1);
        //æ‰“å°å‡ºæ¥æ¯«ç§’
        long end = System.currentTimeMillis();
        System.out.println((end - start));

        //è¾“å‡ºæ£‹ç›˜
        for (int[] rows : chessborad) {
            System.out.println();
            for (int step : rows) {
                System.out.print(step + "\t");
            }
        }
        System.out.println("å¾ªç¯æ¬¡æ•°" + count);
    }

    /**
     * éå†æ£‹ç›˜ç”¨æ¥æ‰¾ç¬¦åˆçš„æƒ…å†µ
     * @param chessborad å½“å‰åœ¨æ£‹ç›˜çš„ä½ç½®
     * @param row è¡Œ
     * @param column åˆ—
     * @param step æ­¥æ•°
     */
    public static void travelChessBorad(int[][] chessborad, int row, int column, int step) {
        //1.èµ°å®Œæ£‹ç›˜
        //æŠŠæ¯ä¸€ä¸ªæ–¹æ ¼å½“æˆä¸‹ä¸€ä¸ªæ•°å­—
        chessborad[row][column] = step;
        //row=4 X=8,column=4
        //visitedæ ‡è®°è¯¥ä½ç½®å·²ç»è¢«è®¿é—®
        //è¡¨ç¤ºé©¬å„¿ä»è¯¥ç‚¹å¼€å§‹å‡ºå‘
        visited[row * X + column] = true;

        // è·å–å½“å‰ä½ç½®å¯ä»¥èµ°çš„ä¸‹ä¸€ä¸ªé›†åˆ    æŠŠæ£‹ç›˜ä¼ å…¥æˆ‘ä»¬éœ€è¦çš„å‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­æ˜¯å¦ç¬¦åˆæ¡ä»¶
        ArrayList<Point> ps = next(new Point(column, row));
        
        // å¯¹ä»–çš„ä¸‹ä¸€æ­¥çš„æ¬¡æ•°è¿›è¡Œéé€’å‡æ’åº
        sort(ps);

        //éå†ps
        while (!ps.isEmpty()) {
            //å¯ä»¥èµ°çš„ä½ç½®çš„å€¼å…¨éƒ¨ä¸º0ï¼Œèµ°äº†ä¹‹åvisited[row][column]=true;
            Point p = ps.remove(0);


            //è¯´æ˜è¿˜æ²¡æœ‰è¢«è®¿é—®
            if (!visited[p.y * X + p.x]) {
                //è®¿é—®ä¸‹ä¸€ä¸ªç‚¹
                travelChessBorad(chessborad, p.y, p.x, step + 1);
                count++;
            }
        }

        //2.æ²¡æœ‰èµ°å®Œæ£‹ç›˜
        //åˆ¤æ–­é©¬å„¿æ˜¯å¦å®Œæˆäº†ä»»åŠ¡ï¼Œä½¿ç”¨stepå’Œåº”è¯¥æ­¥æ•°æ¯”è¾ƒ
        // step<X*Yæ˜¯å¦èµ°å®Œæœ‰ä¸¤ç§æƒ…å†µï¼š1ï¼šæ£‹ç›˜æ²¡æœ‰èµ°å®Œ ï¼Œ2ï¼š æ­£å¤„åœ¨ä¸€ä¸ªå›æº¯çš„è¿‡ç¨‹
        if (step < X * Y && !finished) {

            chessborad[row][column] = 0;
            visited[row * X + column] = false;
        } else {
            finished = true;
        }
    }


    /**
     * å½“å‰çš„è¿™ä¸ªç‚¹ç”±è‡ªå·±æ¥å†³å®šï¼Œåªè¦ç¬¦åˆè¦æ±‚å³å¯ã€‚
     * @param currentPoint å½“å‰ç‚¹
     * @return point
     */
    public static ArrayList<Point> next(Point currentPoint) {
        //        åˆ›å»ºä¸€ä¸ªArrayList
        ArrayList<Point> ps = new ArrayList<>();
        //åˆ›å»ºä¸€ä¸ªPoint
        Point p1 = new Point();
        //è¡¨ç¤ºé©¬å„¿å¯ä»¥èµ°,å›¾ä¸­çš„æ•°è¡¨ç¤ºæœ€å¤šçš„é©¬å¯ä»¥èµ°çš„ä¸ªæ•°ï¼Œ0ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6ï¼Œ7

        //è¡¨ç¤ºé©¬å„¿å¯ä»¥èµ°5è¿™ä¸ªä½ç½®
        //ï¼ˆæ€»å…±å…«ä¸ªæ•°å¯ä»¥èµ°åªè¦ç¬¦åˆç¨ä½œå°±å¯ä»¥åŠ å…¥åˆ°è¿™ä¸ªæ•°ç»„ä¸­ï¼‰
        if ((p1.x = currentPoint.x - 2) >= 0 && (p1.y = currentPoint.y - 1) >= 0) {
            //ç¬¦åˆè¦æ±‚æŠŠè¿™ä¸ªç‚¹åŠ å…¥åˆ°æ•°ç»„ä¸­
            ps.add(new Point(p1));
        }
        //0
        if ((p1.x = currentPoint.x + 2) < X && (p1.y = currentPoint.y - 1) >= 0) {
            ps.add(new Point(p1));
        }

        //è¡¨ç¤ºèµ°6è¿™ä¸ªä½ç½®ï¼Œå¦‚æœx,yä¸å‡ºè¾¹ç•Œå°±å¯ä»¥
        if ((p1.x = currentPoint.x - 1) >= 0 && (p1.y = currentPoint.y - 2) >= 0) {

            ps.add(new Point(p1));
        }
        //è¡¨ç¤ºèµ°7è¿™ä¸ªä½ç½®
        if ((p1.x = currentPoint.x + 1) < X && (p1.y = currentPoint.y - 2) >= 0) {
            ps.add(new Point(p1));
        }

        //1è¿™ä¸ªä½ç½®
        if ((p1.x = currentPoint.x + 2) < X && (p1.y = currentPoint.y + 1) < Y) {
            ps.add(new Point(p1));
        }
        //4

        if ((p1.x = currentPoint.x - 2) >= 0 && (p1.y = currentPoint.y + 1) < Y) {
            //ç¬¦åˆè¦æ±‚æŠŠè¿™ä¸ªç‚¹åŠ å…¥åˆ°æ•°ç»„ä¸­
            ps.add(new Point(p1));
        }

        //3
        if ((p1.x = currentPoint.x - 1) >= 0 && (p1.y = currentPoint.y + 2) < Y) {
            ps.add(new Point(p1));
        }
        //2
        if ((p1.x = currentPoint.x + 1) < X && (p1.y = currentPoint.y + 2) < Y) {
            ps.add(new Point(p1));
        }
        //è¿”å›ç‚¹
        return ps;
    }

    /**
     * å‡å°‘å›æº¯çš„æ¬¡æ•°
     * å¯¹è¿™ä¸ªç®—æ³•çš„å›æº¯çš„æ—¶å€™è¿›è¡Œ éé€’å‡æ’åºï¼ˆ1ï¼Œ2ï¼Œ2ï¼Œ3ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ5ï¼‰å¯ä»¥æœ‰é‡å¤çš„æ•°å­—
     */
    public static void sort(ArrayList<Point> ps) {
        ps.sort(new Comparator<Point>() {
            @Override
            public int compare(Point o1, Point o2) {
                //è·å–o1çš„ä¸‹ä¸€æ­¥çš„æ‰€æœ‰çš„ä½ç½®ä¸ªæ•°
                int count1 = next(o1).size();
                int count2 = next(o2).size();
                if (count1 < count2) {
                    return -1;
                } else if (count1 == count2) {
                    return 0;
                } else {
                    return -1;
                }
            }
        });
    }
}
```













